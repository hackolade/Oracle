"use strict";var QL=Object.defineProperty;var c=(i,e)=>QL(i,"name",{value:e,configurable:!0});var b=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var lT=b((Pn,li)=>{(function(){var i,e="4.17.21",t=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",T="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",E=500,S="__lodash_placeholder__",R=1,d=2,L=4,w=1,O=2,P=1,g=2,x=4,I=8,G=16,H=32,W=64,ae=128,ue=256,pe=512,Ye=30,Ge="...",Qt=800,Br=16,xs=1,Pr=2,bi=3,bt=1/0,or=9007199254740991,Fs=17976931348623157e292,vi=NaN,Yr=4294967295,_m=Yr-1,am=Yr>>>1,Tm=[["ary",ae],["bind",P],["bindKey",g],["curry",I],["curryRight",G],["flip",pe],["partial",H],["partialRight",W],["rearg",ue]],nn="[object Arguments]",ki="[object Array]",cm="[object AsyncFunction]",Hn="[object Boolean]",qn="[object Date]",lm="[object DOMException]",Gi="[object Error]",Hi="[object Function]",$E="[object GeneratorFunction]",pr="[object Map]",Kn="[object Number]",um="[object Null]",qr="[object Object]",eh="[object Promise]",Em="[object Proxy]",Wn="[object RegExp]",Rr="[object Set]",zn="[object String]",qi="[object Symbol]",hm="[object Undefined]",Xn="[object WeakMap]",Nm="[object WeakSet]",Qn="[object ArrayBuffer]",on="[object DataView]",q_="[object Float32Array]",K_="[object Float64Array]",W_="[object Int8Array]",z_="[object Int16Array]",X_="[object Int32Array]",Q_="[object Uint8Array]",J_="[object Uint8ClampedArray]",j_="[object Uint16Array]",Z_="[object Uint32Array]",Sm=/\b__p \+= '';/g,fm=/\b(__p \+=) '' \+/g,Am=/(__e\(.*?\)|\b__t\)) \+\n'';/g,th=/&(?:amp|lt|gt|quot|#39);/g,rh=/[&<>"']/g,dm=RegExp(th.source),Pm=RegExp(rh.source),pm=/<%-([\s\S]+?)%>/g,Rm=/<%([\s\S]+?)%>/g,sh=/<%=([\s\S]+?)%>/g,mm=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Im=/^\w*$/,Dm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$_=/[\\^$.*+?()[\]{}|]/g,Cm=RegExp($_.source),ea=/^\s+/,gm=/\s/,Om=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Lm=/\{\n\/\* \[wrapped with (.+)\] \*/,ym=/,? & /,wm=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bm=/[()=,{}\[\]\/\s]/,Ym=/\\(\\)?/g,Um=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nh=/\w*$/,Mm=/^[-+]0x[0-9a-f]+$/i,Vm=/^0b[01]+$/i,xm=/^\[object .+?Constructor\]$/,Fm=/^0o[0-7]+$/i,bm=/^(?:0|[1-9]\d*)$/,vm=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ki=/($^)/,km=/['\n\r\u2028\u2029\\]/g,Wi="\\ud800-\\udfff",Gm="\\u0300-\\u036f",Hm="\\ufe20-\\ufe2f",qm="\\u20d0-\\u20ff",ih=Gm+Hm+qm,oh="\\u2700-\\u27bf",_h="a-z\\xdf-\\xf6\\xf8-\\xff",Km="\\xac\\xb1\\xd7\\xf7",Wm="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zm="\\u2000-\\u206f",Xm=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ah="A-Z\\xc0-\\xd6\\xd8-\\xde",Th="\\ufe0e\\ufe0f",ch=Km+Wm+zm+Xm,ta="['\u2019]",Qm="["+Wi+"]",lh="["+ch+"]",zi="["+ih+"]",uh="\\d+",Jm="["+oh+"]",Eh="["+_h+"]",hh="[^"+Wi+ch+uh+oh+_h+ah+"]",ra="\\ud83c[\\udffb-\\udfff]",jm="(?:"+zi+"|"+ra+")",Nh="[^"+Wi+"]",sa="(?:\\ud83c[\\udde6-\\uddff]){2}",na="[\\ud800-\\udbff][\\udc00-\\udfff]",_n="["+ah+"]",Sh="\\u200d",fh="(?:"+Eh+"|"+hh+")",Zm="(?:"+_n+"|"+hh+")",Ah="(?:"+ta+"(?:d|ll|m|re|s|t|ve))?",dh="(?:"+ta+"(?:D|LL|M|RE|S|T|VE))?",Ph=jm+"?",ph="["+Th+"]?",$m="(?:"+Sh+"(?:"+[Nh,sa,na].join("|")+")"+ph+Ph+")*",eI="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",tI="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Rh=ph+Ph+$m,rI="(?:"+[Jm,sa,na].join("|")+")"+Rh,sI="(?:"+[Nh+zi+"?",zi,sa,na,Qm].join("|")+")",nI=RegExp(ta,"g"),iI=RegExp(zi,"g"),ia=RegExp(ra+"(?="+ra+")|"+sI+Rh,"g"),oI=RegExp([_n+"?"+Eh+"+"+Ah+"(?="+[lh,_n,"$"].join("|")+")",Zm+"+"+dh+"(?="+[lh,_n+fh,"$"].join("|")+")",_n+"?"+fh+"+"+Ah,_n+"+"+dh,tI,eI,uh,rI].join("|"),"g"),_I=RegExp("["+Sh+Wi+ih+Th+"]"),aI=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,TI=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],cI=-1,Fe={};Fe[q_]=Fe[K_]=Fe[W_]=Fe[z_]=Fe[X_]=Fe[Q_]=Fe[J_]=Fe[j_]=Fe[Z_]=!0,Fe[nn]=Fe[ki]=Fe[Qn]=Fe[Hn]=Fe[on]=Fe[qn]=Fe[Gi]=Fe[Hi]=Fe[pr]=Fe[Kn]=Fe[qr]=Fe[Wn]=Fe[Rr]=Fe[zn]=Fe[Xn]=!1;var Ue={};Ue[nn]=Ue[ki]=Ue[Qn]=Ue[on]=Ue[Hn]=Ue[qn]=Ue[q_]=Ue[K_]=Ue[W_]=Ue[z_]=Ue[X_]=Ue[pr]=Ue[Kn]=Ue[qr]=Ue[Wn]=Ue[Rr]=Ue[zn]=Ue[qi]=Ue[Q_]=Ue[J_]=Ue[j_]=Ue[Z_]=!0,Ue[Gi]=Ue[Hi]=Ue[Xn]=!1;var lI={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},uI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},EI={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},hI={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},NI=parseFloat,SI=parseInt,mh=typeof global=="object"&&global&&global.Object===Object&&global,fI=typeof self=="object"&&self&&self.Object===Object&&self,ut=mh||fI||Function("return this")(),oa=typeof Pn=="object"&&Pn&&!Pn.nodeType&&Pn,bs=oa&&typeof li=="object"&&li&&!li.nodeType&&li,Ih=bs&&bs.exports===oa,_a=Ih&&mh.process,_r=function(){try{var D=bs&&bs.require&&bs.require("util").types;return D||_a&&_a.binding&&_a.binding("util")}catch{}}(),Dh=_r&&_r.isArrayBuffer,Ch=_r&&_r.isDate,gh=_r&&_r.isMap,Oh=_r&&_r.isRegExp,Lh=_r&&_r.isSet,yh=_r&&_r.isTypedArray;function Jt(D,Y,y){switch(y.length){case 0:return D.call(Y);case 1:return D.call(Y,y[0]);case 2:return D.call(Y,y[0],y[1]);case 3:return D.call(Y,y[0],y[1],y[2])}return D.apply(Y,y)}c(Jt,"apply");function AI(D,Y,y,z){for(var oe=-1,me=D==null?0:D.length;++oe<me;){var _t=D[oe];Y(z,_t,y(_t),D)}return z}c(AI,"arrayAggregator");function ar(D,Y){for(var y=-1,z=D==null?0:D.length;++y<z&&Y(D[y],y,D)!==!1;);return D}c(ar,"arrayEach");function dI(D,Y){for(var y=D==null?0:D.length;y--&&Y(D[y],y,D)!==!1;);return D}c(dI,"arrayEachRight");function wh(D,Y){for(var y=-1,z=D==null?0:D.length;++y<z;)if(!Y(D[y],y,D))return!1;return!0}c(wh,"arrayEvery");function Es(D,Y){for(var y=-1,z=D==null?0:D.length,oe=0,me=[];++y<z;){var _t=D[y];Y(_t,y,D)&&(me[oe++]=_t)}return me}c(Es,"arrayFilter");function Xi(D,Y){var y=D==null?0:D.length;return!!y&&an(D,Y,0)>-1}c(Xi,"arrayIncludes");function aa(D,Y,y){for(var z=-1,oe=D==null?0:D.length;++z<oe;)if(y(Y,D[z]))return!0;return!1}c(aa,"arrayIncludesWith");function He(D,Y){for(var y=-1,z=D==null?0:D.length,oe=Array(z);++y<z;)oe[y]=Y(D[y],y,D);return oe}c(He,"arrayMap");function hs(D,Y){for(var y=-1,z=Y.length,oe=D.length;++y<z;)D[oe+y]=Y[y];return D}c(hs,"arrayPush");function Ta(D,Y,y,z){var oe=-1,me=D==null?0:D.length;for(z&&me&&(y=D[++oe]);++oe<me;)y=Y(y,D[oe],oe,D);return y}c(Ta,"arrayReduce");function PI(D,Y,y,z){var oe=D==null?0:D.length;for(z&&oe&&(y=D[--oe]);oe--;)y=Y(y,D[oe],oe,D);return y}c(PI,"arrayReduceRight");function ca(D,Y){for(var y=-1,z=D==null?0:D.length;++y<z;)if(Y(D[y],y,D))return!0;return!1}c(ca,"arraySome");var pI=la("length");function RI(D){return D.split("")}c(RI,"asciiToArray");function mI(D){return D.match(wm)||[]}c(mI,"asciiWords");function Bh(D,Y,y){var z;return y(D,function(oe,me,_t){if(Y(oe,me,_t))return z=me,!1}),z}c(Bh,"baseFindKey");function Qi(D,Y,y,z){for(var oe=D.length,me=y+(z?1:-1);z?me--:++me<oe;)if(Y(D[me],me,D))return me;return-1}c(Qi,"baseFindIndex");function an(D,Y,y){return Y===Y?MI(D,Y,y):Qi(D,Yh,y)}c(an,"baseIndexOf");function II(D,Y,y,z){for(var oe=y-1,me=D.length;++oe<me;)if(z(D[oe],Y))return oe;return-1}c(II,"baseIndexOfWith");function Yh(D){return D!==D}c(Yh,"baseIsNaN");function Uh(D,Y){var y=D==null?0:D.length;return y?Ea(D,Y)/y:vi}c(Uh,"baseMean");function la(D){return function(Y){return Y==null?i:Y[D]}}c(la,"baseProperty");function ua(D){return function(Y){return D==null?i:D[Y]}}c(ua,"basePropertyOf");function Mh(D,Y,y,z,oe){return oe(D,function(me,_t,Be){y=z?(z=!1,me):Y(y,me,_t,Be)}),y}c(Mh,"baseReduce");function DI(D,Y){var y=D.length;for(D.sort(Y);y--;)D[y]=D[y].value;return D}c(DI,"baseSortBy");function Ea(D,Y){for(var y,z=-1,oe=D.length;++z<oe;){var me=Y(D[z]);me!==i&&(y=y===i?me:y+me)}return y}c(Ea,"baseSum");function ha(D,Y){for(var y=-1,z=Array(D);++y<D;)z[y]=Y(y);return z}c(ha,"baseTimes");function CI(D,Y){return He(Y,function(y){return[y,D[y]]})}c(CI,"baseToPairs");function Vh(D){return D&&D.slice(0,vh(D)+1).replace(ea,"")}c(Vh,"baseTrim");function jt(D){return function(Y){return D(Y)}}c(jt,"baseUnary");function Na(D,Y){return He(Y,function(y){return D[y]})}c(Na,"baseValues");function Jn(D,Y){return D.has(Y)}c(Jn,"cacheHas");function xh(D,Y){for(var y=-1,z=D.length;++y<z&&an(Y,D[y],0)>-1;);return y}c(xh,"charsStartIndex");function Fh(D,Y){for(var y=D.length;y--&&an(Y,D[y],0)>-1;);return y}c(Fh,"charsEndIndex");function gI(D,Y){for(var y=D.length,z=0;y--;)D[y]===Y&&++z;return z}c(gI,"countHolders");var OI=ua(lI),LI=ua(uI);function yI(D){return"\\"+hI[D]}c(yI,"escapeStringChar");function wI(D,Y){return D==null?i:D[Y]}c(wI,"getValue");function Tn(D){return _I.test(D)}c(Tn,"hasUnicode");function BI(D){return aI.test(D)}c(BI,"hasUnicodeWord");function YI(D){for(var Y,y=[];!(Y=D.next()).done;)y.push(Y.value);return y}c(YI,"iteratorToArray");function Sa(D){var Y=-1,y=Array(D.size);return D.forEach(function(z,oe){y[++Y]=[oe,z]}),y}c(Sa,"mapToArray");function bh(D,Y){return function(y){return D(Y(y))}}c(bh,"overArg");function Ns(D,Y){for(var y=-1,z=D.length,oe=0,me=[];++y<z;){var _t=D[y];(_t===Y||_t===S)&&(D[y]=S,me[oe++]=y)}return me}c(Ns,"replaceHolders");function Ji(D){var Y=-1,y=Array(D.size);return D.forEach(function(z){y[++Y]=z}),y}c(Ji,"setToArray");function UI(D){var Y=-1,y=Array(D.size);return D.forEach(function(z){y[++Y]=[z,z]}),y}c(UI,"setToPairs");function MI(D,Y,y){for(var z=y-1,oe=D.length;++z<oe;)if(D[z]===Y)return z;return-1}c(MI,"strictIndexOf");function VI(D,Y,y){for(var z=y+1;z--;)if(D[z]===Y)return z;return z}c(VI,"strictLastIndexOf");function cn(D){return Tn(D)?FI(D):pI(D)}c(cn,"stringSize");function mr(D){return Tn(D)?bI(D):RI(D)}c(mr,"stringToArray");function vh(D){for(var Y=D.length;Y--&&gm.test(D.charAt(Y)););return Y}c(vh,"trimmedEndIndex");var xI=ua(EI);function FI(D){for(var Y=ia.lastIndex=0;ia.test(D);)++Y;return Y}c(FI,"unicodeSize");function bI(D){return D.match(ia)||[]}c(bI,"unicodeToArray");function vI(D){return D.match(oI)||[]}c(vI,"unicodeWords");var kI=c(function D(Y){Y=Y==null?ut:Ss.defaults(ut.Object(),Y,Ss.pick(ut,TI));var y=Y.Array,z=Y.Date,oe=Y.Error,me=Y.Function,_t=Y.Math,Be=Y.Object,fa=Y.RegExp,GI=Y.String,Tr=Y.TypeError,ji=y.prototype,HI=me.prototype,ln=Be.prototype,Zi=Y["__core-js_shared__"],$i=HI.toString,Oe=ln.hasOwnProperty,qI=0,kh=function(){var r=/[^.]+$/.exec(Zi&&Zi.keys&&Zi.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),eo=ln.toString,KI=$i.call(Be),WI=ut._,zI=fa("^"+$i.call(Oe).replace($_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),to=Ih?Y.Buffer:i,fs=Y.Symbol,ro=Y.Uint8Array,Gh=to?to.allocUnsafe:i,so=bh(Be.getPrototypeOf,Be),Hh=Be.create,qh=ln.propertyIsEnumerable,no=ji.splice,Kh=fs?fs.isConcatSpreadable:i,jn=fs?fs.iterator:i,vs=fs?fs.toStringTag:i,io=function(){try{var r=Ks(Be,"defineProperty");return r({},"",{}),r}catch{}}(),XI=Y.clearTimeout!==ut.clearTimeout&&Y.clearTimeout,QI=z&&z.now!==ut.Date.now&&z.now,JI=Y.setTimeout!==ut.setTimeout&&Y.setTimeout,oo=_t.ceil,_o=_t.floor,Aa=Be.getOwnPropertySymbols,jI=to?to.isBuffer:i,Wh=Y.isFinite,ZI=ji.join,$I=bh(Be.keys,Be),at=_t.max,It=_t.min,eD=z.now,tD=Y.parseInt,zh=_t.random,rD=ji.reverse,da=Ks(Y,"DataView"),Zn=Ks(Y,"Map"),Pa=Ks(Y,"Promise"),un=Ks(Y,"Set"),$n=Ks(Y,"WeakMap"),ei=Ks(Be,"create"),ao=$n&&new $n,En={},sD=Ws(da),nD=Ws(Zn),iD=Ws(Pa),oD=Ws(un),_D=Ws($n),To=fs?fs.prototype:i,ti=To?To.valueOf:i,Xh=To?To.toString:i;function N(r){if(Qe(r)&&!_e(r)&&!(r instanceof Ne)){if(r instanceof cr)return r;if(Oe.call(r,"__wrapped__"))return QN(r)}return new cr(r)}c(N,"lodash");var hn=function(){function r(){}return c(r,"object"),function(s){if(!We(s))return{};if(Hh)return Hh(s);r.prototype=s;var a=new r;return r.prototype=i,a}}();function co(){}c(co,"baseLodash");function cr(r,s){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=i}c(cr,"LodashWrapper"),N.templateSettings={escape:pm,evaluate:Rm,interpolate:sh,variable:"",imports:{_:N}},N.prototype=co.prototype,N.prototype.constructor=N,cr.prototype=hn(co.prototype),cr.prototype.constructor=cr;function Ne(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Yr,this.__views__=[]}c(Ne,"LazyWrapper");function aD(){var r=new Ne(this.__wrapped__);return r.__actions__=vt(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=vt(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=vt(this.__views__),r}c(aD,"lazyClone");function TD(){if(this.__filtered__){var r=new Ne(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}c(TD,"lazyReverse");function cD(){var r=this.__wrapped__.value(),s=this.__dir__,a=_e(r),u=s<0,h=a?r.length:0,f=RC(0,h,this.__views__),A=f.start,p=f.end,C=p-A,M=u?p:A-1,V=this.__iteratees__,v=V.length,K=0,Q=It(C,this.__takeCount__);if(!a||!u&&h==C&&Q==C)return AN(r,this.__actions__);var te=[];e:for(;C--&&K<Q;){M+=s;for(var ce=-1,re=r[M];++ce<v;){var he=V[ce],fe=he.iteratee,er=he.type,Mt=fe(re);if(er==Pr)re=Mt;else if(!Mt){if(er==xs)continue e;break e}}te[K++]=re}return te}c(cD,"lazyValue"),Ne.prototype=hn(co.prototype),Ne.prototype.constructor=Ne;function ks(r){var s=-1,a=r==null?0:r.length;for(this.clear();++s<a;){var u=r[s];this.set(u[0],u[1])}}c(ks,"Hash");function lD(){this.__data__=ei?ei(null):{},this.size=0}c(lD,"hashClear");function uD(r){var s=this.has(r)&&delete this.__data__[r];return this.size-=s?1:0,s}c(uD,"hashDelete");function ED(r){var s=this.__data__;if(ei){var a=s[r];return a===l?i:a}return Oe.call(s,r)?s[r]:i}c(ED,"hashGet");function hD(r){var s=this.__data__;return ei?s[r]!==i:Oe.call(s,r)}c(hD,"hashHas");function ND(r,s){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=ei&&s===i?l:s,this}c(ND,"hashSet"),ks.prototype.clear=lD,ks.prototype.delete=uD,ks.prototype.get=ED,ks.prototype.has=hD,ks.prototype.set=ND;function Kr(r){var s=-1,a=r==null?0:r.length;for(this.clear();++s<a;){var u=r[s];this.set(u[0],u[1])}}c(Kr,"ListCache");function SD(){this.__data__=[],this.size=0}c(SD,"listCacheClear");function fD(r){var s=this.__data__,a=lo(s,r);if(a<0)return!1;var u=s.length-1;return a==u?s.pop():no.call(s,a,1),--this.size,!0}c(fD,"listCacheDelete");function AD(r){var s=this.__data__,a=lo(s,r);return a<0?i:s[a][1]}c(AD,"listCacheGet");function dD(r){return lo(this.__data__,r)>-1}c(dD,"listCacheHas");function PD(r,s){var a=this.__data__,u=lo(a,r);return u<0?(++this.size,a.push([r,s])):a[u][1]=s,this}c(PD,"listCacheSet"),Kr.prototype.clear=SD,Kr.prototype.delete=fD,Kr.prototype.get=AD,Kr.prototype.has=dD,Kr.prototype.set=PD;function Wr(r){var s=-1,a=r==null?0:r.length;for(this.clear();++s<a;){var u=r[s];this.set(u[0],u[1])}}c(Wr,"MapCache");function pD(){this.size=0,this.__data__={hash:new ks,map:new(Zn||Kr),string:new ks}}c(pD,"mapCacheClear");function RD(r){var s=Io(this,r).delete(r);return this.size-=s?1:0,s}c(RD,"mapCacheDelete");function mD(r){return Io(this,r).get(r)}c(mD,"mapCacheGet");function ID(r){return Io(this,r).has(r)}c(ID,"mapCacheHas");function DD(r,s){var a=Io(this,r),u=a.size;return a.set(r,s),this.size+=a.size==u?0:1,this}c(DD,"mapCacheSet"),Wr.prototype.clear=pD,Wr.prototype.delete=RD,Wr.prototype.get=mD,Wr.prototype.has=ID,Wr.prototype.set=DD;function Gs(r){var s=-1,a=r==null?0:r.length;for(this.__data__=new Wr;++s<a;)this.add(r[s])}c(Gs,"SetCache");function CD(r){return this.__data__.set(r,l),this}c(CD,"setCacheAdd");function gD(r){return this.__data__.has(r)}c(gD,"setCacheHas"),Gs.prototype.add=Gs.prototype.push=CD,Gs.prototype.has=gD;function Ir(r){var s=this.__data__=new Kr(r);this.size=s.size}c(Ir,"Stack");function OD(){this.__data__=new Kr,this.size=0}c(OD,"stackClear");function LD(r){var s=this.__data__,a=s.delete(r);return this.size=s.size,a}c(LD,"stackDelete");function yD(r){return this.__data__.get(r)}c(yD,"stackGet");function wD(r){return this.__data__.has(r)}c(wD,"stackHas");function BD(r,s){var a=this.__data__;if(a instanceof Kr){var u=a.__data__;if(!Zn||u.length<t-1)return u.push([r,s]),this.size=++a.size,this;a=this.__data__=new Wr(u)}return a.set(r,s),this.size=a.size,this}c(BD,"stackSet"),Ir.prototype.clear=OD,Ir.prototype.delete=LD,Ir.prototype.get=yD,Ir.prototype.has=wD,Ir.prototype.set=BD;function Qh(r,s){var a=_e(r),u=!a&&zs(r),h=!a&&!u&&Rs(r),f=!a&&!u&&!h&&An(r),A=a||u||h||f,p=A?ha(r.length,GI):[],C=p.length;for(var M in r)(s||Oe.call(r,M))&&!(A&&(M=="length"||h&&(M=="offset"||M=="parent")||f&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||Jr(M,C)))&&p.push(M);return p}c(Qh,"arrayLikeKeys");function Jh(r){var s=r.length;return s?r[wa(0,s-1)]:i}c(Jh,"arraySample");function YD(r,s){return Do(vt(r),Hs(s,0,r.length))}c(YD,"arraySampleSize");function UD(r){return Do(vt(r))}c(UD,"arrayShuffle");function pa(r,s,a){(a!==i&&!Dr(r[s],a)||a===i&&!(s in r))&&zr(r,s,a)}c(pa,"assignMergeValue");function ri(r,s,a){var u=r[s];(!(Oe.call(r,s)&&Dr(u,a))||a===i&&!(s in r))&&zr(r,s,a)}c(ri,"assignValue");function lo(r,s){for(var a=r.length;a--;)if(Dr(r[a][0],s))return a;return-1}c(lo,"assocIndexOf");function MD(r,s,a,u){return As(r,function(h,f,A){s(u,h,a(h),A)}),u}c(MD,"baseAggregator");function jh(r,s){return r&&Mr(s,Et(s),r)}c(jh,"baseAssign");function VD(r,s){return r&&Mr(s,Gt(s),r)}c(VD,"baseAssignIn");function zr(r,s,a){s=="__proto__"&&io?io(r,s,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[s]=a}c(zr,"baseAssignValue");function Ra(r,s){for(var a=-1,u=s.length,h=y(u),f=r==null;++a<u;)h[a]=f?i:rT(r,s[a]);return h}c(Ra,"baseAt");function Hs(r,s,a){return r===r&&(a!==i&&(r=r<=a?r:a),s!==i&&(r=r>=s?r:s)),r}c(Hs,"baseClamp");function lr(r,s,a,u,h,f){var A,p=s&R,C=s&d,M=s&L;if(a&&(A=h?a(r,u,h,f):a(r)),A!==i)return A;if(!We(r))return r;var V=_e(r);if(V){if(A=IC(r),!p)return vt(r,A)}else{var v=Dt(r),K=v==Hi||v==$E;if(Rs(r))return pN(r,p);if(v==qr||v==nn||K&&!h){if(A=C||K?{}:vN(r),!p)return C?EC(r,VD(A,r)):uC(r,jh(A,r))}else{if(!Ue[v])return h?r:{};A=DC(r,v,p)}}f||(f=new Ir);var Q=f.get(r);if(Q)return Q;f.set(r,A),NS(r)?r.forEach(function(re){A.add(lr(re,s,a,re,r,f))}):ES(r)&&r.forEach(function(re,he){A.set(he,lr(re,s,a,he,r,f))});var te=M?C?Ga:ka:C?Gt:Et,ce=V?i:te(r);return ar(ce||r,function(re,he){ce&&(he=re,re=r[he]),ri(A,he,lr(re,s,a,he,r,f))}),A}c(lr,"baseClone");function xD(r){var s=Et(r);return function(a){return Zh(a,r,s)}}c(xD,"baseConforms");function Zh(r,s,a){var u=a.length;if(r==null)return!u;for(r=Be(r);u--;){var h=a[u],f=s[h],A=r[h];if(A===i&&!(h in r)||!f(A))return!1}return!0}c(Zh,"baseConformsTo");function $h(r,s,a){if(typeof r!="function")throw new Tr(o);return Ti(function(){r.apply(i,a)},s)}c($h,"baseDelay");function si(r,s,a,u){var h=-1,f=Xi,A=!0,p=r.length,C=[],M=s.length;if(!p)return C;a&&(s=He(s,jt(a))),u?(f=aa,A=!1):s.length>=t&&(f=Jn,A=!1,s=new Gs(s));e:for(;++h<p;){var V=r[h],v=a==null?V:a(V);if(V=u||V!==0?V:0,A&&v===v){for(var K=M;K--;)if(s[K]===v)continue e;C.push(V)}else f(s,v,u)||C.push(V)}return C}c(si,"baseDifference");var As=CN(Ur),eN=CN(Ia,!0);function FD(r,s){var a=!0;return As(r,function(u,h,f){return a=!!s(u,h,f),a}),a}c(FD,"baseEvery");function uo(r,s,a){for(var u=-1,h=r.length;++u<h;){var f=r[u],A=s(f);if(A!=null&&(p===i?A===A&&!$t(A):a(A,p)))var p=A,C=f}return C}c(uo,"baseExtremum");function bD(r,s,a,u){var h=r.length;for(a=Te(a),a<0&&(a=-a>h?0:h+a),u=u===i||u>h?h:Te(u),u<0&&(u+=h),u=a>u?0:fS(u);a<u;)r[a++]=s;return r}c(bD,"baseFill");function tN(r,s){var a=[];return As(r,function(u,h,f){s(u,h,f)&&a.push(u)}),a}c(tN,"baseFilter");function At(r,s,a,u,h){var f=-1,A=r.length;for(a||(a=gC),h||(h=[]);++f<A;){var p=r[f];s>0&&a(p)?s>1?At(p,s-1,a,u,h):hs(h,p):u||(h[h.length]=p)}return h}c(At,"baseFlatten");var ma=gN(),rN=gN(!0);function Ur(r,s){return r&&ma(r,s,Et)}c(Ur,"baseForOwn");function Ia(r,s){return r&&rN(r,s,Et)}c(Ia,"baseForOwnRight");function Eo(r,s){return Es(s,function(a){return jr(r[a])})}c(Eo,"baseFunctions");function qs(r,s){s=Ps(s,r);for(var a=0,u=s.length;r!=null&&a<u;)r=r[Vr(s[a++])];return a&&a==u?r:i}c(qs,"baseGet");function sN(r,s,a){var u=s(r);return _e(r)?u:hs(u,a(r))}c(sN,"baseGetAllKeys");function Yt(r){return r==null?r===i?hm:um:vs&&vs in Be(r)?pC(r):UC(r)}c(Yt,"baseGetTag");function Da(r,s){return r>s}c(Da,"baseGt");function vD(r,s){return r!=null&&Oe.call(r,s)}c(vD,"baseHas");function kD(r,s){return r!=null&&s in Be(r)}c(kD,"baseHasIn");function GD(r,s,a){return r>=It(s,a)&&r<at(s,a)}c(GD,"baseInRange");function Ca(r,s,a){for(var u=a?aa:Xi,h=r[0].length,f=r.length,A=f,p=y(f),C=1/0,M=[];A--;){var V=r[A];A&&s&&(V=He(V,jt(s))),C=It(V.length,C),p[A]=!a&&(s||h>=120&&V.length>=120)?new Gs(A&&V):i}V=r[0];var v=-1,K=p[0];e:for(;++v<h&&M.length<C;){var Q=V[v],te=s?s(Q):Q;if(Q=a||Q!==0?Q:0,!(K?Jn(K,te):u(M,te,a))){for(A=f;--A;){var ce=p[A];if(!(ce?Jn(ce,te):u(r[A],te,a)))continue e}K&&K.push(te),M.push(Q)}}return M}c(Ca,"baseIntersection");function HD(r,s,a,u){return Ur(r,function(h,f,A){s(u,a(h),f,A)}),u}c(HD,"baseInverter");function ni(r,s,a){s=Ps(s,r),r=qN(r,s);var u=r==null?r:r[Vr(Er(s))];return u==null?i:Jt(u,r,a)}c(ni,"baseInvoke");function nN(r){return Qe(r)&&Yt(r)==nn}c(nN,"baseIsArguments");function qD(r){return Qe(r)&&Yt(r)==Qn}c(qD,"baseIsArrayBuffer");function KD(r){return Qe(r)&&Yt(r)==qn}c(KD,"baseIsDate");function ii(r,s,a,u,h){return r===s?!0:r==null||s==null||!Qe(r)&&!Qe(s)?r!==r&&s!==s:WD(r,s,a,u,ii,h)}c(ii,"baseIsEqual");function WD(r,s,a,u,h,f){var A=_e(r),p=_e(s),C=A?ki:Dt(r),M=p?ki:Dt(s);C=C==nn?qr:C,M=M==nn?qr:M;var V=C==qr,v=M==qr,K=C==M;if(K&&Rs(r)){if(!Rs(s))return!1;A=!0,V=!1}if(K&&!V)return f||(f=new Ir),A||An(r)?xN(r,s,a,u,h,f):dC(r,s,C,a,u,h,f);if(!(a&w)){var Q=V&&Oe.call(r,"__wrapped__"),te=v&&Oe.call(s,"__wrapped__");if(Q||te){var ce=Q?r.value():r,re=te?s.value():s;return f||(f=new Ir),h(ce,re,a,u,f)}}return K?(f||(f=new Ir),PC(r,s,a,u,h,f)):!1}c(WD,"baseIsEqualDeep");function zD(r){return Qe(r)&&Dt(r)==pr}c(zD,"baseIsMap");function ga(r,s,a,u){var h=a.length,f=h,A=!u;if(r==null)return!f;for(r=Be(r);h--;){var p=a[h];if(A&&p[2]?p[1]!==r[p[0]]:!(p[0]in r))return!1}for(;++h<f;){p=a[h];var C=p[0],M=r[C],V=p[1];if(A&&p[2]){if(M===i&&!(C in r))return!1}else{var v=new Ir;if(u)var K=u(M,V,C,r,s,v);if(!(K===i?ii(V,M,w|O,u,v):K))return!1}}return!0}c(ga,"baseIsMatch");function iN(r){if(!We(r)||LC(r))return!1;var s=jr(r)?zI:xm;return s.test(Ws(r))}c(iN,"baseIsNative");function XD(r){return Qe(r)&&Yt(r)==Wn}c(XD,"baseIsRegExp");function QD(r){return Qe(r)&&Dt(r)==Rr}c(QD,"baseIsSet");function JD(r){return Qe(r)&&wo(r.length)&&!!Fe[Yt(r)]}c(JD,"baseIsTypedArray");function oN(r){return typeof r=="function"?r:r==null?Ht:typeof r=="object"?_e(r)?TN(r[0],r[1]):aN(r):OS(r)}c(oN,"baseIteratee");function Oa(r){if(!ai(r))return $I(r);var s=[];for(var a in Be(r))Oe.call(r,a)&&a!="constructor"&&s.push(a);return s}c(Oa,"baseKeys");function jD(r){if(!We(r))return YC(r);var s=ai(r),a=[];for(var u in r)u=="constructor"&&(s||!Oe.call(r,u))||a.push(u);return a}c(jD,"baseKeysIn");function La(r,s){return r<s}c(La,"baseLt");function _N(r,s){var a=-1,u=kt(r)?y(r.length):[];return As(r,function(h,f,A){u[++a]=s(h,f,A)}),u}c(_N,"baseMap");function aN(r){var s=qa(r);return s.length==1&&s[0][2]?GN(s[0][0],s[0][1]):function(a){return a===r||ga(a,r,s)}}c(aN,"baseMatches");function TN(r,s){return Wa(r)&&kN(s)?GN(Vr(r),s):function(a){var u=rT(a,r);return u===i&&u===s?sT(a,r):ii(s,u,w|O)}}c(TN,"baseMatchesProperty");function ho(r,s,a,u,h){r!==s&&ma(s,function(f,A){if(h||(h=new Ir),We(f))ZD(r,s,A,a,ho,u,h);else{var p=u?u(Xa(r,A),f,A+"",r,s,h):i;p===i&&(p=f),pa(r,A,p)}},Gt)}c(ho,"baseMerge");function ZD(r,s,a,u,h,f,A){var p=Xa(r,a),C=Xa(s,a),M=A.get(C);if(M){pa(r,a,M);return}var V=f?f(p,C,a+"",r,s,A):i,v=V===i;if(v){var K=_e(C),Q=!K&&Rs(C),te=!K&&!Q&&An(C);V=C,K||Q||te?_e(p)?V=p:$e(p)?V=vt(p):Q?(v=!1,V=pN(C,!0)):te?(v=!1,V=RN(C,!0)):V=[]:ci(C)||zs(C)?(V=p,zs(p)?V=AS(p):(!We(p)||jr(p))&&(V=vN(C))):v=!1}v&&(A.set(C,V),h(V,C,u,f,A),A.delete(C)),pa(r,a,V)}c(ZD,"baseMergeDeep");function cN(r,s){var a=r.length;if(a)return s+=s<0?a:0,Jr(s,a)?r[s]:i}c(cN,"baseNth");function lN(r,s,a){s.length?s=He(s,function(f){return _e(f)?function(A){return qs(A,f.length===1?f[0]:f)}:f}):s=[Ht];var u=-1;s=He(s,jt(ee()));var h=_N(r,function(f,A,p){var C=He(s,function(M){return M(f)});return{criteria:C,index:++u,value:f}});return DI(h,function(f,A){return lC(f,A,a)})}c(lN,"baseOrderBy");function $D(r,s){return uN(r,s,function(a,u){return sT(r,u)})}c($D,"basePick");function uN(r,s,a){for(var u=-1,h=s.length,f={};++u<h;){var A=s[u],p=qs(r,A);a(p,A)&&oi(f,Ps(A,r),p)}return f}c(uN,"basePickBy");function eC(r){return function(s){return qs(s,r)}}c(eC,"basePropertyDeep");function ya(r,s,a,u){var h=u?II:an,f=-1,A=s.length,p=r;for(r===s&&(s=vt(s)),a&&(p=He(r,jt(a)));++f<A;)for(var C=0,M=s[f],V=a?a(M):M;(C=h(p,V,C,u))>-1;)p!==r&&no.call(p,C,1),no.call(r,C,1);return r}c(ya,"basePullAll");function EN(r,s){for(var a=r?s.length:0,u=a-1;a--;){var h=s[a];if(a==u||h!==f){var f=h;Jr(h)?no.call(r,h,1):Ua(r,h)}}return r}c(EN,"basePullAt");function wa(r,s){return r+_o(zh()*(s-r+1))}c(wa,"baseRandom");function tC(r,s,a,u){for(var h=-1,f=at(oo((s-r)/(a||1)),0),A=y(f);f--;)A[u?f:++h]=r,r+=a;return A}c(tC,"baseRange");function Ba(r,s){var a="";if(!r||s<1||s>or)return a;do s%2&&(a+=r),s=_o(s/2),s&&(r+=r);while(s);return a}c(Ba,"baseRepeat");function Ee(r,s){return Qa(HN(r,s,Ht),r+"")}c(Ee,"baseRest");function rC(r){return Jh(dn(r))}c(rC,"baseSample");function sC(r,s){var a=dn(r);return Do(a,Hs(s,0,a.length))}c(sC,"baseSampleSize");function oi(r,s,a,u){if(!We(r))return r;s=Ps(s,r);for(var h=-1,f=s.length,A=f-1,p=r;p!=null&&++h<f;){var C=Vr(s[h]),M=a;if(C==="__proto__"||C==="constructor"||C==="prototype")return r;if(h!=A){var V=p[C];M=u?u(V,C,p):i,M===i&&(M=We(V)?V:Jr(s[h+1])?[]:{})}ri(p,C,M),p=p[C]}return r}c(oi,"baseSet");var hN=ao?function(r,s){return ao.set(r,s),r}:Ht,nC=io?function(r,s){return io(r,"toString",{configurable:!0,enumerable:!1,value:iT(s),writable:!0})}:Ht;function iC(r){return Do(dn(r))}c(iC,"baseShuffle");function ur(r,s,a){var u=-1,h=r.length;s<0&&(s=-s>h?0:h+s),a=a>h?h:a,a<0&&(a+=h),h=s>a?0:a-s>>>0,s>>>=0;for(var f=y(h);++u<h;)f[u]=r[u+s];return f}c(ur,"baseSlice");function oC(r,s){var a;return As(r,function(u,h,f){return a=s(u,h,f),!a}),!!a}c(oC,"baseSome");function No(r,s,a){var u=0,h=r==null?u:r.length;if(typeof s=="number"&&s===s&&h<=am){for(;u<h;){var f=u+h>>>1,A=r[f];A!==null&&!$t(A)&&(a?A<=s:A<s)?u=f+1:h=f}return h}return Ya(r,s,Ht,a)}c(No,"baseSortedIndex");function Ya(r,s,a,u){var h=0,f=r==null?0:r.length;if(f===0)return 0;s=a(s);for(var A=s!==s,p=s===null,C=$t(s),M=s===i;h<f;){var V=_o((h+f)/2),v=a(r[V]),K=v!==i,Q=v===null,te=v===v,ce=$t(v);if(A)var re=u||te;else M?re=te&&(u||K):p?re=te&&K&&(u||!Q):C?re=te&&K&&!Q&&(u||!ce):Q||ce?re=!1:re=u?v<=s:v<s;re?h=V+1:f=V}return It(f,_m)}c(Ya,"baseSortedIndexBy");function NN(r,s){for(var a=-1,u=r.length,h=0,f=[];++a<u;){var A=r[a],p=s?s(A):A;if(!a||!Dr(p,C)){var C=p;f[h++]=A===0?0:A}}return f}c(NN,"baseSortedUniq");function SN(r){return typeof r=="number"?r:$t(r)?vi:+r}c(SN,"baseToNumber");function Zt(r){if(typeof r=="string")return r;if(_e(r))return He(r,Zt)+"";if($t(r))return Xh?Xh.call(r):"";var s=r+"";return s=="0"&&1/r==-bt?"-0":s}c(Zt,"baseToString");function ds(r,s,a){var u=-1,h=Xi,f=r.length,A=!0,p=[],C=p;if(a)A=!1,h=aa;else if(f>=t){var M=s?null:fC(r);if(M)return Ji(M);A=!1,h=Jn,C=new Gs}else C=s?[]:p;e:for(;++u<f;){var V=r[u],v=s?s(V):V;if(V=a||V!==0?V:0,A&&v===v){for(var K=C.length;K--;)if(C[K]===v)continue e;s&&C.push(v),p.push(V)}else h(C,v,a)||(C!==p&&C.push(v),p.push(V))}return p}c(ds,"baseUniq");function Ua(r,s){return s=Ps(s,r),r=qN(r,s),r==null||delete r[Vr(Er(s))]}c(Ua,"baseUnset");function fN(r,s,a,u){return oi(r,s,a(qs(r,s)),u)}c(fN,"baseUpdate");function So(r,s,a,u){for(var h=r.length,f=u?h:-1;(u?f--:++f<h)&&s(r[f],f,r););return a?ur(r,u?0:f,u?f+1:h):ur(r,u?f+1:0,u?h:f)}c(So,"baseWhile");function AN(r,s){var a=r;return a instanceof Ne&&(a=a.value()),Ta(s,function(u,h){return h.func.apply(h.thisArg,hs([u],h.args))},a)}c(AN,"baseWrapperValue");function Ma(r,s,a){var u=r.length;if(u<2)return u?ds(r[0]):[];for(var h=-1,f=y(u);++h<u;)for(var A=r[h],p=-1;++p<u;)p!=h&&(f[h]=si(f[h]||A,r[p],s,a));return ds(At(f,1),s,a)}c(Ma,"baseXor");function dN(r,s,a){for(var u=-1,h=r.length,f=s.length,A={};++u<h;){var p=u<f?s[u]:i;a(A,r[u],p)}return A}c(dN,"baseZipObject");function Va(r){return $e(r)?r:[]}c(Va,"castArrayLikeObject");function xa(r){return typeof r=="function"?r:Ht}c(xa,"castFunction");function Ps(r,s){return _e(r)?r:Wa(r,s)?[r]:XN(De(r))}c(Ps,"castPath");var _C=Ee;function ps(r,s,a){var u=r.length;return a=a===i?u:a,!s&&a>=u?r:ur(r,s,a)}c(ps,"castSlice");var PN=XI||function(r){return ut.clearTimeout(r)};function pN(r,s){if(s)return r.slice();var a=r.length,u=Gh?Gh(a):new r.constructor(a);return r.copy(u),u}c(pN,"cloneBuffer");function Fa(r){var s=new r.constructor(r.byteLength);return new ro(s).set(new ro(r)),s}c(Fa,"cloneArrayBuffer");function aC(r,s){var a=s?Fa(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.byteLength)}c(aC,"cloneDataView");function TC(r){var s=new r.constructor(r.source,nh.exec(r));return s.lastIndex=r.lastIndex,s}c(TC,"cloneRegExp");function cC(r){return ti?Be(ti.call(r)):{}}c(cC,"cloneSymbol");function RN(r,s){var a=s?Fa(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.length)}c(RN,"cloneTypedArray");function mN(r,s){if(r!==s){var a=r!==i,u=r===null,h=r===r,f=$t(r),A=s!==i,p=s===null,C=s===s,M=$t(s);if(!p&&!M&&!f&&r>s||f&&A&&C&&!p&&!M||u&&A&&C||!a&&C||!h)return 1;if(!u&&!f&&!M&&r<s||M&&a&&h&&!u&&!f||p&&a&&h||!A&&h||!C)return-1}return 0}c(mN,"compareAscending");function lC(r,s,a){for(var u=-1,h=r.criteria,f=s.criteria,A=h.length,p=a.length;++u<A;){var C=mN(h[u],f[u]);if(C){if(u>=p)return C;var M=a[u];return C*(M=="desc"?-1:1)}}return r.index-s.index}c(lC,"compareMultiple");function IN(r,s,a,u){for(var h=-1,f=r.length,A=a.length,p=-1,C=s.length,M=at(f-A,0),V=y(C+M),v=!u;++p<C;)V[p]=s[p];for(;++h<A;)(v||h<f)&&(V[a[h]]=r[h]);for(;M--;)V[p++]=r[h++];return V}c(IN,"composeArgs");function DN(r,s,a,u){for(var h=-1,f=r.length,A=-1,p=a.length,C=-1,M=s.length,V=at(f-p,0),v=y(V+M),K=!u;++h<V;)v[h]=r[h];for(var Q=h;++C<M;)v[Q+C]=s[C];for(;++A<p;)(K||h<f)&&(v[Q+a[A]]=r[h++]);return v}c(DN,"composeArgsRight");function vt(r,s){var a=-1,u=r.length;for(s||(s=y(u));++a<u;)s[a]=r[a];return s}c(vt,"copyArray");function Mr(r,s,a,u){var h=!a;a||(a={});for(var f=-1,A=s.length;++f<A;){var p=s[f],C=u?u(a[p],r[p],p,a,r):i;C===i&&(C=r[p]),h?zr(a,p,C):ri(a,p,C)}return a}c(Mr,"copyObject");function uC(r,s){return Mr(r,Ka(r),s)}c(uC,"copySymbols");function EC(r,s){return Mr(r,FN(r),s)}c(EC,"copySymbolsIn");function fo(r,s){return function(a,u){var h=_e(a)?AI:MD,f=s?s():{};return h(a,r,ee(u,2),f)}}c(fo,"createAggregator");function Nn(r){return Ee(function(s,a){var u=-1,h=a.length,f=h>1?a[h-1]:i,A=h>2?a[2]:i;for(f=r.length>3&&typeof f=="function"?(h--,f):i,A&&Ut(a[0],a[1],A)&&(f=h<3?i:f,h=1),s=Be(s);++u<h;){var p=a[u];p&&r(s,p,u,f)}return s})}c(Nn,"createAssigner");function CN(r,s){return function(a,u){if(a==null)return a;if(!kt(a))return r(a,u);for(var h=a.length,f=s?h:-1,A=Be(a);(s?f--:++f<h)&&u(A[f],f,A)!==!1;);return a}}c(CN,"createBaseEach");function gN(r){return function(s,a,u){for(var h=-1,f=Be(s),A=u(s),p=A.length;p--;){var C=A[r?p:++h];if(a(f[C],C,f)===!1)break}return s}}c(gN,"createBaseFor");function hC(r,s,a){var u=s&P,h=_i(r);function f(){var A=this&&this!==ut&&this instanceof f?h:r;return A.apply(u?a:this,arguments)}return c(f,"wrapper"),f}c(hC,"createBind");function ON(r){return function(s){s=De(s);var a=Tn(s)?mr(s):i,u=a?a[0]:s.charAt(0),h=a?ps(a,1).join(""):s.slice(1);return u[r]()+h}}c(ON,"createCaseFirst");function Sn(r){return function(s){return Ta(CS(DS(s).replace(nI,"")),r,"")}}c(Sn,"createCompounder");function _i(r){return function(){var s=arguments;switch(s.length){case 0:return new r;case 1:return new r(s[0]);case 2:return new r(s[0],s[1]);case 3:return new r(s[0],s[1],s[2]);case 4:return new r(s[0],s[1],s[2],s[3]);case 5:return new r(s[0],s[1],s[2],s[3],s[4]);case 6:return new r(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new r(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var a=hn(r.prototype),u=r.apply(a,s);return We(u)?u:a}}c(_i,"createCtor");function NC(r,s,a){var u=_i(r);function h(){for(var f=arguments.length,A=y(f),p=f,C=fn(h);p--;)A[p]=arguments[p];var M=f<3&&A[0]!==C&&A[f-1]!==C?[]:Ns(A,C);if(f-=M.length,f<a)return YN(r,s,Ao,h.placeholder,i,A,M,i,i,a-f);var V=this&&this!==ut&&this instanceof h?u:r;return Jt(V,this,A)}return c(h,"wrapper"),h}c(NC,"createCurry");function LN(r){return function(s,a,u){var h=Be(s);if(!kt(s)){var f=ee(a,3);s=Et(s),a=c(function(p){return f(h[p],p,h)},"predicate")}var A=r(s,a,u);return A>-1?h[f?s[A]:A]:i}}c(LN,"createFind");function yN(r){return Qr(function(s){var a=s.length,u=a,h=cr.prototype.thru;for(r&&s.reverse();u--;){var f=s[u];if(typeof f!="function")throw new Tr(o);if(h&&!A&&mo(f)=="wrapper")var A=new cr([],!0)}for(u=A?u:a;++u<a;){f=s[u];var p=mo(f),C=p=="wrapper"?Ha(f):i;C&&za(C[0])&&C[1]==(ae|I|H|ue)&&!C[4].length&&C[9]==1?A=A[mo(C[0])].apply(A,C[3]):A=f.length==1&&za(f)?A[p]():A.thru(f)}return function(){var M=arguments,V=M[0];if(A&&M.length==1&&_e(V))return A.plant(V).value();for(var v=0,K=a?s[v].apply(this,M):V;++v<a;)K=s[v].call(this,K);return K}})}c(yN,"createFlow");function Ao(r,s,a,u,h,f,A,p,C,M){var V=s&ae,v=s&P,K=s&g,Q=s&(I|G),te=s&pe,ce=K?i:_i(r);function re(){for(var he=arguments.length,fe=y(he),er=he;er--;)fe[er]=arguments[er];if(Q)var Mt=fn(re),tr=gI(fe,Mt);if(u&&(fe=IN(fe,u,h,Q)),f&&(fe=DN(fe,f,A,Q)),he-=tr,Q&&he<M){var et=Ns(fe,Mt);return YN(r,s,Ao,re.placeholder,a,fe,et,p,C,M-he)}var Cr=v?a:this,$r=K?Cr[r]:r;return he=fe.length,p?fe=MC(fe,p):te&&he>1&&fe.reverse(),V&&C<he&&(fe.length=C),this&&this!==ut&&this instanceof re&&($r=ce||_i($r)),$r.apply(Cr,fe)}return c(re,"wrapper"),re}c(Ao,"createHybrid");function wN(r,s){return function(a,u){return HD(a,r,s(u),{})}}c(wN,"createInverter");function Po(r,s){return function(a,u){var h;if(a===i&&u===i)return s;if(a!==i&&(h=a),u!==i){if(h===i)return u;typeof a=="string"||typeof u=="string"?(a=Zt(a),u=Zt(u)):(a=SN(a),u=SN(u)),h=r(a,u)}return h}}c(Po,"createMathOperation");function ba(r){return Qr(function(s){return s=He(s,jt(ee())),Ee(function(a){var u=this;return r(s,function(h){return Jt(h,u,a)})})})}c(ba,"createOver");function po(r,s){s=s===i?" ":Zt(s);var a=s.length;if(a<2)return a?Ba(s,r):s;var u=Ba(s,oo(r/cn(s)));return Tn(s)?ps(mr(u),0,r).join(""):u.slice(0,r)}c(po,"createPadding");function SC(r,s,a,u){var h=s&P,f=_i(r);function A(){for(var p=-1,C=arguments.length,M=-1,V=u.length,v=y(V+C),K=this&&this!==ut&&this instanceof A?f:r;++M<V;)v[M]=u[M];for(;C--;)v[M++]=arguments[++p];return Jt(K,h?a:this,v)}return c(A,"wrapper"),A}c(SC,"createPartial");function BN(r){return function(s,a,u){return u&&typeof u!="number"&&Ut(s,a,u)&&(a=u=i),s=Zr(s),a===i?(a=s,s=0):a=Zr(a),u=u===i?s<a?1:-1:Zr(u),tC(s,a,u,r)}}c(BN,"createRange");function Ro(r){return function(s,a){return typeof s=="string"&&typeof a=="string"||(s=hr(s),a=hr(a)),r(s,a)}}c(Ro,"createRelationalOperation");function YN(r,s,a,u,h,f,A,p,C,M){var V=s&I,v=V?A:i,K=V?i:A,Q=V?f:i,te=V?i:f;s|=V?H:W,s&=~(V?W:H),s&x||(s&=~(P|g));var ce=[r,s,h,Q,v,te,K,p,C,M],re=a.apply(i,ce);return za(r)&&KN(re,ce),re.placeholder=u,WN(re,r,s)}c(YN,"createRecurry");function va(r){var s=_t[r];return function(a,u){if(a=hr(a),u=u==null?0:It(Te(u),292),u&&Wh(a)){var h=(De(a)+"e").split("e"),f=s(h[0]+"e"+(+h[1]+u));return h=(De(f)+"e").split("e"),+(h[0]+"e"+(+h[1]-u))}return s(a)}}c(va,"createRound");var fC=un&&1/Ji(new un([,-0]))[1]==bt?function(r){return new un(r)}:aT;function UN(r){return function(s){var a=Dt(s);return a==pr?Sa(s):a==Rr?UI(s):CI(s,r(s))}}c(UN,"createToPairs");function Xr(r,s,a,u,h,f,A,p){var C=s&g;if(!C&&typeof r!="function")throw new Tr(o);var M=u?u.length:0;if(M||(s&=~(H|W),u=h=i),A=A===i?A:at(Te(A),0),p=p===i?p:Te(p),M-=h?h.length:0,s&W){var V=u,v=h;u=h=i}var K=C?i:Ha(r),Q=[r,s,a,u,h,V,v,f,A,p];if(K&&BC(Q,K),r=Q[0],s=Q[1],a=Q[2],u=Q[3],h=Q[4],p=Q[9]=Q[9]===i?C?0:r.length:at(Q[9]-M,0),!p&&s&(I|G)&&(s&=~(I|G)),!s||s==P)var te=hC(r,s,a);else s==I||s==G?te=NC(r,s,p):(s==H||s==(P|H))&&!h.length?te=SC(r,s,a,u):te=Ao.apply(i,Q);var ce=K?hN:KN;return WN(ce(te,Q),r,s)}c(Xr,"createWrap");function MN(r,s,a,u){return r===i||Dr(r,ln[a])&&!Oe.call(u,a)?s:r}c(MN,"customDefaultsAssignIn");function VN(r,s,a,u,h,f){return We(r)&&We(s)&&(f.set(s,r),ho(r,s,i,VN,f),f.delete(s)),r}c(VN,"customDefaultsMerge");function AC(r){return ci(r)?i:r}c(AC,"customOmitClone");function xN(r,s,a,u,h,f){var A=a&w,p=r.length,C=s.length;if(p!=C&&!(A&&C>p))return!1;var M=f.get(r),V=f.get(s);if(M&&V)return M==s&&V==r;var v=-1,K=!0,Q=a&O?new Gs:i;for(f.set(r,s),f.set(s,r);++v<p;){var te=r[v],ce=s[v];if(u)var re=A?u(ce,te,v,s,r,f):u(te,ce,v,r,s,f);if(re!==i){if(re)continue;K=!1;break}if(Q){if(!ca(s,function(he,fe){if(!Jn(Q,fe)&&(te===he||h(te,he,a,u,f)))return Q.push(fe)})){K=!1;break}}else if(!(te===ce||h(te,ce,a,u,f))){K=!1;break}}return f.delete(r),f.delete(s),K}c(xN,"equalArrays");function dC(r,s,a,u,h,f,A){switch(a){case on:if(r.byteLength!=s.byteLength||r.byteOffset!=s.byteOffset)return!1;r=r.buffer,s=s.buffer;case Qn:return!(r.byteLength!=s.byteLength||!f(new ro(r),new ro(s)));case Hn:case qn:case Kn:return Dr(+r,+s);case Gi:return r.name==s.name&&r.message==s.message;case Wn:case zn:return r==s+"";case pr:var p=Sa;case Rr:var C=u&w;if(p||(p=Ji),r.size!=s.size&&!C)return!1;var M=A.get(r);if(M)return M==s;u|=O,A.set(r,s);var V=xN(p(r),p(s),u,h,f,A);return A.delete(r),V;case qi:if(ti)return ti.call(r)==ti.call(s)}return!1}c(dC,"equalByTag");function PC(r,s,a,u,h,f){var A=a&w,p=ka(r),C=p.length,M=ka(s),V=M.length;if(C!=V&&!A)return!1;for(var v=C;v--;){var K=p[v];if(!(A?K in s:Oe.call(s,K)))return!1}var Q=f.get(r),te=f.get(s);if(Q&&te)return Q==s&&te==r;var ce=!0;f.set(r,s),f.set(s,r);for(var re=A;++v<C;){K=p[v];var he=r[K],fe=s[K];if(u)var er=A?u(fe,he,K,s,r,f):u(he,fe,K,r,s,f);if(!(er===i?he===fe||h(he,fe,a,u,f):er)){ce=!1;break}re||(re=K=="constructor")}if(ce&&!re){var Mt=r.constructor,tr=s.constructor;Mt!=tr&&"constructor"in r&&"constructor"in s&&!(typeof Mt=="function"&&Mt instanceof Mt&&typeof tr=="function"&&tr instanceof tr)&&(ce=!1)}return f.delete(r),f.delete(s),ce}c(PC,"equalObjects");function Qr(r){return Qa(HN(r,i,ZN),r+"")}c(Qr,"flatRest");function ka(r){return sN(r,Et,Ka)}c(ka,"getAllKeys");function Ga(r){return sN(r,Gt,FN)}c(Ga,"getAllKeysIn");var Ha=ao?function(r){return ao.get(r)}:aT;function mo(r){for(var s=r.name+"",a=En[s],u=Oe.call(En,s)?a.length:0;u--;){var h=a[u],f=h.func;if(f==null||f==r)return h.name}return s}c(mo,"getFuncName");function fn(r){var s=Oe.call(N,"placeholder")?N:r;return s.placeholder}c(fn,"getHolder");function ee(){var r=N.iteratee||oT;return r=r===oT?oN:r,arguments.length?r(arguments[0],arguments[1]):r}c(ee,"getIteratee");function Io(r,s){var a=r.__data__;return OC(s)?a[typeof s=="string"?"string":"hash"]:a.map}c(Io,"getMapData");function qa(r){for(var s=Et(r),a=s.length;a--;){var u=s[a],h=r[u];s[a]=[u,h,kN(h)]}return s}c(qa,"getMatchData");function Ks(r,s){var a=wI(r,s);return iN(a)?a:i}c(Ks,"getNative");function pC(r){var s=Oe.call(r,vs),a=r[vs];try{r[vs]=i;var u=!0}catch{}var h=eo.call(r);return u&&(s?r[vs]=a:delete r[vs]),h}c(pC,"getRawTag");var Ka=Aa?function(r){return r==null?[]:(r=Be(r),Es(Aa(r),function(s){return qh.call(r,s)}))}:TT,FN=Aa?function(r){for(var s=[];r;)hs(s,Ka(r)),r=so(r);return s}:TT,Dt=Yt;(da&&Dt(new da(new ArrayBuffer(1)))!=on||Zn&&Dt(new Zn)!=pr||Pa&&Dt(Pa.resolve())!=eh||un&&Dt(new un)!=Rr||$n&&Dt(new $n)!=Xn)&&(Dt=c(function(r){var s=Yt(r),a=s==qr?r.constructor:i,u=a?Ws(a):"";if(u)switch(u){case sD:return on;case nD:return pr;case iD:return eh;case oD:return Rr;case _D:return Xn}return s},"getTag"));function RC(r,s,a){for(var u=-1,h=a.length;++u<h;){var f=a[u],A=f.size;switch(f.type){case"drop":r+=A;break;case"dropRight":s-=A;break;case"take":s=It(s,r+A);break;case"takeRight":r=at(r,s-A);break}}return{start:r,end:s}}c(RC,"getView");function mC(r){var s=r.match(Lm);return s?s[1].split(ym):[]}c(mC,"getWrapDetails");function bN(r,s,a){s=Ps(s,r);for(var u=-1,h=s.length,f=!1;++u<h;){var A=Vr(s[u]);if(!(f=r!=null&&a(r,A)))break;r=r[A]}return f||++u!=h?f:(h=r==null?0:r.length,!!h&&wo(h)&&Jr(A,h)&&(_e(r)||zs(r)))}c(bN,"hasPath");function IC(r){var s=r.length,a=new r.constructor(s);return s&&typeof r[0]=="string"&&Oe.call(r,"index")&&(a.index=r.index,a.input=r.input),a}c(IC,"initCloneArray");function vN(r){return typeof r.constructor=="function"&&!ai(r)?hn(so(r)):{}}c(vN,"initCloneObject");function DC(r,s,a){var u=r.constructor;switch(s){case Qn:return Fa(r);case Hn:case qn:return new u(+r);case on:return aC(r,a);case q_:case K_:case W_:case z_:case X_:case Q_:case J_:case j_:case Z_:return RN(r,a);case pr:return new u;case Kn:case zn:return new u(r);case Wn:return TC(r);case Rr:return new u;case qi:return cC(r)}}c(DC,"initCloneByTag");function CC(r,s){var a=s.length;if(!a)return r;var u=a-1;return s[u]=(a>1?"& ":"")+s[u],s=s.join(a>2?", ":" "),r.replace(Om,`{
/* [wrapped with `+s+`] */
`)}c(CC,"insertWrapDetails");function gC(r){return _e(r)||zs(r)||!!(Kh&&r&&r[Kh])}c(gC,"isFlattenable");function Jr(r,s){var a=typeof r;return s=s??or,!!s&&(a=="number"||a!="symbol"&&bm.test(r))&&r>-1&&r%1==0&&r<s}c(Jr,"isIndex");function Ut(r,s,a){if(!We(a))return!1;var u=typeof s;return(u=="number"?kt(a)&&Jr(s,a.length):u=="string"&&s in a)?Dr(a[s],r):!1}c(Ut,"isIterateeCall");function Wa(r,s){if(_e(r))return!1;var a=typeof r;return a=="number"||a=="symbol"||a=="boolean"||r==null||$t(r)?!0:Im.test(r)||!mm.test(r)||s!=null&&r in Be(s)}c(Wa,"isKey");function OC(r){var s=typeof r;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?r!=="__proto__":r===null}c(OC,"isKeyable");function za(r){var s=mo(r),a=N[s];if(typeof a!="function"||!(s in Ne.prototype))return!1;if(r===a)return!0;var u=Ha(a);return!!u&&r===u[0]}c(za,"isLaziable");function LC(r){return!!kh&&kh in r}c(LC,"isMasked");var yC=Zi?jr:cT;function ai(r){var s=r&&r.constructor,a=typeof s=="function"&&s.prototype||ln;return r===a}c(ai,"isPrototype");function kN(r){return r===r&&!We(r)}c(kN,"isStrictComparable");function GN(r,s){return function(a){return a==null?!1:a[r]===s&&(s!==i||r in Be(a))}}c(GN,"matchesStrictComparable");function wC(r){var s=Lo(r,function(u){return a.size===E&&a.clear(),u}),a=s.cache;return s}c(wC,"memoizeCapped");function BC(r,s){var a=r[1],u=s[1],h=a|u,f=h<(P|g|ae),A=u==ae&&a==I||u==ae&&a==ue&&r[7].length<=s[8]||u==(ae|ue)&&s[7].length<=s[8]&&a==I;if(!(f||A))return r;u&P&&(r[2]=s[2],h|=a&P?0:x);var p=s[3];if(p){var C=r[3];r[3]=C?IN(C,p,s[4]):p,r[4]=C?Ns(r[3],S):s[4]}return p=s[5],p&&(C=r[5],r[5]=C?DN(C,p,s[6]):p,r[6]=C?Ns(r[5],S):s[6]),p=s[7],p&&(r[7]=p),u&ae&&(r[8]=r[8]==null?s[8]:It(r[8],s[8])),r[9]==null&&(r[9]=s[9]),r[0]=s[0],r[1]=h,r}c(BC,"mergeData");function YC(r){var s=[];if(r!=null)for(var a in Be(r))s.push(a);return s}c(YC,"nativeKeysIn");function UC(r){return eo.call(r)}c(UC,"objectToString");function HN(r,s,a){return s=at(s===i?r.length-1:s,0),function(){for(var u=arguments,h=-1,f=at(u.length-s,0),A=y(f);++h<f;)A[h]=u[s+h];h=-1;for(var p=y(s+1);++h<s;)p[h]=u[h];return p[s]=a(A),Jt(r,this,p)}}c(HN,"overRest");function qN(r,s){return s.length<2?r:qs(r,ur(s,0,-1))}c(qN,"parent");function MC(r,s){for(var a=r.length,u=It(s.length,a),h=vt(r);u--;){var f=s[u];r[u]=Jr(f,a)?h[f]:i}return r}c(MC,"reorder");function Xa(r,s){if(!(s==="constructor"&&typeof r[s]=="function")&&s!="__proto__")return r[s]}c(Xa,"safeGet");var KN=zN(hN),Ti=JI||function(r,s){return ut.setTimeout(r,s)},Qa=zN(nC);function WN(r,s,a){var u=s+"";return Qa(r,CC(u,VC(mC(u),a)))}c(WN,"setWrapToString");function zN(r){var s=0,a=0;return function(){var u=eD(),h=Br-(u-a);if(a=u,h>0){if(++s>=Qt)return arguments[0]}else s=0;return r.apply(i,arguments)}}c(zN,"shortOut");function Do(r,s){var a=-1,u=r.length,h=u-1;for(s=s===i?u:s;++a<s;){var f=wa(a,h),A=r[f];r[f]=r[a],r[a]=A}return r.length=s,r}c(Do,"shuffleSelf");var XN=wC(function(r){var s=[];return r.charCodeAt(0)===46&&s.push(""),r.replace(Dm,function(a,u,h,f){s.push(h?f.replace(Ym,"$1"):u||a)}),s});function Vr(r){if(typeof r=="string"||$t(r))return r;var s=r+"";return s=="0"&&1/r==-bt?"-0":s}c(Vr,"toKey");function Ws(r){if(r!=null){try{return $i.call(r)}catch{}try{return r+""}catch{}}return""}c(Ws,"toSource");function VC(r,s){return ar(Tm,function(a){var u="_."+a[0];s&a[1]&&!Xi(r,u)&&r.push(u)}),r.sort()}c(VC,"updateWrapDetails");function QN(r){if(r instanceof Ne)return r.clone();var s=new cr(r.__wrapped__,r.__chain__);return s.__actions__=vt(r.__actions__),s.__index__=r.__index__,s.__values__=r.__values__,s}c(QN,"wrapperClone");function xC(r,s,a){(a?Ut(r,s,a):s===i)?s=1:s=at(Te(s),0);var u=r==null?0:r.length;if(!u||s<1)return[];for(var h=0,f=0,A=y(oo(u/s));h<u;)A[f++]=ur(r,h,h+=s);return A}c(xC,"chunk");function FC(r){for(var s=-1,a=r==null?0:r.length,u=0,h=[];++s<a;){var f=r[s];f&&(h[u++]=f)}return h}c(FC,"compact");function bC(){var r=arguments.length;if(!r)return[];for(var s=y(r-1),a=arguments[0],u=r;u--;)s[u-1]=arguments[u];return hs(_e(a)?vt(a):[a],At(s,1))}c(bC,"concat");var vC=Ee(function(r,s){return $e(r)?si(r,At(s,1,$e,!0)):[]}),kC=Ee(function(r,s){var a=Er(s);return $e(a)&&(a=i),$e(r)?si(r,At(s,1,$e,!0),ee(a,2)):[]}),GC=Ee(function(r,s){var a=Er(s);return $e(a)&&(a=i),$e(r)?si(r,At(s,1,$e,!0),i,a):[]});function HC(r,s,a){var u=r==null?0:r.length;return u?(s=a||s===i?1:Te(s),ur(r,s<0?0:s,u)):[]}c(HC,"drop");function qC(r,s,a){var u=r==null?0:r.length;return u?(s=a||s===i?1:Te(s),s=u-s,ur(r,0,s<0?0:s)):[]}c(qC,"dropRight");function KC(r,s){return r&&r.length?So(r,ee(s,3),!0,!0):[]}c(KC,"dropRightWhile");function WC(r,s){return r&&r.length?So(r,ee(s,3),!0):[]}c(WC,"dropWhile");function zC(r,s,a,u){var h=r==null?0:r.length;return h?(a&&typeof a!="number"&&Ut(r,s,a)&&(a=0,u=h),bD(r,s,a,u)):[]}c(zC,"fill");function JN(r,s,a){var u=r==null?0:r.length;if(!u)return-1;var h=a==null?0:Te(a);return h<0&&(h=at(u+h,0)),Qi(r,ee(s,3),h)}c(JN,"findIndex");function jN(r,s,a){var u=r==null?0:r.length;if(!u)return-1;var h=u-1;return a!==i&&(h=Te(a),h=a<0?at(u+h,0):It(h,u-1)),Qi(r,ee(s,3),h,!0)}c(jN,"findLastIndex");function ZN(r){var s=r==null?0:r.length;return s?At(r,1):[]}c(ZN,"flatten");function XC(r){var s=r==null?0:r.length;return s?At(r,bt):[]}c(XC,"flattenDeep");function QC(r,s){var a=r==null?0:r.length;return a?(s=s===i?1:Te(s),At(r,s)):[]}c(QC,"flattenDepth");function JC(r){for(var s=-1,a=r==null?0:r.length,u={};++s<a;){var h=r[s];u[h[0]]=h[1]}return u}c(JC,"fromPairs");function $N(r){return r&&r.length?r[0]:i}c($N,"head");function jC(r,s,a){var u=r==null?0:r.length;if(!u)return-1;var h=a==null?0:Te(a);return h<0&&(h=at(u+h,0)),an(r,s,h)}c(jC,"indexOf");function ZC(r){var s=r==null?0:r.length;return s?ur(r,0,-1):[]}c(ZC,"initial");var $C=Ee(function(r){var s=He(r,Va);return s.length&&s[0]===r[0]?Ca(s):[]}),eg=Ee(function(r){var s=Er(r),a=He(r,Va);return s===Er(a)?s=i:a.pop(),a.length&&a[0]===r[0]?Ca(a,ee(s,2)):[]}),tg=Ee(function(r){var s=Er(r),a=He(r,Va);return s=typeof s=="function"?s:i,s&&a.pop(),a.length&&a[0]===r[0]?Ca(a,i,s):[]});function rg(r,s){return r==null?"":ZI.call(r,s)}c(rg,"join");function Er(r){var s=r==null?0:r.length;return s?r[s-1]:i}c(Er,"last");function sg(r,s,a){var u=r==null?0:r.length;if(!u)return-1;var h=u;return a!==i&&(h=Te(a),h=h<0?at(u+h,0):It(h,u-1)),s===s?VI(r,s,h):Qi(r,Yh,h,!0)}c(sg,"lastIndexOf");function ng(r,s){return r&&r.length?cN(r,Te(s)):i}c(ng,"nth");var ig=Ee(eS);function eS(r,s){return r&&r.length&&s&&s.length?ya(r,s):r}c(eS,"pullAll");function og(r,s,a){return r&&r.length&&s&&s.length?ya(r,s,ee(a,2)):r}c(og,"pullAllBy");function _g(r,s,a){return r&&r.length&&s&&s.length?ya(r,s,i,a):r}c(_g,"pullAllWith");var ag=Qr(function(r,s){var a=r==null?0:r.length,u=Ra(r,s);return EN(r,He(s,function(h){return Jr(h,a)?+h:h}).sort(mN)),u});function Tg(r,s){var a=[];if(!(r&&r.length))return a;var u=-1,h=[],f=r.length;for(s=ee(s,3);++u<f;){var A=r[u];s(A,u,r)&&(a.push(A),h.push(u))}return EN(r,h),a}c(Tg,"remove");function Ja(r){return r==null?r:rD.call(r)}c(Ja,"reverse");function cg(r,s,a){var u=r==null?0:r.length;return u?(a&&typeof a!="number"&&Ut(r,s,a)?(s=0,a=u):(s=s==null?0:Te(s),a=a===i?u:Te(a)),ur(r,s,a)):[]}c(cg,"slice");function lg(r,s){return No(r,s)}c(lg,"sortedIndex");function ug(r,s,a){return Ya(r,s,ee(a,2))}c(ug,"sortedIndexBy");function Eg(r,s){var a=r==null?0:r.length;if(a){var u=No(r,s);if(u<a&&Dr(r[u],s))return u}return-1}c(Eg,"sortedIndexOf");function hg(r,s){return No(r,s,!0)}c(hg,"sortedLastIndex");function Ng(r,s,a){return Ya(r,s,ee(a,2),!0)}c(Ng,"sortedLastIndexBy");function Sg(r,s){var a=r==null?0:r.length;if(a){var u=No(r,s,!0)-1;if(Dr(r[u],s))return u}return-1}c(Sg,"sortedLastIndexOf");function fg(r){return r&&r.length?NN(r):[]}c(fg,"sortedUniq");function Ag(r,s){return r&&r.length?NN(r,ee(s,2)):[]}c(Ag,"sortedUniqBy");function dg(r){var s=r==null?0:r.length;return s?ur(r,1,s):[]}c(dg,"tail");function Pg(r,s,a){return r&&r.length?(s=a||s===i?1:Te(s),ur(r,0,s<0?0:s)):[]}c(Pg,"take");function pg(r,s,a){var u=r==null?0:r.length;return u?(s=a||s===i?1:Te(s),s=u-s,ur(r,s<0?0:s,u)):[]}c(pg,"takeRight");function Rg(r,s){return r&&r.length?So(r,ee(s,3),!1,!0):[]}c(Rg,"takeRightWhile");function mg(r,s){return r&&r.length?So(r,ee(s,3)):[]}c(mg,"takeWhile");var Ig=Ee(function(r){return ds(At(r,1,$e,!0))}),Dg=Ee(function(r){var s=Er(r);return $e(s)&&(s=i),ds(At(r,1,$e,!0),ee(s,2))}),Cg=Ee(function(r){var s=Er(r);return s=typeof s=="function"?s:i,ds(At(r,1,$e,!0),i,s)});function gg(r){return r&&r.length?ds(r):[]}c(gg,"uniq");function Og(r,s){return r&&r.length?ds(r,ee(s,2)):[]}c(Og,"uniqBy");function Lg(r,s){return s=typeof s=="function"?s:i,r&&r.length?ds(r,i,s):[]}c(Lg,"uniqWith");function ja(r){if(!(r&&r.length))return[];var s=0;return r=Es(r,function(a){if($e(a))return s=at(a.length,s),!0}),ha(s,function(a){return He(r,la(a))})}c(ja,"unzip");function tS(r,s){if(!(r&&r.length))return[];var a=ja(r);return s==null?a:He(a,function(u){return Jt(s,i,u)})}c(tS,"unzipWith");var yg=Ee(function(r,s){return $e(r)?si(r,s):[]}),wg=Ee(function(r){return Ma(Es(r,$e))}),Bg=Ee(function(r){var s=Er(r);return $e(s)&&(s=i),Ma(Es(r,$e),ee(s,2))}),Yg=Ee(function(r){var s=Er(r);return s=typeof s=="function"?s:i,Ma(Es(r,$e),i,s)}),Ug=Ee(ja);function Mg(r,s){return dN(r||[],s||[],ri)}c(Mg,"zipObject");function Vg(r,s){return dN(r||[],s||[],oi)}c(Vg,"zipObjectDeep");var xg=Ee(function(r){var s=r.length,a=s>1?r[s-1]:i;return a=typeof a=="function"?(r.pop(),a):i,tS(r,a)});function rS(r){var s=N(r);return s.__chain__=!0,s}c(rS,"chain");function Fg(r,s){return s(r),r}c(Fg,"tap");function Co(r,s){return s(r)}c(Co,"thru");var bg=Qr(function(r){var s=r.length,a=s?r[0]:0,u=this.__wrapped__,h=c(function(f){return Ra(f,r)},"interceptor");return s>1||this.__actions__.length||!(u instanceof Ne)||!Jr(a)?this.thru(h):(u=u.slice(a,+a+(s?1:0)),u.__actions__.push({func:Co,args:[h],thisArg:i}),new cr(u,this.__chain__).thru(function(f){return s&&!f.length&&f.push(i),f}))});function vg(){return rS(this)}c(vg,"wrapperChain");function kg(){return new cr(this.value(),this.__chain__)}c(kg,"wrapperCommit");function Gg(){this.__values__===i&&(this.__values__=SS(this.value()));var r=this.__index__>=this.__values__.length,s=r?i:this.__values__[this.__index__++];return{done:r,value:s}}c(Gg,"wrapperNext");function Hg(){return this}c(Hg,"wrapperToIterator");function qg(r){for(var s,a=this;a instanceof co;){var u=QN(a);u.__index__=0,u.__values__=i,s?h.__wrapped__=u:s=u;var h=u;a=a.__wrapped__}return h.__wrapped__=r,s}c(qg,"wrapperPlant");function Kg(){var r=this.__wrapped__;if(r instanceof Ne){var s=r;return this.__actions__.length&&(s=new Ne(this)),s=s.reverse(),s.__actions__.push({func:Co,args:[Ja],thisArg:i}),new cr(s,this.__chain__)}return this.thru(Ja)}c(Kg,"wrapperReverse");function Wg(){return AN(this.__wrapped__,this.__actions__)}c(Wg,"wrapperValue");var zg=fo(function(r,s,a){Oe.call(r,a)?++r[a]:zr(r,a,1)});function Xg(r,s,a){var u=_e(r)?wh:FD;return a&&Ut(r,s,a)&&(s=i),u(r,ee(s,3))}c(Xg,"every");function Qg(r,s){var a=_e(r)?Es:tN;return a(r,ee(s,3))}c(Qg,"filter");var Jg=LN(JN),jg=LN(jN);function Zg(r,s){return At(go(r,s),1)}c(Zg,"flatMap");function $g(r,s){return At(go(r,s),bt)}c($g,"flatMapDeep");function eO(r,s,a){return a=a===i?1:Te(a),At(go(r,s),a)}c(eO,"flatMapDepth");function sS(r,s){var a=_e(r)?ar:As;return a(r,ee(s,3))}c(sS,"forEach");function nS(r,s){var a=_e(r)?dI:eN;return a(r,ee(s,3))}c(nS,"forEachRight");var tO=fo(function(r,s,a){Oe.call(r,a)?r[a].push(s):zr(r,a,[s])});function rO(r,s,a,u){r=kt(r)?r:dn(r),a=a&&!u?Te(a):0;var h=r.length;return a<0&&(a=at(h+a,0)),Bo(r)?a<=h&&r.indexOf(s,a)>-1:!!h&&an(r,s,a)>-1}c(rO,"includes");var sO=Ee(function(r,s,a){var u=-1,h=typeof s=="function",f=kt(r)?y(r.length):[];return As(r,function(A){f[++u]=h?Jt(s,A,a):ni(A,s,a)}),f}),nO=fo(function(r,s,a){zr(r,a,s)});function go(r,s){var a=_e(r)?He:_N;return a(r,ee(s,3))}c(go,"map");function iO(r,s,a,u){return r==null?[]:(_e(s)||(s=s==null?[]:[s]),a=u?i:a,_e(a)||(a=a==null?[]:[a]),lN(r,s,a))}c(iO,"orderBy");var oO=fo(function(r,s,a){r[a?0:1].push(s)},function(){return[[],[]]});function _O(r,s,a){var u=_e(r)?Ta:Mh,h=arguments.length<3;return u(r,ee(s,4),a,h,As)}c(_O,"reduce");function aO(r,s,a){var u=_e(r)?PI:Mh,h=arguments.length<3;return u(r,ee(s,4),a,h,eN)}c(aO,"reduceRight");function TO(r,s){var a=_e(r)?Es:tN;return a(r,yo(ee(s,3)))}c(TO,"reject");function cO(r){var s=_e(r)?Jh:rC;return s(r)}c(cO,"sample");function lO(r,s,a){(a?Ut(r,s,a):s===i)?s=1:s=Te(s);var u=_e(r)?YD:sC;return u(r,s)}c(lO,"sampleSize");function uO(r){var s=_e(r)?UD:iC;return s(r)}c(uO,"shuffle");function EO(r){if(r==null)return 0;if(kt(r))return Bo(r)?cn(r):r.length;var s=Dt(r);return s==pr||s==Rr?r.size:Oa(r).length}c(EO,"size");function hO(r,s,a){var u=_e(r)?ca:oC;return a&&Ut(r,s,a)&&(s=i),u(r,ee(s,3))}c(hO,"some");var NO=Ee(function(r,s){if(r==null)return[];var a=s.length;return a>1&&Ut(r,s[0],s[1])?s=[]:a>2&&Ut(s[0],s[1],s[2])&&(s=[s[0]]),lN(r,At(s,1),[])}),Oo=QI||function(){return ut.Date.now()};function SO(r,s){if(typeof s!="function")throw new Tr(o);return r=Te(r),function(){if(--r<1)return s.apply(this,arguments)}}c(SO,"after");function iS(r,s,a){return s=a?i:s,s=r&&s==null?r.length:s,Xr(r,ae,i,i,i,i,s)}c(iS,"ary");function oS(r,s){var a;if(typeof s!="function")throw new Tr(o);return r=Te(r),function(){return--r>0&&(a=s.apply(this,arguments)),r<=1&&(s=i),a}}c(oS,"before");var Za=Ee(function(r,s,a){var u=P;if(a.length){var h=Ns(a,fn(Za));u|=H}return Xr(r,u,s,a,h)}),_S=Ee(function(r,s,a){var u=P|g;if(a.length){var h=Ns(a,fn(_S));u|=H}return Xr(s,u,r,a,h)});function aS(r,s,a){s=a?i:s;var u=Xr(r,I,i,i,i,i,i,s);return u.placeholder=aS.placeholder,u}c(aS,"curry");function TS(r,s,a){s=a?i:s;var u=Xr(r,G,i,i,i,i,i,s);return u.placeholder=TS.placeholder,u}c(TS,"curryRight");function cS(r,s,a){var u,h,f,A,p,C,M=0,V=!1,v=!1,K=!0;if(typeof r!="function")throw new Tr(o);s=hr(s)||0,We(a)&&(V=!!a.leading,v="maxWait"in a,f=v?at(hr(a.maxWait)||0,s):f,K="trailing"in a?!!a.trailing:K);function Q(et){var Cr=u,$r=h;return u=h=i,M=et,A=r.apply($r,Cr),A}c(Q,"invokeFunc");function te(et){return M=et,p=Ti(he,s),V?Q(et):A}c(te,"leadingEdge");function ce(et){var Cr=et-C,$r=et-M,LS=s-Cr;return v?It(LS,f-$r):LS}c(ce,"remainingWait");function re(et){var Cr=et-C,$r=et-M;return C===i||Cr>=s||Cr<0||v&&$r>=f}c(re,"shouldInvoke");function he(){var et=Oo();if(re(et))return fe(et);p=Ti(he,ce(et))}c(he,"timerExpired");function fe(et){return p=i,K&&u?Q(et):(u=h=i,A)}c(fe,"trailingEdge");function er(){p!==i&&PN(p),M=0,u=C=h=p=i}c(er,"cancel");function Mt(){return p===i?A:fe(Oo())}c(Mt,"flush");function tr(){var et=Oo(),Cr=re(et);if(u=arguments,h=this,C=et,Cr){if(p===i)return te(C);if(v)return PN(p),p=Ti(he,s),Q(C)}return p===i&&(p=Ti(he,s)),A}return c(tr,"debounced"),tr.cancel=er,tr.flush=Mt,tr}c(cS,"debounce");var fO=Ee(function(r,s){return $h(r,1,s)}),AO=Ee(function(r,s,a){return $h(r,hr(s)||0,a)});function dO(r){return Xr(r,pe)}c(dO,"flip");function Lo(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new Tr(o);var a=c(function(){var u=arguments,h=s?s.apply(this,u):u[0],f=a.cache;if(f.has(h))return f.get(h);var A=r.apply(this,u);return a.cache=f.set(h,A)||f,A},"memoized");return a.cache=new(Lo.Cache||Wr),a}c(Lo,"memoize"),Lo.Cache=Wr;function yo(r){if(typeof r!="function")throw new Tr(o);return function(){var s=arguments;switch(s.length){case 0:return!r.call(this);case 1:return!r.call(this,s[0]);case 2:return!r.call(this,s[0],s[1]);case 3:return!r.call(this,s[0],s[1],s[2])}return!r.apply(this,s)}}c(yo,"negate");function PO(r){return oS(2,r)}c(PO,"once");var pO=_C(function(r,s){s=s.length==1&&_e(s[0])?He(s[0],jt(ee())):He(At(s,1),jt(ee()));var a=s.length;return Ee(function(u){for(var h=-1,f=It(u.length,a);++h<f;)u[h]=s[h].call(this,u[h]);return Jt(r,this,u)})}),$a=Ee(function(r,s){var a=Ns(s,fn($a));return Xr(r,H,i,s,a)}),lS=Ee(function(r,s){var a=Ns(s,fn(lS));return Xr(r,W,i,s,a)}),RO=Qr(function(r,s){return Xr(r,ue,i,i,i,s)});function mO(r,s){if(typeof r!="function")throw new Tr(o);return s=s===i?s:Te(s),Ee(r,s)}c(mO,"rest");function IO(r,s){if(typeof r!="function")throw new Tr(o);return s=s==null?0:at(Te(s),0),Ee(function(a){var u=a[s],h=ps(a,0,s);return u&&hs(h,u),Jt(r,this,h)})}c(IO,"spread");function DO(r,s,a){var u=!0,h=!0;if(typeof r!="function")throw new Tr(o);return We(a)&&(u="leading"in a?!!a.leading:u,h="trailing"in a?!!a.trailing:h),cS(r,s,{leading:u,maxWait:s,trailing:h})}c(DO,"throttle");function CO(r){return iS(r,1)}c(CO,"unary");function gO(r,s){return $a(xa(s),r)}c(gO,"wrap");function OO(){if(!arguments.length)return[];var r=arguments[0];return _e(r)?r:[r]}c(OO,"castArray");function LO(r){return lr(r,L)}c(LO,"clone");function yO(r,s){return s=typeof s=="function"?s:i,lr(r,L,s)}c(yO,"cloneWith");function wO(r){return lr(r,R|L)}c(wO,"cloneDeep");function BO(r,s){return s=typeof s=="function"?s:i,lr(r,R|L,s)}c(BO,"cloneDeepWith");function YO(r,s){return s==null||Zh(r,s,Et(s))}c(YO,"conformsTo");function Dr(r,s){return r===s||r!==r&&s!==s}c(Dr,"eq");var UO=Ro(Da),MO=Ro(function(r,s){return r>=s}),zs=nN(function(){return arguments}())?nN:function(r){return Qe(r)&&Oe.call(r,"callee")&&!qh.call(r,"callee")},_e=y.isArray,VO=Dh?jt(Dh):qD;function kt(r){return r!=null&&wo(r.length)&&!jr(r)}c(kt,"isArrayLike");function $e(r){return Qe(r)&&kt(r)}c($e,"isArrayLikeObject");function xO(r){return r===!0||r===!1||Qe(r)&&Yt(r)==Hn}c(xO,"isBoolean");var Rs=jI||cT,FO=Ch?jt(Ch):KD;function bO(r){return Qe(r)&&r.nodeType===1&&!ci(r)}c(bO,"isElement");function vO(r){if(r==null)return!0;if(kt(r)&&(_e(r)||typeof r=="string"||typeof r.splice=="function"||Rs(r)||An(r)||zs(r)))return!r.length;var s=Dt(r);if(s==pr||s==Rr)return!r.size;if(ai(r))return!Oa(r).length;for(var a in r)if(Oe.call(r,a))return!1;return!0}c(vO,"isEmpty");function kO(r,s){return ii(r,s)}c(kO,"isEqual");function GO(r,s,a){a=typeof a=="function"?a:i;var u=a?a(r,s):i;return u===i?ii(r,s,i,a):!!u}c(GO,"isEqualWith");function eT(r){if(!Qe(r))return!1;var s=Yt(r);return s==Gi||s==lm||typeof r.message=="string"&&typeof r.name=="string"&&!ci(r)}c(eT,"isError");function HO(r){return typeof r=="number"&&Wh(r)}c(HO,"isFinite");function jr(r){if(!We(r))return!1;var s=Yt(r);return s==Hi||s==$E||s==cm||s==Em}c(jr,"isFunction");function uS(r){return typeof r=="number"&&r==Te(r)}c(uS,"isInteger");function wo(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=or}c(wo,"isLength");function We(r){var s=typeof r;return r!=null&&(s=="object"||s=="function")}c(We,"isObject");function Qe(r){return r!=null&&typeof r=="object"}c(Qe,"isObjectLike");var ES=gh?jt(gh):zD;function qO(r,s){return r===s||ga(r,s,qa(s))}c(qO,"isMatch");function KO(r,s,a){return a=typeof a=="function"?a:i,ga(r,s,qa(s),a)}c(KO,"isMatchWith");function WO(r){return hS(r)&&r!=+r}c(WO,"isNaN");function zO(r){if(yC(r))throw new oe(n);return iN(r)}c(zO,"isNative");function XO(r){return r===null}c(XO,"isNull");function QO(r){return r==null}c(QO,"isNil");function hS(r){return typeof r=="number"||Qe(r)&&Yt(r)==Kn}c(hS,"isNumber");function ci(r){if(!Qe(r)||Yt(r)!=qr)return!1;var s=so(r);if(s===null)return!0;var a=Oe.call(s,"constructor")&&s.constructor;return typeof a=="function"&&a instanceof a&&$i.call(a)==KI}c(ci,"isPlainObject");var tT=Oh?jt(Oh):XD;function JO(r){return uS(r)&&r>=-or&&r<=or}c(JO,"isSafeInteger");var NS=Lh?jt(Lh):QD;function Bo(r){return typeof r=="string"||!_e(r)&&Qe(r)&&Yt(r)==zn}c(Bo,"isString");function $t(r){return typeof r=="symbol"||Qe(r)&&Yt(r)==qi}c($t,"isSymbol");var An=yh?jt(yh):JD;function jO(r){return r===i}c(jO,"isUndefined");function ZO(r){return Qe(r)&&Dt(r)==Xn}c(ZO,"isWeakMap");function $O(r){return Qe(r)&&Yt(r)==Nm}c($O,"isWeakSet");var e0=Ro(La),t0=Ro(function(r,s){return r<=s});function SS(r){if(!r)return[];if(kt(r))return Bo(r)?mr(r):vt(r);if(jn&&r[jn])return YI(r[jn]());var s=Dt(r),a=s==pr?Sa:s==Rr?Ji:dn;return a(r)}c(SS,"toArray");function Zr(r){if(!r)return r===0?r:0;if(r=hr(r),r===bt||r===-bt){var s=r<0?-1:1;return s*Fs}return r===r?r:0}c(Zr,"toFinite");function Te(r){var s=Zr(r),a=s%1;return s===s?a?s-a:s:0}c(Te,"toInteger");function fS(r){return r?Hs(Te(r),0,Yr):0}c(fS,"toLength");function hr(r){if(typeof r=="number")return r;if($t(r))return vi;if(We(r)){var s=typeof r.valueOf=="function"?r.valueOf():r;r=We(s)?s+"":s}if(typeof r!="string")return r===0?r:+r;r=Vh(r);var a=Vm.test(r);return a||Fm.test(r)?SI(r.slice(2),a?2:8):Mm.test(r)?vi:+r}c(hr,"toNumber");function AS(r){return Mr(r,Gt(r))}c(AS,"toPlainObject");function r0(r){return r?Hs(Te(r),-or,or):r===0?r:0}c(r0,"toSafeInteger");function De(r){return r==null?"":Zt(r)}c(De,"toString");var s0=Nn(function(r,s){if(ai(s)||kt(s)){Mr(s,Et(s),r);return}for(var a in s)Oe.call(s,a)&&ri(r,a,s[a])}),dS=Nn(function(r,s){Mr(s,Gt(s),r)}),Yo=Nn(function(r,s,a,u){Mr(s,Gt(s),r,u)}),n0=Nn(function(r,s,a,u){Mr(s,Et(s),r,u)}),i0=Qr(Ra);function o0(r,s){var a=hn(r);return s==null?a:jh(a,s)}c(o0,"create");var _0=Ee(function(r,s){r=Be(r);var a=-1,u=s.length,h=u>2?s[2]:i;for(h&&Ut(s[0],s[1],h)&&(u=1);++a<u;)for(var f=s[a],A=Gt(f),p=-1,C=A.length;++p<C;){var M=A[p],V=r[M];(V===i||Dr(V,ln[M])&&!Oe.call(r,M))&&(r[M]=f[M])}return r}),a0=Ee(function(r){return r.push(i,VN),Jt(PS,i,r)});function T0(r,s){return Bh(r,ee(s,3),Ur)}c(T0,"findKey");function c0(r,s){return Bh(r,ee(s,3),Ia)}c(c0,"findLastKey");function l0(r,s){return r==null?r:ma(r,ee(s,3),Gt)}c(l0,"forIn");function u0(r,s){return r==null?r:rN(r,ee(s,3),Gt)}c(u0,"forInRight");function E0(r,s){return r&&Ur(r,ee(s,3))}c(E0,"forOwn");function h0(r,s){return r&&Ia(r,ee(s,3))}c(h0,"forOwnRight");function N0(r){return r==null?[]:Eo(r,Et(r))}c(N0,"functions");function S0(r){return r==null?[]:Eo(r,Gt(r))}c(S0,"functionsIn");function rT(r,s,a){var u=r==null?i:qs(r,s);return u===i?a:u}c(rT,"get");function f0(r,s){return r!=null&&bN(r,s,vD)}c(f0,"has");function sT(r,s){return r!=null&&bN(r,s,kD)}c(sT,"hasIn");var A0=wN(function(r,s,a){s!=null&&typeof s.toString!="function"&&(s=eo.call(s)),r[s]=a},iT(Ht)),d0=wN(function(r,s,a){s!=null&&typeof s.toString!="function"&&(s=eo.call(s)),Oe.call(r,s)?r[s].push(a):r[s]=[a]},ee),P0=Ee(ni);function Et(r){return kt(r)?Qh(r):Oa(r)}c(Et,"keys");function Gt(r){return kt(r)?Qh(r,!0):jD(r)}c(Gt,"keysIn");function p0(r,s){var a={};return s=ee(s,3),Ur(r,function(u,h,f){zr(a,s(u,h,f),u)}),a}c(p0,"mapKeys");function R0(r,s){var a={};return s=ee(s,3),Ur(r,function(u,h,f){zr(a,h,s(u,h,f))}),a}c(R0,"mapValues");var m0=Nn(function(r,s,a){ho(r,s,a)}),PS=Nn(function(r,s,a,u){ho(r,s,a,u)}),I0=Qr(function(r,s){var a={};if(r==null)return a;var u=!1;s=He(s,function(f){return f=Ps(f,r),u||(u=f.length>1),f}),Mr(r,Ga(r),a),u&&(a=lr(a,R|d|L,AC));for(var h=s.length;h--;)Ua(a,s[h]);return a});function D0(r,s){return pS(r,yo(ee(s)))}c(D0,"omitBy");var C0=Qr(function(r,s){return r==null?{}:$D(r,s)});function pS(r,s){if(r==null)return{};var a=He(Ga(r),function(u){return[u]});return s=ee(s),uN(r,a,function(u,h){return s(u,h[0])})}c(pS,"pickBy");function g0(r,s,a){s=Ps(s,r);var u=-1,h=s.length;for(h||(h=1,r=i);++u<h;){var f=r==null?i:r[Vr(s[u])];f===i&&(u=h,f=a),r=jr(f)?f.call(r):f}return r}c(g0,"result");function O0(r,s,a){return r==null?r:oi(r,s,a)}c(O0,"set");function L0(r,s,a,u){return u=typeof u=="function"?u:i,r==null?r:oi(r,s,a,u)}c(L0,"setWith");var RS=UN(Et),mS=UN(Gt);function y0(r,s,a){var u=_e(r),h=u||Rs(r)||An(r);if(s=ee(s,4),a==null){var f=r&&r.constructor;h?a=u?new f:[]:We(r)?a=jr(f)?hn(so(r)):{}:a={}}return(h?ar:Ur)(r,function(A,p,C){return s(a,A,p,C)}),a}c(y0,"transform");function w0(r,s){return r==null?!0:Ua(r,s)}c(w0,"unset");function B0(r,s,a){return r==null?r:fN(r,s,xa(a))}c(B0,"update");function Y0(r,s,a,u){return u=typeof u=="function"?u:i,r==null?r:fN(r,s,xa(a),u)}c(Y0,"updateWith");function dn(r){return r==null?[]:Na(r,Et(r))}c(dn,"values");function U0(r){return r==null?[]:Na(r,Gt(r))}c(U0,"valuesIn");function M0(r,s,a){return a===i&&(a=s,s=i),a!==i&&(a=hr(a),a=a===a?a:0),s!==i&&(s=hr(s),s=s===s?s:0),Hs(hr(r),s,a)}c(M0,"clamp");function V0(r,s,a){return s=Zr(s),a===i?(a=s,s=0):a=Zr(a),r=hr(r),GD(r,s,a)}c(V0,"inRange");function x0(r,s,a){if(a&&typeof a!="boolean"&&Ut(r,s,a)&&(s=a=i),a===i&&(typeof s=="boolean"?(a=s,s=i):typeof r=="boolean"&&(a=r,r=i)),r===i&&s===i?(r=0,s=1):(r=Zr(r),s===i?(s=r,r=0):s=Zr(s)),r>s){var u=r;r=s,s=u}if(a||r%1||s%1){var h=zh();return It(r+h*(s-r+NI("1e-"+((h+"").length-1))),s)}return wa(r,s)}c(x0,"random");var F0=Sn(function(r,s,a){return s=s.toLowerCase(),r+(a?IS(s):s)});function IS(r){return nT(De(r).toLowerCase())}c(IS,"capitalize");function DS(r){return r=De(r),r&&r.replace(vm,OI).replace(iI,"")}c(DS,"deburr");function b0(r,s,a){r=De(r),s=Zt(s);var u=r.length;a=a===i?u:Hs(Te(a),0,u);var h=a;return a-=s.length,a>=0&&r.slice(a,h)==s}c(b0,"endsWith");function v0(r){return r=De(r),r&&Pm.test(r)?r.replace(rh,LI):r}c(v0,"escape");function k0(r){return r=De(r),r&&Cm.test(r)?r.replace($_,"\\$&"):r}c(k0,"escapeRegExp");var G0=Sn(function(r,s,a){return r+(a?"-":"")+s.toLowerCase()}),H0=Sn(function(r,s,a){return r+(a?" ":"")+s.toLowerCase()}),q0=ON("toLowerCase");function K0(r,s,a){r=De(r),s=Te(s);var u=s?cn(r):0;if(!s||u>=s)return r;var h=(s-u)/2;return po(_o(h),a)+r+po(oo(h),a)}c(K0,"pad");function W0(r,s,a){r=De(r),s=Te(s);var u=s?cn(r):0;return s&&u<s?r+po(s-u,a):r}c(W0,"padEnd");function z0(r,s,a){r=De(r),s=Te(s);var u=s?cn(r):0;return s&&u<s?po(s-u,a)+r:r}c(z0,"padStart");function X0(r,s,a){return a||s==null?s=0:s&&(s=+s),tD(De(r).replace(ea,""),s||0)}c(X0,"parseInt");function Q0(r,s,a){return(a?Ut(r,s,a):s===i)?s=1:s=Te(s),Ba(De(r),s)}c(Q0,"repeat");function J0(){var r=arguments,s=De(r[0]);return r.length<3?s:s.replace(r[1],r[2])}c(J0,"replace");var j0=Sn(function(r,s,a){return r+(a?"_":"")+s.toLowerCase()});function Z0(r,s,a){return a&&typeof a!="number"&&Ut(r,s,a)&&(s=a=i),a=a===i?Yr:a>>>0,a?(r=De(r),r&&(typeof s=="string"||s!=null&&!tT(s))&&(s=Zt(s),!s&&Tn(r))?ps(mr(r),0,a):r.split(s,a)):[]}c(Z0,"split");var $0=Sn(function(r,s,a){return r+(a?" ":"")+nT(s)});function eL(r,s,a){return r=De(r),a=a==null?0:Hs(Te(a),0,r.length),s=Zt(s),r.slice(a,a+s.length)==s}c(eL,"startsWith");function tL(r,s,a){var u=N.templateSettings;a&&Ut(r,s,a)&&(s=i),r=De(r),s=Yo({},s,u,MN);var h=Yo({},s.imports,u.imports,MN),f=Et(h),A=Na(h,f),p,C,M=0,V=s.interpolate||Ki,v="__p += '",K=fa((s.escape||Ki).source+"|"+V.source+"|"+(V===sh?Um:Ki).source+"|"+(s.evaluate||Ki).source+"|$","g"),Q="//# sourceURL="+(Oe.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++cI+"]")+`
`;r.replace(K,function(re,he,fe,er,Mt,tr){return fe||(fe=er),v+=r.slice(M,tr).replace(km,yI),he&&(p=!0,v+=`' +
__e(`+he+`) +
'`),Mt&&(C=!0,v+=`';
`+Mt+`;
__p += '`),fe&&(v+=`' +
((__t = (`+fe+`)) == null ? '' : __t) +
'`),M=tr+re.length,re}),v+=`';
`;var te=Oe.call(s,"variable")&&s.variable;if(!te)v=`with (obj) {
`+v+`
}
`;else if(Bm.test(te))throw new oe(T);v=(C?v.replace(Sm,""):v).replace(fm,"$1").replace(Am,"$1;"),v="function("+(te||"obj")+`) {
`+(te?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(p?", __e = _.escape":"")+(C?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+v+`return __p
}`;var ce=gS(function(){return me(f,Q+"return "+v).apply(i,A)});if(ce.source=v,eT(ce))throw ce;return ce}c(tL,"template");function rL(r){return De(r).toLowerCase()}c(rL,"toLower");function sL(r){return De(r).toUpperCase()}c(sL,"toUpper");function nL(r,s,a){if(r=De(r),r&&(a||s===i))return Vh(r);if(!r||!(s=Zt(s)))return r;var u=mr(r),h=mr(s),f=xh(u,h),A=Fh(u,h)+1;return ps(u,f,A).join("")}c(nL,"trim");function iL(r,s,a){if(r=De(r),r&&(a||s===i))return r.slice(0,vh(r)+1);if(!r||!(s=Zt(s)))return r;var u=mr(r),h=Fh(u,mr(s))+1;return ps(u,0,h).join("")}c(iL,"trimEnd");function oL(r,s,a){if(r=De(r),r&&(a||s===i))return r.replace(ea,"");if(!r||!(s=Zt(s)))return r;var u=mr(r),h=xh(u,mr(s));return ps(u,h).join("")}c(oL,"trimStart");function _L(r,s){var a=Ye,u=Ge;if(We(s)){var h="separator"in s?s.separator:h;a="length"in s?Te(s.length):a,u="omission"in s?Zt(s.omission):u}r=De(r);var f=r.length;if(Tn(r)){var A=mr(r);f=A.length}if(a>=f)return r;var p=a-cn(u);if(p<1)return u;var C=A?ps(A,0,p).join(""):r.slice(0,p);if(h===i)return C+u;if(A&&(p+=C.length-p),tT(h)){if(r.slice(p).search(h)){var M,V=C;for(h.global||(h=fa(h.source,De(nh.exec(h))+"g")),h.lastIndex=0;M=h.exec(V);)var v=M.index;C=C.slice(0,v===i?p:v)}}else if(r.indexOf(Zt(h),p)!=p){var K=C.lastIndexOf(h);K>-1&&(C=C.slice(0,K))}return C+u}c(_L,"truncate");function aL(r){return r=De(r),r&&dm.test(r)?r.replace(th,xI):r}c(aL,"unescape");var TL=Sn(function(r,s,a){return r+(a?" ":"")+s.toUpperCase()}),nT=ON("toUpperCase");function CS(r,s,a){return r=De(r),s=a?i:s,s===i?BI(r)?vI(r):mI(r):r.match(s)||[]}c(CS,"words");var gS=Ee(function(r,s){try{return Jt(r,i,s)}catch(a){return eT(a)?a:new oe(a)}}),cL=Qr(function(r,s){return ar(s,function(a){a=Vr(a),zr(r,a,Za(r[a],r))}),r});function lL(r){var s=r==null?0:r.length,a=ee();return r=s?He(r,function(u){if(typeof u[1]!="function")throw new Tr(o);return[a(u[0]),u[1]]}):[],Ee(function(u){for(var h=-1;++h<s;){var f=r[h];if(Jt(f[0],this,u))return Jt(f[1],this,u)}})}c(lL,"cond");function uL(r){return xD(lr(r,R))}c(uL,"conforms");function iT(r){return function(){return r}}c(iT,"constant");function EL(r,s){return r==null||r!==r?s:r}c(EL,"defaultTo");var hL=yN(),NL=yN(!0);function Ht(r){return r}c(Ht,"identity");function oT(r){return oN(typeof r=="function"?r:lr(r,R))}c(oT,"iteratee");function SL(r){return aN(lr(r,R))}c(SL,"matches");function fL(r,s){return TN(r,lr(s,R))}c(fL,"matchesProperty");var AL=Ee(function(r,s){return function(a){return ni(a,r,s)}}),dL=Ee(function(r,s){return function(a){return ni(r,a,s)}});function _T(r,s,a){var u=Et(s),h=Eo(s,u);a==null&&!(We(s)&&(h.length||!u.length))&&(a=s,s=r,r=this,h=Eo(s,Et(s)));var f=!(We(a)&&"chain"in a)||!!a.chain,A=jr(r);return ar(h,function(p){var C=s[p];r[p]=C,A&&(r.prototype[p]=function(){var M=this.__chain__;if(f||M){var V=r(this.__wrapped__),v=V.__actions__=vt(this.__actions__);return v.push({func:C,args:arguments,thisArg:r}),V.__chain__=M,V}return C.apply(r,hs([this.value()],arguments))})}),r}c(_T,"mixin");function PL(){return ut._===this&&(ut._=WI),this}c(PL,"noConflict");function aT(){}c(aT,"noop");function pL(r){return r=Te(r),Ee(function(s){return cN(s,r)})}c(pL,"nthArg");var RL=ba(He),mL=ba(wh),IL=ba(ca);function OS(r){return Wa(r)?la(Vr(r)):eC(r)}c(OS,"property");function DL(r){return function(s){return r==null?i:qs(r,s)}}c(DL,"propertyOf");var CL=BN(),gL=BN(!0);function TT(){return[]}c(TT,"stubArray");function cT(){return!1}c(cT,"stubFalse");function OL(){return{}}c(OL,"stubObject");function LL(){return""}c(LL,"stubString");function yL(){return!0}c(yL,"stubTrue");function wL(r,s){if(r=Te(r),r<1||r>or)return[];var a=Yr,u=It(r,Yr);s=ee(s),r-=Yr;for(var h=ha(u,s);++a<r;)s(a);return h}c(wL,"times");function BL(r){return _e(r)?He(r,Vr):$t(r)?[r]:vt(XN(De(r)))}c(BL,"toPath");function YL(r){var s=++qI;return De(r)+s}c(YL,"uniqueId");var UL=Po(function(r,s){return r+s},0),ML=va("ceil"),VL=Po(function(r,s){return r/s},1),xL=va("floor");function FL(r){return r&&r.length?uo(r,Ht,Da):i}c(FL,"max");function bL(r,s){return r&&r.length?uo(r,ee(s,2),Da):i}c(bL,"maxBy");function vL(r){return Uh(r,Ht)}c(vL,"mean");function kL(r,s){return Uh(r,ee(s,2))}c(kL,"meanBy");function GL(r){return r&&r.length?uo(r,Ht,La):i}c(GL,"min");function HL(r,s){return r&&r.length?uo(r,ee(s,2),La):i}c(HL,"minBy");var qL=Po(function(r,s){return r*s},1),KL=va("round"),WL=Po(function(r,s){return r-s},0);function zL(r){return r&&r.length?Ea(r,Ht):0}c(zL,"sum");function XL(r,s){return r&&r.length?Ea(r,ee(s,2)):0}return c(XL,"sumBy"),N.after=SO,N.ary=iS,N.assign=s0,N.assignIn=dS,N.assignInWith=Yo,N.assignWith=n0,N.at=i0,N.before=oS,N.bind=Za,N.bindAll=cL,N.bindKey=_S,N.castArray=OO,N.chain=rS,N.chunk=xC,N.compact=FC,N.concat=bC,N.cond=lL,N.conforms=uL,N.constant=iT,N.countBy=zg,N.create=o0,N.curry=aS,N.curryRight=TS,N.debounce=cS,N.defaults=_0,N.defaultsDeep=a0,N.defer=fO,N.delay=AO,N.difference=vC,N.differenceBy=kC,N.differenceWith=GC,N.drop=HC,N.dropRight=qC,N.dropRightWhile=KC,N.dropWhile=WC,N.fill=zC,N.filter=Qg,N.flatMap=Zg,N.flatMapDeep=$g,N.flatMapDepth=eO,N.flatten=ZN,N.flattenDeep=XC,N.flattenDepth=QC,N.flip=dO,N.flow=hL,N.flowRight=NL,N.fromPairs=JC,N.functions=N0,N.functionsIn=S0,N.groupBy=tO,N.initial=ZC,N.intersection=$C,N.intersectionBy=eg,N.intersectionWith=tg,N.invert=A0,N.invertBy=d0,N.invokeMap=sO,N.iteratee=oT,N.keyBy=nO,N.keys=Et,N.keysIn=Gt,N.map=go,N.mapKeys=p0,N.mapValues=R0,N.matches=SL,N.matchesProperty=fL,N.memoize=Lo,N.merge=m0,N.mergeWith=PS,N.method=AL,N.methodOf=dL,N.mixin=_T,N.negate=yo,N.nthArg=pL,N.omit=I0,N.omitBy=D0,N.once=PO,N.orderBy=iO,N.over=RL,N.overArgs=pO,N.overEvery=mL,N.overSome=IL,N.partial=$a,N.partialRight=lS,N.partition=oO,N.pick=C0,N.pickBy=pS,N.property=OS,N.propertyOf=DL,N.pull=ig,N.pullAll=eS,N.pullAllBy=og,N.pullAllWith=_g,N.pullAt=ag,N.range=CL,N.rangeRight=gL,N.rearg=RO,N.reject=TO,N.remove=Tg,N.rest=mO,N.reverse=Ja,N.sampleSize=lO,N.set=O0,N.setWith=L0,N.shuffle=uO,N.slice=cg,N.sortBy=NO,N.sortedUniq=fg,N.sortedUniqBy=Ag,N.split=Z0,N.spread=IO,N.tail=dg,N.take=Pg,N.takeRight=pg,N.takeRightWhile=Rg,N.takeWhile=mg,N.tap=Fg,N.throttle=DO,N.thru=Co,N.toArray=SS,N.toPairs=RS,N.toPairsIn=mS,N.toPath=BL,N.toPlainObject=AS,N.transform=y0,N.unary=CO,N.union=Ig,N.unionBy=Dg,N.unionWith=Cg,N.uniq=gg,N.uniqBy=Og,N.uniqWith=Lg,N.unset=w0,N.unzip=ja,N.unzipWith=tS,N.update=B0,N.updateWith=Y0,N.values=dn,N.valuesIn=U0,N.without=yg,N.words=CS,N.wrap=gO,N.xor=wg,N.xorBy=Bg,N.xorWith=Yg,N.zip=Ug,N.zipObject=Mg,N.zipObjectDeep=Vg,N.zipWith=xg,N.entries=RS,N.entriesIn=mS,N.extend=dS,N.extendWith=Yo,_T(N,N),N.add=UL,N.attempt=gS,N.camelCase=F0,N.capitalize=IS,N.ceil=ML,N.clamp=M0,N.clone=LO,N.cloneDeep=wO,N.cloneDeepWith=BO,N.cloneWith=yO,N.conformsTo=YO,N.deburr=DS,N.defaultTo=EL,N.divide=VL,N.endsWith=b0,N.eq=Dr,N.escape=v0,N.escapeRegExp=k0,N.every=Xg,N.find=Jg,N.findIndex=JN,N.findKey=T0,N.findLast=jg,N.findLastIndex=jN,N.findLastKey=c0,N.floor=xL,N.forEach=sS,N.forEachRight=nS,N.forIn=l0,N.forInRight=u0,N.forOwn=E0,N.forOwnRight=h0,N.get=rT,N.gt=UO,N.gte=MO,N.has=f0,N.hasIn=sT,N.head=$N,N.identity=Ht,N.includes=rO,N.indexOf=jC,N.inRange=V0,N.invoke=P0,N.isArguments=zs,N.isArray=_e,N.isArrayBuffer=VO,N.isArrayLike=kt,N.isArrayLikeObject=$e,N.isBoolean=xO,N.isBuffer=Rs,N.isDate=FO,N.isElement=bO,N.isEmpty=vO,N.isEqual=kO,N.isEqualWith=GO,N.isError=eT,N.isFinite=HO,N.isFunction=jr,N.isInteger=uS,N.isLength=wo,N.isMap=ES,N.isMatch=qO,N.isMatchWith=KO,N.isNaN=WO,N.isNative=zO,N.isNil=QO,N.isNull=XO,N.isNumber=hS,N.isObject=We,N.isObjectLike=Qe,N.isPlainObject=ci,N.isRegExp=tT,N.isSafeInteger=JO,N.isSet=NS,N.isString=Bo,N.isSymbol=$t,N.isTypedArray=An,N.isUndefined=jO,N.isWeakMap=ZO,N.isWeakSet=$O,N.join=rg,N.kebabCase=G0,N.last=Er,N.lastIndexOf=sg,N.lowerCase=H0,N.lowerFirst=q0,N.lt=e0,N.lte=t0,N.max=FL,N.maxBy=bL,N.mean=vL,N.meanBy=kL,N.min=GL,N.minBy=HL,N.stubArray=TT,N.stubFalse=cT,N.stubObject=OL,N.stubString=LL,N.stubTrue=yL,N.multiply=qL,N.nth=ng,N.noConflict=PL,N.noop=aT,N.now=Oo,N.pad=K0,N.padEnd=W0,N.padStart=z0,N.parseInt=X0,N.random=x0,N.reduce=_O,N.reduceRight=aO,N.repeat=Q0,N.replace=J0,N.result=g0,N.round=KL,N.runInContext=D,N.sample=cO,N.size=EO,N.snakeCase=j0,N.some=hO,N.sortedIndex=lg,N.sortedIndexBy=ug,N.sortedIndexOf=Eg,N.sortedLastIndex=hg,N.sortedLastIndexBy=Ng,N.sortedLastIndexOf=Sg,N.startCase=$0,N.startsWith=eL,N.subtract=WL,N.sum=zL,N.sumBy=XL,N.template=tL,N.times=wL,N.toFinite=Zr,N.toInteger=Te,N.toLength=fS,N.toLower=rL,N.toNumber=hr,N.toSafeInteger=r0,N.toString=De,N.toUpper=sL,N.trim=nL,N.trimEnd=iL,N.trimStart=oL,N.truncate=_L,N.unescape=aL,N.uniqueId=YL,N.upperCase=TL,N.upperFirst=nT,N.each=sS,N.eachRight=nS,N.first=$N,_T(N,function(){var r={};return Ur(N,function(s,a){Oe.call(N.prototype,a)||(r[a]=s)}),r}(),{chain:!1}),N.VERSION=e,ar(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){N[r].placeholder=N}),ar(["drop","take"],function(r,s){Ne.prototype[r]=function(a){a=a===i?1:at(Te(a),0);var u=this.__filtered__&&!s?new Ne(this):this.clone();return u.__filtered__?u.__takeCount__=It(a,u.__takeCount__):u.__views__.push({size:It(a,Yr),type:r+(u.__dir__<0?"Right":"")}),u},Ne.prototype[r+"Right"]=function(a){return this.reverse()[r](a).reverse()}}),ar(["filter","map","takeWhile"],function(r,s){var a=s+1,u=a==xs||a==bi;Ne.prototype[r]=function(h){var f=this.clone();return f.__iteratees__.push({iteratee:ee(h,3),type:a}),f.__filtered__=f.__filtered__||u,f}}),ar(["head","last"],function(r,s){var a="take"+(s?"Right":"");Ne.prototype[r]=function(){return this[a](1).value()[0]}}),ar(["initial","tail"],function(r,s){var a="drop"+(s?"":"Right");Ne.prototype[r]=function(){return this.__filtered__?new Ne(this):this[a](1)}}),Ne.prototype.compact=function(){return this.filter(Ht)},Ne.prototype.find=function(r){return this.filter(r).head()},Ne.prototype.findLast=function(r){return this.reverse().find(r)},Ne.prototype.invokeMap=Ee(function(r,s){return typeof r=="function"?new Ne(this):this.map(function(a){return ni(a,r,s)})}),Ne.prototype.reject=function(r){return this.filter(yo(ee(r)))},Ne.prototype.slice=function(r,s){r=Te(r);var a=this;return a.__filtered__&&(r>0||s<0)?new Ne(a):(r<0?a=a.takeRight(-r):r&&(a=a.drop(r)),s!==i&&(s=Te(s),a=s<0?a.dropRight(-s):a.take(s-r)),a)},Ne.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Ne.prototype.toArray=function(){return this.take(Yr)},Ur(Ne.prototype,function(r,s){var a=/^(?:filter|find|map|reject)|While$/.test(s),u=/^(?:head|last)$/.test(s),h=N[u?"take"+(s=="last"?"Right":""):s],f=u||/^find/.test(s);h&&(N.prototype[s]=function(){var A=this.__wrapped__,p=u?[1]:arguments,C=A instanceof Ne,M=p[0],V=C||_e(A),v=c(function(he){var fe=h.apply(N,hs([he],p));return u&&K?fe[0]:fe},"interceptor");V&&a&&typeof M=="function"&&M.length!=1&&(C=V=!1);var K=this.__chain__,Q=!!this.__actions__.length,te=f&&!K,ce=C&&!Q;if(!f&&V){A=ce?A:new Ne(this);var re=r.apply(A,p);return re.__actions__.push({func:Co,args:[v],thisArg:i}),new cr(re,K)}return te&&ce?r.apply(this,p):(re=this.thru(v),te?u?re.value()[0]:re.value():re)})}),ar(["pop","push","shift","sort","splice","unshift"],function(r){var s=ji[r],a=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",u=/^(?:pop|shift)$/.test(r);N.prototype[r]=function(){var h=arguments;if(u&&!this.__chain__){var f=this.value();return s.apply(_e(f)?f:[],h)}return this[a](function(A){return s.apply(_e(A)?A:[],h)})}}),Ur(Ne.prototype,function(r,s){var a=N[s];if(a){var u=a.name+"";Oe.call(En,u)||(En[u]=[]),En[u].push({name:s,func:a})}}),En[Ao(i,g).name]=[{name:"wrapper",func:i}],Ne.prototype.clone=aD,Ne.prototype.reverse=TD,Ne.prototype.value=cD,N.prototype.at=bg,N.prototype.chain=vg,N.prototype.commit=kg,N.prototype.next=Gg,N.prototype.plant=qg,N.prototype.reverse=Kg,N.prototype.toJSON=N.prototype.valueOf=N.prototype.value=Wg,N.prototype.first=N.prototype.head,jn&&(N.prototype[jn]=Hg),N},"runInContext"),Ss=kI();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(ut._=Ss,define(function(){return Ss})):bs?((bs.exports=Ss)._=Ss,oa._=Ss):ut._=Ss}).call(Pn)});var yS=b((IM,JL)=>{JL.exports={name:"Oracle",version:"0.2.2",author:"hackolade",engines:{hackolade:"6.11.1",hackoladePlugin:"1.2.0"},contributes:{target:{applicationTarget:"Oracle",title:"Oracle",versions:["12c","18c","19c","21c","23ai"]},features:{nestedCollections:!1,disablePatternField:!0,disableMultipleTypes:!0,enableForwardEngineering:!0,disableReverseEngineering:!1,disableChoices:!0,enableJsonType:!0,useJsonTypesWithComplexTypes:!0,reverseSchemaIntoOneColumn:!0,disableDenormalization:!0,enableComplexTypesNormalization:!0,restrictNestedFieldsAsPrimaryKey:!1,views:{enabled:!0,viewLevel:"model",disablePipelines:!0},relationships:{compositeRelationships:!0},enableFetchSystemEntitiesCheckbox:!0,discoverRelationships:!0}},description:"Hackolade plugin for Oracle and Autonomous databases",disabled:!1,dependencies:{"adm-zip":"0.5.9",lodash:"4.17.21",oracledb:"6.0.3",perplex:"0.11.0"},"lint-staged":{"*.{js,json}":"prettier --write"},"simple-git-hooks":{"pre-commit":"npx lint-staged","pre-push":"npx eslint ."},scripts:{lint:"eslint . --max-warnings=0",package:"node esbuild.package.js"},devDependencies:{"@hackolade/hck-esbuild-plugins-pack":"0.0.1","@typescript-eslint/parser":"7.11.0","@typescript-eslint/eslint-plugin":"7.11.0",esbuild:"0.20.2","esbuild-plugin-clean":"1.0.1",eslint:"8.57.0","eslint-config-prettier":"9.1.0","eslint-formatter-teamcity":"^1.0.0","eslint-plugin-import":"^2.26.0","eslint-plugin-prettier":"5.1.3","eslint-plugin-unused-imports":"3.2.0","lint-staged":"14.0.1",prettier:"3.2.5","simple-git-hooks":"2.11.1"}}});var BS=b((DM,wS)=>{"use strict";var es=require("os"),jL=yS(),ZL=c(i=>i<10?"0"+i:i,"prefixZero"),$L=c(i=>i.reduce((e,t)=>Math.max(e,t.speed),0),"maxClock"),ey=c(i=>Math.floor(i/3600)+":"+ZL(parseInt((i/3600-Math.floor(i/3600))*60)),"toTime"),ty=c(()=>jL.version,"getPluginVersion"),ry=c(i=>`Date: ${new Date}
Application version: ${i}
Plugin version: ${ty()}

System information:
 Hostname:  ${es.hostname()}
 Platform:  ${es.platform()} ${es.arch()}
 Release:   ${es.release()}
 Uptime:    ${ey(es.uptime())}
 Total RAM: ${(es.totalmem()/1073741824).toFixed(2)} GB
 CPU Model: ${es.cpus()[0].model}
 CPU Clock: ${$L(es.cpus())} MHZ
 CPU Cores: ${es.cpus().length} cores

`,"getSystemInfo"),sy=c((i,e,t)=>{t.clear(),t.log("info",ry(e.appVersion),i),t.log("info",e,"connectionInfo",e.hiddenKeys)},"logInfo");wS.exports=sy});var US=b((gM,YS)=>{YS.exports={VERSION_MAJOR:6,VERSION_MINOR:0,VERSION_PATCH:3,VERSION_SUFFIX:""}});var Ct=b((OM,VS)=>{"use strict";var ms=US(),MS=ms.VERSION_MAJOR+"."+ms.VERSION_MINOR+"."+ms.VERSION_PATCH+ms.VERSION_SUFFIX;VS.exports={VERSION_MAJOR:ms.VERSION_MAJOR,VERSION_MINOR:ms.VERSION_MINOR,VERSION_PATCH:ms.VERSION_PATCH,VERSION_SUFFIX:ms.VERSION_SUFFIX,VERSION_STRING:MS,DEFAULT_DRIVER_NAME:"node-oracledb : "+MS,DEFAULT_ERROR_URL:"https://node-oracledb.readthedocs.io/en/latest/user_guide/installation.html",DEFAULT_MAX_SIZE_FOR_OUT_BINDS:200,CSFRM_IMPLICIT:1,CSFRM_NCHAR:2,CQN_OPCODE_ALL_OPS:0,CQN_OPCODE_ALL_ROWS:1,CQN_OPCODE_ALTER:16,CQN_OPCODE_DELETE:8,CQN_OPCODE_DROP:32,CQN_OPCODE_INSERT:2,CQN_OPCODE_UPDATE:4,DEFAULT:0,STMT_TYPE_UNKNOWN:0,STMT_TYPE_SELECT:1,STMT_TYPE_UPDATE:2,STMT_TYPE_DELETE:3,STMT_TYPE_INSERT:4,STMT_TYPE_CREATE:5,STMT_TYPE_DROP:6,STMT_TYPE_ALTER:7,STMT_TYPE_BEGIN:8,STMT_TYPE_DECLARE:9,STMT_TYPE_CALL:10,STMT_TYPE_EXPLAIN_PLAN:15,STMT_TYPE_MERGE:16,STMT_TYPE_ROLLBACK:17,STMT_TYPE_COMMIT:21,SHUTDOWN_MODE_DEFAULT:0,SHUTDOWN_MODE_TRANSACTIONAL:1,SHUTDOWN_MODE_TRANSACTIONAL_LOCAL:2,SHUTDOWN_MODE_IMMEDIATE:3,SHUTDOWN_MODE_ABORT:4,SHUTDOWN_MODE_FINAL:5,STARTUP_MODE_DEFAULT:0,STARTUP_MODE_FORCE:1,STARTUP_MODE_RESTRICT:2,SUBSCR_EVENT_TYPE_SHUTDOWN:2,SUBSCR_EVENT_TYPE_SHUTDOWN_ANY:3,SUBSCR_EVENT_TYPE_STARTUP:1,SUBSCR_EVENT_TYPE_DEREG:5,SUBSCR_EVENT_TYPE_OBJ_CHANGE:6,SUBSCR_EVENT_TYPE_QUERY_CHANGE:7,SUBSCR_EVENT_TYPE_AQ:100,SUBSCR_GROUPING_CLASS_TIME:1,SUBSCR_GROUPING_TYPE_SUMMARY:1,SUBSCR_GROUPING_TYPE_LAST:2,SUBSCR_NAMESPACE_AQ:1,SUBSCR_NAMESPACE_DBCHANGE:2,SUBSCR_QOS_BEST_EFFORT:16,SUBSCR_QOS_DEREG_NFY:2,SUBSCR_QOS_QUERY:8,SUBSCR_QOS_RELIABLE:1,SUBSCR_QOS_ROWIDS:4,SYSASM:32768,SYSBACKUP:131072,SYSDBA:2,SYSDG:262144,SYSKM:524288,SYSOPER:4,SYSPRELIM:8,SYSRAC:1048576,BIND_IN:3001,BIND_INOUT:3002,BIND_OUT:3003,OUT_FORMAT_ARRAY:4001,OUT_FORMAT_OBJECT:4002,SODA_COLL_MAP_MODE:5001,POOL_STATUS_OPEN:6e3,POOL_STATUS_DRAINING:6001,POOL_STATUS_CLOSED:6002,POOL_STATUS_RECONFIGURING:6003,PURITY_DEFAULT:0,PURITY_NEW:1,PURITY_SELF:2,AQ_DEQ_NO_WAIT:0,AQ_DEQ_WAIT_FOREVER:4294967295,AQ_DEQ_MODE_BROWSE:1,AQ_DEQ_MODE_LOCKED:2,AQ_DEQ_MODE_REMOVE:3,AQ_DEQ_MODE_REMOVE_NO_DATA:4,AQ_DEQ_NAV_FIRST_MSG:1,AQ_DEQ_NAV_NEXT_TRANSACTION:2,AQ_DEQ_NAV_NEXT_MSG:3,AQ_MSG_DELIV_MODE_PERSISTENT:1,AQ_MSG_DELIV_MODE_BUFFERED:2,AQ_MSG_DELIV_MODE_PERSISTENT_OR_BUFFERED:3,AQ_MSG_STATE_READY:0,AQ_MSG_STATE_WAITING:1,AQ_MSG_STATE_PROCESSED:2,AQ_MSG_STATE_EXPIRED:3,AQ_VISIBILITY_IMMEDIATE:1,AQ_VISIBILITY_ON_COMMIT:2,TPC_BEGIN_JOIN:2,TPC_BEGIN_NEW:1,TPC_BEGIN_PROMOTE:8,TPC_BEGIN_RESUME:4,TPC_END_NORMAL:0,TPC_END_SUSPEND:1048576}});var Z=b((LM,FA)=>{"use strict";var ny=require("util"),xS="NJS",FS=2,bS=3,uT=4,ET=5,hT=7,NT=9,vS=10,kS=11,GS=12,HS=13,qS=15,KS=16,WS=17,zS=18,XS=19,QS=21,JS=22,jS=23,ZS=24,$S=34,ef=35,tf=36,rf=37,sf=40,nf=41,of=42,_f=43,af=44,Tf=45,cf=46,lf=47,uf=52,Ef=55,hf=56,Nf=57,Sf=58,ff=59,Af=60,df=61,Pf=62,pf=63,Rf=64,mf=65,If=66,Df=67,ST=68,Cf=69,gf=70,Of=75,Lf=76,yf=78,wf=80,Bf=81,Yf=82,Uf=83,Mf=84,Vf=85,xf=86,fT=87,AT=89,Ff=90,bf=91,vf=92,dT=95,kf=97,Gf=98,Hf=99,qf=100,Kf=101,Wf=102,zf=103,PT=104,pT=105,Xf=106,RT=107,mT=108,Qf=109,Jf=110,jf=111,Zf=112,$f=113,eA=114,IT=115,tA=116,rA=117,sA=118,nA=119,iA=120,oA=121,_A=122,DT=123,aA=125,TA=126,cA=127,lA=128,CT=129,uA=130,gT=131,OT=132,LT=133,EA=134,hA=135,NA=136,SA=137,fA=138,Xs=500,AA=501,dA=503,PA=504,pA=505,RA=506,mA=507,IA=508,DA=509,CA=510,gA=511,OA=512,LA=513,yA=514,wA=515,BA=516,YA=517,UA=518,MA=519,VA=520,xA=521,ht=new Map;ht.set("DPI-1010",Xs);ht.set("DPI-1024",[OT,"at index ([0-9]+) does"]);ht.set("DPI-1040",mT);ht.set("DPI-1044",IT);ht.set("DPI-1055",pT);ht.set("DPI-1063",dT);ht.set("DPI-1067",[DT,"call timeout of ([0-9]+) ms"]);ht.set("DPI-1080",Xs);ht.set("OCI-22303",[CT,'type "([^"]*"."[^"]*)"']);ht.set("OCI-22164",LT);ht.set("OCI-22165",[gT,/index \[([0-9]+)\] must be in the range of \[([0-9]+)\] to \[([0-9]+)\]/]);ht.set("ORA-00028",Xs);ht.set("ORA-00600",Xs);ht.set("ORA-24338",RT);ht.set("ORA-24422",PT);ht.set("ORA-25708",fT);var B=new Map;B.set(FS,"invalid pool");B.set(bS,"invalid connection");B.set(uT,'invalid value for property "%s"');B.set(ET,"invalid value for parameter %d");B.set(hT,'invalid value for "%s" in parameter %d');B.set(NT,"invalid number of parameters");B.set(vS,"unsupported data type %d in column %d");B.set(kS,"encountered bind value and type mismatch");B.set(GS,"encountered invalid bind data type in parameter %d");B.set(HS,"invalid bind direction");B.set(qS,"type was not specified for conversion");B.set(KS,"buffer is too small for OUT binds");B.set(WS,"concurrent operations on ResultSet are not allowed");B.set(zS,"invalid ResultSet");B.set(XS,"ResultSet cannot be returned for non-query statements");B.set(QS,"invalid type for conversion specified");B.set(JS,"invalid Lob");B.set(jS,"concurrent operations on a Lob are not allowed");B.set(ZS,"memory allocation failed");B.set($S,"data type is unsupported for array bind");B.set(ef,"maxArraySize is required for IN OUT array bind");B.set(tf,'length of given array is greater than "maxArraySize"');B.set(rf,'invalid data type at array index %d for bind ":%s"');B.set(sf,'connection request timeout. Request exceeded "queueTimeout" of %d');B.set(nf,"cannot convert ResultSet to QueryStream after invoking methods");B.set(of,"cannot invoke ResultSet methods after converting to QueryStream");B.set(_f,"ResultSet already converted to QueryStream");B.set(af,'bind object must contain one of the following attributes: "dir", "type", "maxSize", or "val"');B.set(Tf,"cannot load a node-oracledb Thick mode binary for Node.js. Please try using Thin mode. %s");B.set(cf,'pool alias "%s" already exists in the connection pool cache');B.set(lf,'pool alias "%s" not found in connection pool cache');B.set(uf,"invalid data type at array index %d for bind position %d");B.set(Ef,"binding by position and name cannot be mixed");B.set(hf,"maxSize for bind position %d must be specified and be greater than zero");B.set(Nf,'maxSize for bind "%s" must be specified and greater than zero');B.set(Sf,"maxSize of %d is too small for value of length %d in row %d");B.set(ff,"type must be specified for bind position %d");B.set(Af,'type must be specified for bind "%s"');B.set(df,"invalid subscription");B.set(Pf,"subscription notification callback missing");B.set(pf,"subscription notification SQL missing");B.set(Rf,"connection pool is closing");B.set(mf,"connection pool was closed");B.set(If,"invalid SODA document cursor");B.set(Df,"a pre-built node-oracledb Thick mode binary was not found for %s");B.set(ST,"invalid error number %d supplied");B.set(Cf,"node-oracledb %s requires Node.js %s or later");B.set(gf,"message must be a string, buffer, database object or an object containing a payload property which itself is a string, buffer or database object");B.set(Of,'only one of "connectString" and "connectionString" can be used');B.set(Lf,'connection request rejected. Pool queue length "queueMax" %d reached');B.set(yf,"unsupported data type %d in JSON value");B.set(wf,'only one of "user" and "username" can be used');B.set(Bf,"concurrent operations on a connection are disabled");B.set(Yf,"connection pool is being reconfigured");B.set(Uf,"pool statistics are not enabled");B.set(Mf,"invalid access token");B.set(Vf,'invalid connection pool configuration with token-based authentication. The "homogeneous" and "externalAuth" attributes must be set to true');B.set(xf,'invalid standalone configuration with token-based authentication. The "externalAuth" attribute must be set to true');B.set(fT,"access token has expired");B.set(AT,"%s is not supported by node-oracledb in Thin mode");B.set(Ff,"initOracleClient() was already called with different arguments");B.set(bf,"file %s is missing");B.set(vf,'"poolMax" %d must be greater than or equal to "poolMin" %d');B.set(dT,'setting "batchErrors" or "dmlRowCounts" to true is only permitted for DML statements');B.set(kf,'no bind placeholder named ":%s" was found in the statement text');B.set(Gf,"%s positional bind values are required but %s were provided");B.set(Hf,"internal error: buffer of length %s insufficient to hold %s bytes");B.set(qf,"national character set id %d is not supported by node-oracledb in Thin mode");B.set(Kf,"no credentials specified");B.set(Wf,"unexpected end of data: want %d bytes but only %d bytes are available");B.set(zf,"unexpected message type %d received at position %d of packet %d");B.set(PT,"connection pool cannot be closed because connections are busy");B.set(pT,"value is not a number (NaN) and cannot be used in Oracle Database numbers");B.set(Xf,"internal error: %s");B.set(RT,"invalid cursor");B.set(mT,"LOB was already closed");B.set(Qf,"invalid type number %d");B.set(Jf,"invalid Oracle type number %d [csfrm: %d]");B.set(jf,"internal error: read a negative integer when expecting a positive integer at position %d of packet %d");B.set(Zf,"internal error: read integer of length %d when expecting integer of no more than length %d at position %d of packet %d");B.set($f,"unexpected data received: %s");B.set(eA,"OSON field names may not exceed 255 UTF-8 encoded bytes");B.set(IT,"value cannot be represented as an Oracle Database number");B.set(tA,"password verifier type 0x%s is not supported by node-oracledb in Thin mode");B.set(rA,"invalid private key. Headers and footers are not allowed");B.set(sA,"node-oracledb Thick mode cannot be enabled because a Thin mode connection has already been created");B.set(nA,"conversion from type %s to type %s is not supported");B.set(iA,"fetchTypeHandler return value must be an object");B.set(oA,'fetchTypeHandler return value attribute "type" must be a valid database type');B.set(_A,'fetchTypeHandler return value attribute "converter" must be a function');B.set(DT,"call timeout of %d ms exceeded");B.set(aA,'"connectString" cannot be empty or undefined. Bequeath connections are not supported in Thin mode');B.set(TA,"OSON version %s is not supported");B.set(cA,"internal error: unknown server side piggyback opcode %s");B.set(lA,'internal error: unknown column type name "%s"');B.set(CT,'invalid object type name: "%s"');B.set(uA,"Oracle TDS data type %d is not supported");B.set(gT,"given index %d must be in the range of %d to %d");B.set(OT,"element at index %d does not exist");B.set(LT,"cannot delete elements of a VARRAY");B.set(EA,"value is of wrong type for attribute %s of object %s");B.set(hA,"value is of wrong type for an element of object %s");B.set(NA,"user name and password cannot be set when using external authentication");B.set(SA,'a bind variable replacement value for placeholder ":%s" was not provided');B.set(fA,"connections to this database server version are not supported by node-oracledb in Thin mode");B.set(Xs,"connection to the Oracle Database was broken");B.set(AA,`connection to host %s port %d terminated unexpectedly. (CONNECTION_ID=%s)
%s`);B.set(dA,`connection to host %s port %d could not be established. (CONNECTION_ID=%s)
%s`);B.set(PA,`connection establishment through a web proxy at host %s port %d failed. (CONNECTION_ID=%s)
%s`);B.set(pA,"unable to initiate TLS connection. Please check if wallet credentials are valid");B.set(RA,`connection to host %s port %d encountered TLS handshake failure. (CONNECTION_ID=%s)
%s`);B.set(mA,"TLS detected an invalid certificate. Server DN in certificate does not match the specified DN");B.set(IA,"TLS detected an invalid certificate. %s not present in certificate");B.set(DA,"internal error: invalid packet type or malformed packet received");B.set(CA,'connection to host %s port %d timed out. Request exceeded "%s" of %d seconds. (CONNECTION_ID=%s)');B.set(gA,`connection to listener at host %s port %d was refused. (CONNECTION_ID=%s)
Cause: %s`);B.set(OA,`invalid connection string parameters.
%s`);B.set(LA,"error received through in-band notification: %s");B.set(yA,"syntax error in connection string");B.set(wA,"error in Easy Connect connection string: %s: %s");B.set(BA,"no configuration directory set or available to search for tnsnames.ora");B.set(YA,'cannot connect to Oracle Database. Unable to find "%s" in "%s"');B.set(UA,'cannot connect to Oracle Database. Service "%s" is not registered with the listener at host %s port %s. (CONNECTION_ID=%s)');B.set(MA,'cannot connect to Oracle Database. SID "%s" is not registered with the listener at host %s port %s. (CONNECTION_ID=%s)');B.set(VA,"cannot connect to Oracle Database. File tnsnames.ora not found in %s");B.set(xA,"connection to host %s port %d received end-of-file on communication channel. (CONNECTION_ID=%s)");function ui(i){if(!i){let e=Array.prototype.slice.call(arguments,1);yT(...e)}}c(ui,"assert");function iy(i,e,t){ui(i.length>=e&&i.length<=t,NT)}c(iy,"assertArgCount");function oy(i,e,t){i[t]!==void 0&&pn(typeof i[t]=="boolean",e,t)}c(oy,"assertParamPropBool");function _y(i,e,t){i[t]!==void 0&&pn(typeof i[t]=="function",e,t)}c(_y,"assertParamPropFunction");function ay(i,e,t){i[t]!==void 0&&pn(Number.isInteger(i[t]),e,t)}c(ay,"assertParamPropInt");function Ty(i,e,t){i[t]!==void 0&&pn(Number.isInteger(i[t])&&i[t]>=0,e,t)}c(Ty,"assertParamPropUnsignedInt");function cy(i,e,t){i[t]!==void 0&&pn(typeof i[t]=="string",e,t)}c(cy,"assertParamPropString");function pn(i,e,t){ui(i,hT,t,e)}c(pn,"assertParamPropValue");function ly(i,e){ui(i,ET,e)}c(ly,"assertParamValue");function uy(i,e){ui(i,uT,e)}c(uy,"assertPropValue");function Uo(i){let e=B.get(i),t=[...arguments];e||(t=[void 0,i],i=ST,e=B.get(i));let n=i.toString().padStart(3,"0"),o=`${xS}-${n}`;t[0]=`${o}: ${e}`;let T=new Error(ny.format(...t));return T.code=o,Error.captureStackTrace(T,Uo),T}c(Uo,"getErr");function yT(){throw Uo(...arguments)}c(yT,"throwErr");function Ey(i){yT(AT,i)}c(Ey,"throwNotImplemented");function hy(i,e){if(!i.code){let t=i.message.indexOf(":");if(t>0&&(i.code=i.message.substr(0,t),ht.has(i.code))){let n=[],o,T=ht.get(i.code);if(typeof T=="number")o=T;else{o=T[0];let E=T[1],S=i.message.match(E);S&&(n=S.slice(1))}let l=Uo(o,...n);i.code=l.code,i.message=l.message+`
`+i.message}}return i.requiresStackCapture&&(delete i.requiresStackCapture,Error.captureStackTrace(i,e)),i}c(hy,"transformErr");FA.exports={ERR_INVALID_POOL:FS,ERR_INVALID_CONNECTION:bS,ERR_INVALID_PROPERTY_VALUE:uT,ERR_INVALID_PARAMETER_VALUE:ET,ERR_INVALID_PROPERTY_VALUE_IN_PARAM:hT,ERR_INVALID_NUMBER_OF_PARAMETERS:NT,ERR_UNSUPPORTED_DATA_TYPE:vS,ERR_BIND_VALUE_AND_TYPE_MISMATCH:kS,ERR_INVALID_BIND_DATA_TYPE:GS,ERR_INVALID_BIND_DIRECTION:HS,ERR_NO_TYPE_FOR_CONVERSION:qS,ERR_INSUFFICIENT_BUFFER_FOR_BINDS:KS,ERR_BUSY_RS:WS,ERR_INVALID_RS:zS,ERR_NOT_A_QUERY:XS,ERR_INVALID_TYPE_FOR_CONVERSION:QS,ERR_INVALID_LOB:JS,ERR_BUSY_LOB:jS,ERR_INSUFFICIENT_MEMORY:ZS,ERR_INVALID_TYPE_FOR_ARRAY_BIND:$S,ERR_REQUIRED_MAX_ARRAY_SIZE:ef,ERR_INVALID_ARRAY_SIZE:tf,ERR_INCOMPATIBLE_TYPE_ARRAY_BIND:rf,ERR_CONN_REQUEST_TIMEOUT:sf,ERR_CANNOT_CONVERT_RS_TO_STREAM:nf,ERR_CANNOT_INVOKE_RS_METHODS:of,ERR_RS_ALREADY_CONVERTED:_f,ERR_INVALID_BIND_UNIT:af,ERR_CANNOT_LOAD_BINARY:Tf,ERR_POOL_WITH_ALIAS_ALREADY_EXISTS:cf,ERR_POOL_WITH_ALIAS_NOT_FOUND:lf,ERR_INCOMPATIBLE_TYPE_ARRAY_INDEX_BIND:uf,ERR_MIXED_BIND:Ef,ERR_MISSING_MAX_SIZE_BY_POS:hf,ERR_MISSING_MAX_SIZE_BY_NAME:Nf,ERR_MAX_SIZE_TOO_SMALL:Sf,ERR_MISSING_TYPE_BY_POS:ff,ERR_MISSING_TYPE_BY_NAME:Af,ERR_INVALID_SUBSCR:df,ERR_MISSING_SUBSCR_CALLBACK:Pf,ERR_MISSING_SUBSCR_SQL:pf,ERR_POOL_CLOSING:Rf,ERR_POOL_CLOSED:mf,ERR_INVALID_SODA_DOC_CURSOR:If,ERR_NO_BINARY_AVAILABLE:Df,ERR_INVALID_ERR_NUM:ST,ERR_NODE_TOO_OLD:Cf,ERR_INVALID_AQ_MESSAGE:gf,ERR_DBL_CONNECT_STRING:Of,ERR_QUEUE_MAX_EXCEEDED:Lf,ERR_UNSUPPORTED_DATA_TYPE_IN_JSON:yf,ERR_DBL_USER:wf,ERR_CONCURRENT_OPS:Bf,ERR_POOL_RECONFIGURING:Yf,ERR_POOL_STATISTICS_DISABLED:Uf,ERR_TOKEN_BASED_AUTH:Mf,ERR_POOL_TOKEN_BASED_AUTH:Vf,ERR_CONN_TOKEN_BASED_AUTH:xf,ERR_TOKEN_HAS_EXPIRED:fT,ERR_NOT_IMPLEMENTED:AT,ERR_INIT_ORACLE_CLIENT_ARGS:Ff,ERR_MISSING_FILE:bf,ERR_INVALID_NUMBER_OF_CONNECTIONS:vf,ERR_EXEC_MODE_ONLY_FOR_DML:dT,ERR_CONNECTION_CLOSED:Xs,ERR_CONNECTION_LOSTCONTACT:AA,ERR_CONNECTION_INCOMPLETE:dA,ERR_PROXY_CONNECTION_FAILURE:PA,ERR_TLS_INIT_FAILURE:pA,ERR_TLS_AUTH_FAILURE:RA,ERR_TLS_DNMATCH_FAILURE:mA,ERR_TLS_HOSTMATCH_FAILURE:IA,ERR_INVALID_PACKET:DA,ERR_CONNECTION_TIMEDOUT:CA,ERR_CONNECTION_REFUSED:gA,ERR_INVALID_CONNECT_STRING_PARAMETERS:OA,ERR_CONNECTION_INBAND:LA,ERR_INVALID_CONNECT_STRING_SYNTAX:yA,ERR_INVALID_EZCONNECT_SYNTAX:wA,ERR_NO_CONFIG_DIR:BA,ERR_TNS_ENTRY_NOT_FOUND:YA,ERR_CONNECTION_EOF:xA,ERR_INVALID_BIND_NAME:kf,ERR_WRONG_NUMBER_OF_POSITIONAL_BINDS:Gf,ERR_BUFFER_LENGTH_INSUFFICIENT:Hf,ERR_NCHAR_CS_NOT_SUPPORTED:qf,ERR_MISSING_CREDENTIALS:Kf,ERR_UNEXPECTED_END_OF_DATA:Wf,ERR_UNEXPECTED_MESSAGE_TYPE:zf,ERR_POOL_HAS_BUSY_CONNECTIONS:PT,ERR_INTERNAL:Xf,ERR_INVALID_REF_CURSOR:RT,ERR_UNSUPPORTED_VERIFIER_TYPE:tA,ERR_NAN_VALUE:pT,ERR_LOB_CLOSED:mT,ERR_ORACLE_NUMBER_NO_REPR:IT,ERR_INVALID_SERVICE_NAME:UA,ERR_INVALID_SID:MA,ERR_TNS_NAMES_FILE_MISSING:VA,ERR_INVALID_TYPE_NUM:Qf,ERR_INVALID_ORACLE_TYPE_NUM:Jf,ERR_UNEXPECTED_NEGATIVE_INTEGER:jf,ERR_INTEGER_TOO_LARGE:Zf,ERR_UNEXPECTED_DATA:$f,ERR_OSON_FIELD_NAME_LIMITATION:eA,ERR_OSON_VERSION_NOT_SUPPORTED:TA,ERR_INVALID_PRIVATE_KEY:rA,ERR_THIN_CONNECTION_ALREADY_CREATED:sA,ERR_UNSUPPORTED_CONVERSION:nA,ERR_FETCH_TYPE_HANDLER_RETURN_VALUE:iA,ERR_FETCH_TYPE_HANDLER_TYPE:oA,ERR_FETCH_TYPE_HANDLER_CONVERTER:_A,ERR_CALL_TIMEOUT_EXCEEDED:DT,ERR_EMPTY_CONNECT_STRING:aA,ERR_UNKOWN_SERVER_SIDE_PIGGYBACK:cA,ERR_UNKNOWN_COLUMN_TYPE_NAME:lA,ERR_INVALID_OBJECT_TYPE_NAME:CT,ERR_TDS_TYPE_NOT_SUPPORTED:uA,ERR_INVALID_COLL_INDEX_SET:gT,ERR_INVALID_COLL_INDEX_GET:OT,ERR_DELETE_ELEMENTS_OF_VARRAY:LT,ERR_WRONG_VALUE_FOR_DBOBJECT_ATTR:EA,ERR_WRONG_VALUE_FOR_DBOBJECT_ELEM:hA,ERR_WRONG_CRED_FOR_EXTAUTH:NA,ERR_MISSING_BIND_VALUE:SA,ERR_SERVER_VERSION_NOT_SUPPORTED:fA,ERR_CONNECTION_CLOSED_CODE:`${xS}-${Xs}`,assert:ui,assertArgCount:iy,assertParamPropBool:oy,assertParamPropFunction:_y,assertParamPropInt:ay,assertParamPropString:cy,assertParamPropUnsignedInt:Ty,assertParamPropValue:pn,assertParamValue:ly,assertPropValue:uy,getErr:Uo,throwErr:yT,throwNotImplemented:Ey,transformErr:hy}});var qt=b((wM,kA)=>{"use strict";var Os=Ct(),Dn=Z(),Ny=require("util"),bA=new Map,vA=new Map,Nr=new Map,VT=class VT{constructor(e,t,n,o){this.num=e,this.name=t,this.columnTypeName=n,this._bufferSizeFactor=o.bufferSizeFactor||0,this._oraTypeNum=o.oraTypeNum||0,this._csfrm=o.csfrm||0,bA.set(e,this);let T=(o.csfrm||0)*256+o.oraTypeNum;vA.set(T,this),Nr.set(n,this)}[Symbol.toPrimitive](e){switch(e){case"number":return this.num;default:return this.toString()}}[Ny.inspect.custom](){return this.toString()}toString(){return`[DbType ${this.name}]`}};c(VT,"DbType");var Ie=VT;function Sy(i){let e=Nr.get(i);return e||Dn.throwErr(Dn.ERR_UNKNOWN_COLUMN_TYPE_NAME,i),e}c(Sy,"getTypeByColumnTypeName");function fy(i){let e=bA.get(i);return e||Dn.throwErr(Dn.ERR_INVALID_TYPE_NUM,i),e}c(fy,"getTypeByNum");function Ay(i,e){let t=(e||0)*256+i,n=vA.get(t);return n||Dn.throwErr(Dn.ERR_INVALID_ORACLE_TYPE_NUM,i,e),n}c(Ay,"getTypeByOraTypeNum");var wT=new Ie(2020,"DB_TYPE_BFILE","BFILE",{oraTypeNum:114,bufferSizeFactor:112}),Mo=new Ie(2008,"DB_TYPE_BINARY_DOUBLE","BINARY_DOUBLE",{oraTypeNum:101,bufferSizeFactor:8}),Vo=new Ie(2007,"DB_TYPE_BINARY_FLOAT","BINARY_FLOAT",{oraTypeNum:100,bufferSizeFactor:4}),Ei=new Ie(2009,"DB_TYPE_BINARY_INTEGER","BINARY_INTEGER",{oraTypeNum:3,bufferSizeFactor:22}),xo=new Ie(2019,"DB_TYPE_BLOB","BLOB",{oraTypeNum:113,bufferSizeFactor:112}),Fo=new Ie(2022,"DB_TYPE_BOOLEAN","BOOLEAN",{oraTypeNum:252,bufferSizeFactor:4}),Rn=new Ie(2003,"DB_TYPE_CHAR","CHAR",{oraTypeNum:96,csfrm:Os.CSFRM_IMPLICIT,bufferSizeFactor:4}),bo=new Ie(2017,"DB_TYPE_CLOB","CLOB",{oraTypeNum:112,csfrm:Os.CSFRM_IMPLICIT,bufferSizeFactor:112}),BT=new Ie(2021,"DB_TYPE_CURSOR","CURSOR",{oraTypeNum:102,bufferSizeFactor:4}),vo=new Ie(2011,"DB_TYPE_DATE","DATE",{oraTypeNum:12,bufferSizeFactor:7}),YT=new Ie(2015,"DB_TYPE_INTERVAL_DS","INTERVAL DAY TO SECOND",{oraTypeNum:183,bufferSizeFactor:11}),UT=new Ie(2016,"DB_TYPE_INTERVAL_YM","INTERVAL YEAR TO MONTH",{oraTypeNum:182}),ko=new Ie(2027,"DB_TYPE_JSON","JSON",{oraTypeNum:119}),ts=new Ie(2024,"DB_TYPE_LONG","LONG",{oraTypeNum:8,csfrm:Os.CSFRM_IMPLICIT,bufferSizeFactor:2**31-1}),Is=new Ie(2031,"DB_TYPE_LONG_NVARCHAR","LONG",{oraTypeNum:8,csfrm:Os.CSFRM_NCHAR,bufferSizeFactor:2**31-1}),Ds=new Ie(2025,"DB_TYPE_LONG_RAW","LONG RAW",{oraTypeNum:24,bufferSizeFactor:2**31-1}),Cs=new Ie(2004,"DB_TYPE_NCHAR","NCHAR",{oraTypeNum:96,csfrm:Os.CSFRM_NCHAR,bufferSizeFactor:4}),Go=new Ie(2018,"DB_TYPE_NCLOB","NCLOB",{oraTypeNum:112,csfrm:Os.CSFRM_NCHAR,bufferSizeFactor:112}),ss=new Ie(2010,"DB_TYPE_NUMBER","NUMBER",{oraTypeNum:2,bufferSizeFactor:22}),rs=new Ie(2002,"DB_TYPE_NVARCHAR","NVARCHAR2",{oraTypeNum:1,csfrm:Os.CSFRM_NCHAR,bufferSizeFactor:4}),MT=new Ie(2023,"DB_TYPE_OBJECT","OBJECT",{oraTypeNum:109}),mn=new Ie(2006,"DB_TYPE_RAW","RAW",{oraTypeNum:23,bufferSizeFactor:1}),In=new Ie(2005,"DB_TYPE_ROWID","ROWID",{oraTypeNum:11,bufferSizeFactor:18}),Ho=new Ie(2012,"DB_TYPE_TIMESTAMP","TIMESTAMP",{oraTypeNum:180,bufferSizeFactor:11}),xr=new Ie(2014,"DB_TYPE_TIMESTAMP_LTZ","TIMESTAMP WITH LOCAL TIME ZONE",{oraTypeNum:231,bufferSizeFactor:11}),gs=new Ie(2013,"DB_TYPE_TIMESTAMP_TZ","TIMESTAMP WITH TIME ZONE",{oraTypeNum:181,bufferSizeFactor:13}),qo=new Ie(2030,"DB_TYPE_UROWID","UROWID",{oraTypeNum:208}),Ce=new Ie(2001,"DB_TYPE_VARCHAR","VARCHAR2",{oraTypeNum:1,csfrm:Os.CSFRM_IMPLICIT,bufferSizeFactor:4}),dy=new Map([[Mo,new Map([[Ce,Ce]])],[Vo,new Map([[Ce,Ce]])],[xo,new Map([[mn,Ds],[Ds,Ds]])],[Rn,new Map([[Ce,Ce]])],[bo,new Map([[Ce,ts],[ts,ts]])],[vo,new Map([[Ce,Ce],[xr,xr]])],[ko,new Map([[Ce,Ce]])],[ts,new Map([[Ce,ts]])],[Ds,new Map([[mn,Ds]])],[Cs,new Map([[Rn,Cs],[Ce,rs],[rs,rs]])],[Go,new Map([[Ce,Is],[rs,Is],[ts,Is],[Is,Is]])],[ss,new Map([[Ce,Ce]])],[rs,new Map([[Rn,Cs],[Cs,Cs],[Ce,rs]])],[mn,new Map([[Ce,Ce]])],[In,new Map([[Ce,In]])],[Ho,new Map([[Ce,Ce],[xr,xr]])],[xr,new Map([[Ce,Ce],[gs,gs]])],[gs,new Map([[Ce,Ce],[xr,xr]])],[qo,new Map([[Ce,In]])]]),Py=new Map([[wT,wT],[Mo,Mo],[Vo,Vo],[Ei,Ei],[xo,xo],[Fo,Fo],[Rn,Rn],[bo,bo],[BT,BT],[vo,vo],[YT,YT],[UT,UT],[ko,ko],[ts,ts],[Is,Is],[Ds,Ds],[Cs,Cs],[Go,Go],[ss,ss],[rs,rs],[MT,MT],[mn,mn],[In,In],[Ho,Ho],[xr,gs],[gs,gs],[qo,qo],[Ce,Ce]]);Nr.set("DOUBLE PRECISION",ss);Nr.set("FLOAT",ss);Nr.set("INTEGER",ss);Nr.set("PL/SQL BOOLEAN",Fo);Nr.set("PL/SQL BINARY INTEGER",Ei);Nr.set("PL/SQL PLS INTEGER",Ei);Nr.set("REAL",ss);Nr.set("SMALLINT",ss);Nr.set("TIMESTAMP WITH LOCAL TZ",xr);Nr.set("TIMESTAMP WITH TZ",gs);kA.exports={DbType:Ie,DB_TYPE_BFILE:wT,DB_TYPE_BINARY_DOUBLE:Mo,DB_TYPE_BINARY_FLOAT:Vo,DB_TYPE_BINARY_INTEGER:Ei,DB_TYPE_BLOB:xo,DB_TYPE_BOOLEAN:Fo,DB_TYPE_CHAR:Rn,DB_TYPE_CLOB:bo,DB_TYPE_CURSOR:BT,DB_TYPE_DATE:vo,DB_TYPE_INTERVAL_DS:YT,DB_TYPE_INTERVAL_YM:UT,DB_TYPE_JSON:ko,DB_TYPE_LONG:ts,DB_TYPE_LONG_NVARCHAR:Is,DB_TYPE_LONG_RAW:Ds,DB_TYPE_NCHAR:Cs,DB_TYPE_NCLOB:Go,DB_TYPE_NUMBER:ss,DB_TYPE_NVARCHAR:rs,DB_TYPE_OBJECT:MT,DB_TYPE_RAW:mn,DB_TYPE_ROWID:In,DB_TYPE_TIMESTAMP:Ho,DB_TYPE_TIMESTAMP_LTZ:xr,DB_TYPE_TIMESTAMP_TZ:gs,DB_TYPE_UROWID:qo,DB_TYPE_VARCHAR:Ce,DB_TYPE_CONVERSION_MAP:dy,DB_TYPE_FETCH_TYPE_MAP:Py,getTypeByColumnTypeName:Sy,getTypeByNum:fy,getTypeByOraTypeNum:Ay}});var GA=b((YM,py)=>{py.exports={name:"oracledb",version:"6.0.3",description:"A Node.js module for Oracle Database access from JavaScript and TypeScript",license:"(Apache-2.0 OR UPL-1.0)",homepage:"http://oracle.github.io/node-oracledb/",keywords:["Oracle","Database","official","DB","SQL","JSON","PL/SQL","SODA","OCI","API","client","library","driver","add-on","extension","binding","interface","adapter","module"],repository:{type:"git",url:"git://github.com/oracle/node-oracledb.git"},scripts:{install:"node package/install.js",prune:"node package/prunebinaries.js"},engines:{node:">=14.6"},maintainers:[{name:"Oracle Corp."}],bugs:{url:"https://github.com/oracle/node-oracledb/issues"},main:"./index.js"}});var Wt=b((UM,XA)=>{"use strict";var{Buffer:hi}=require("buffer"),st=Z(),Kt=require("process"),Ry=require("util"),my=qt(),HA;try{HA=GA()}catch{st.throwErr(st.ERR_MISSING_FILE,"package.json")}var qA=HA.version,Iy="build/Release",Dy="oracledb-"+qA+"-"+Kt.platform+"-"+Kt.arch+".node",Cy="package/Staging";function KA(){return"Node-oracledb installation instructions: https://node-oracledb.readthedocs.io/en/latest/user_guide/installation.html"}c(KA,"getInstallURL");function gy(){let i,e,t=KA()+`
`;return Kt.platform==="linux"?(Kt.arch==="x64"?(e=`https://www.oracle.com/database/technologies/instant-client/linux-x86-64-downloads.html
`,i="64-bit"):Kt.arch==="x32"?(e=`https://www.oracle.com/database/technologies/instant-client/linux-x86-32-downloads.html
`,i="32-bit"):(e=`https://www.oracle.com/database/technologies/instant-client.html
`,i=Kt.arch),t+="You must have Linux "+i+` Oracle Client libraries configured with ldconfig, or in LD_LIBRARY_PATH.
`,t+=`If you do not have Oracle Database on this computer, then install the Instant Client Basic or Basic Light package from 
`,t+=e):Kt.platform==="darwin"?(Kt.arch==="x64"?(e=`https://www.oracle.com/database/technologies/instant-client/macos-intel-x86-downloads.html
`,i="64-bit"):(e=`https://www.oracle.com/database/technologies/instant-client.html
`,i=Kt.arch),t+="You must have macOS "+i+` Oracle Instant Client Basic or Basic Light package libraries in
`,t+=`/usr/local/lib or set by calling oracledb.initOracleClient({libDir: "/my/instant_client_directory"}).
`,t+="Oracle Instant Client can be downloaded from "+e):Kt.platform==="win32"?(Kt.arch==="x64"?(e=`https://www.oracle.com/database/technologies/instant-client/winx64-64-downloads.html
`,i="64-bit"):Kt.arch==="x32"?(e=`https://www.oracle.com/database/technologies/instant-client/microsoft-windows-32-downloads.html
`,i="32-bit"):(e=`https://www.oracle.com/database/technologies/instant-client.html
`,i=Kt.arch),t+="You must have Windows "+i+` Oracle Client libraries in your PATH environment variable.
`,t+=`If you do not have Oracle Database on this computer, then install the Instant Client Basic or Basic Light package from
`,t+=e,t+=`A Microsoft Visual Studio Redistributable suitable for your Oracle client library version must be available.
`):(e=`https://www.oracle.com/database/technologies/instant-client.html
`,t+="You must have "+Kt.arch+` Oracle Client libraries in your operating system library search path.
`,t+=`If you do not have Oracle Database on this computer, then install an Instant Client Basic or Basic Light package from: 
`,t+=e),t}c(gy,"getInstallHelp");function xT(i){let e=c(function(){if(typeof arguments[arguments.length-1]!="function")return i.apply(this,arguments).catch(c(function o(T){throw st.transformErr(T,o)},"stackCapture"));let t=Array.prototype.slice.call(arguments,0,arguments.length-1),n=arguments[arguments.length-1];i.apply(this,t).then(function(o){n(null,o)},c(function o(T){n(st.transformErr(T,o))},"stackCapture"))},"wrapper");return i.name&&Object.defineProperty(e,"name",{value:i.name}),e}c(xT,"callbackify");function FT(i){return async function(){let e;this._impl&&(e=this._impl._getConnImpl(),await e._acquireLock());try{return await i.apply(this,arguments)}finally{e&&e._releaseLock()}}}c(FT,"serialize");function WA(i,e){return async function(){this._isActive&&st.throwErr(e),this._isActive=!0;try{return await i.apply(this,arguments)}finally{this._isActive=!1}}}c(WA,"preventConcurrent");function Oy(i){let e=1,t;typeof arguments[1]=="number"&&(e=2,t=arguments[1]);for(let n=e;n<arguments.length;n++){let o=arguments[n],T=i[o];t?i[o]=xT(WA(FT(T),t)):i[o]=xT(FT(T))}}c(Oy,"wrapFns");function Ly(i){if(!Array.isArray(i))return!1;for(let e=0;e<i.length;e++)if(typeof i[e]!="string")return!1;return!0}c(Ly,"isArrayOfStrings");function vT(i){return i!==null&&typeof i=="object"}c(vT,"isObject");function yy(i){return i!==null&&typeof i=="object"||Array.isArray(i)}c(yy,"isObjectOrArray");function wy(i){if(!Array.isArray(i))return!1;for(let e=0;e<i.length;e++){let t=i[e];if(!(typeof t=="string"||typeof t=="number"||hi.isBuffer(t)||Ry.isDate(t)))return!1}return!0}c(wy,"isShardingKey");function zA(i){return i!=null&&i._sodaDocumentMarker}c(zA,"isSodaDocument");function By(i){return vT(i)&&Number.isInteger(i.formatId)&&(hi.isBuffer(i.globalTransactionId)||typeof i.globalTransactionId=="string")&&(hi.isBuffer(i.branchQualifier)||typeof i.branchQualifier=="string")}c(By,"isXid");function Yy(i){return zA(i)?i._impl:(st.assertParamValue(vT(i),1),hi.from(JSON.stringify(i)))}c(Yy,"verifySodaDoc");function bT(i){st.assert(typeof i=="string",st.ERR_TOKEN_BASED_AUTH),i.split(".")[1]===void 0&&st.throwErr(st.ERR_TOKEN_BASED_AUTH);let t=i.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),o=hi.from(t,"base64").toString("ascii"),T=JSON.parse(o).exp;return st.assert(T!=null,st.ERR_TOKEN_BASED_AUTH),T=T*1e3,new Date().getTime()>T}c(bT,"isTokenExpired");function Uy(i){switch(typeof i){case"string":return i===""&&st.throwErr(st.ERR_TOKEN_BASED_AUTH),!bT(i);case"object":return(i.token===void 0||i.token===""||i.privateKey===void 0||i.privateKey==="")&&st.throwErr(st.ERR_TOKEN_BASED_AUTH),!bT(i.token);default:st.throwErr(st.ERR_TOKEN_BASED_AUTH)}}c(Uy,"isTokenValid");function My(i){return st.assert(typeof i.privateKey=="string",st.ERR_TOKEN_BASED_AUTH),!(i.privateKey.startsWith("-----BEGIN PRIVATE KEY-----")||i.privateKey.endsWith("-----END PRIVATE KEY-----"))}c(My,"isPrivateKeyValid");function Vy(i,e){let t=e+"Class",n=e+"Name",o=i[t],T=i[e];typeof T=="number"&&(T=i[e]=my.getTypeByNum(T)),o?i[n]=o.prototype.fqn:T&&(i[n]=T.columnTypeName)}c(Vy,"addTypeProperties");XA.exports={BINARY_FILE:Dy,PACKAGE_JSON_VERSION:qA,RELEASE_DIR:Iy,STAGING_DIR:Cy,addTypeProperties:Vy,callbackify:xT,getInstallURL:KA,getInstallHelp:gy,isArrayOfStrings:Ly,isObject:vT,isObjectOrArray:yy,isPrivateKeyValid:My,isShardingKey:wy,isSodaDocument:zA,isTokenExpired:bT,isTokenValid:Uy,isXid:By,preventConcurrent:WA,serialize:FT,verifySodaDoc:Yy,wrapFns:Oy}});var JA=b((VM,QA)=>{"use strict";var Nt=Z(),GT=class GT{getCondition(){Nt.throwNotImplemented("getting condition (dequeue options)")}getConsumerName(){Nt.throwNotImplemented("getting consumer name (dequeue options)")}getCorrelation(){Nt.throwNotImplemented("getting correlation (dequeue options)")}getMode(){Nt.throwNotImplemented("getting mode (dequeue options)")}getMsgId(){Nt.throwNotImplemented("getting message id (dequeue options)")}getNavigation(){Nt.throwNotImplemented("getting navigation (dequeue options)")}getTransformation(){Nt.throwNotImplemented("getting transformation (dequeue options)")}getVisibility(){Nt.throwNotImplemented("getting visibility (dequeue options)")}getWait(){Nt.throwNotImplemented("getting wait (dequeue options)")}setCondition(){Nt.throwNotImplemented("setting condition (dequeue options)")}setConsumerName(){Nt.throwNotImplemented("setting consumer name (dequeue options)")}setCorrelation(){Nt.throwNotImplemented("setting correlation (dequeue options)")}setMode(){Nt.throwNotImplemented("setting mode (dequeue options)")}setMsgId(){Nt.throwNotImplemented("setting message id (dequeue options)")}setNavigation(){Nt.throwNotImplemented("setting navigation (dequeue options)")}setTransformation(){Nt.throwNotImplemented("setting transformation (dequeue options)")}setVisibility(){Nt.throwNotImplemented("setting visibility (dequeue options)")}setWait(){Nt.throwNotImplemented("setting wait (dequeue options)")}};c(GT,"AqDeqOptionsImpl");var kT=GT;QA.exports=kT});var ZA=b((FM,jA)=>{"use strict";var Cn=Z(),qT=class qT{getDeliveryMode(){Cn.throwNotImplemented("getting delivery mode (enqueue options)")}getTransformation(){Cn.throwNotImplemented("getting transformation (enqueue options)")}getVisibility(){Cn.throwNotImplemented("getting visibility (enqueue options)")}setDeliveryMode(){Cn.throwNotImplemented("setting delivery mode (enqueue options)")}setTransformation(){Cn.throwNotImplemented("setting transformation (enqueue options)")}setVisibility(){Cn.throwNotImplemented("setting visibility (enqueue options)")}};c(qT,"AqEnqOptionsImpl");var HT=qT;jA.exports=HT});var ed=b((vM,$A)=>{"use strict";var gr=Z(),WT=class WT{getCorrelation(){gr.throwNotImplemented("getting correlation (message)")}getDelay(){gr.throwNotImplemented("getting delay (message)")}getDeliveryMode(){gr.throwNotImplemented("getting delivery mode (message)")}getExceptionQueue(){gr.throwNotImplemented("getting exception queue (message)")}getExpiration(){gr.throwNotImplemented("getting expiration (message)")}getMsgId(){gr.throwNotImplemented("getting message id (message)")}getNumAttempts(){gr.throwNotImplemented("getting number of attempts (message)")}getOriginalMsgId(){gr.throwNotImplemented("getting original message id (message)")}getPayload(){gr.throwNotImplemented("getting payload (message)")}getPriority(){gr.throwNotImplemented("getting priority (message)")}getState(){gr.throwNotImplemented("getting state (message)")}};c(WT,"AqMessageImpl");var KT=WT;$A.exports=KT});var rd=b((GM,td)=>{"use strict";var Ko=Z(),XT=class XT{_getConnImpl(){return this._connection}deqMany(){Ko.throwNotImplemented("dequeuing multiple items from a queue")}deqOne(){Ko.throwNotImplemented("dequeuing a single item from a queue")}enqMany(){Ko.throwNotImplemented("enqueuing multiple items from a queue")}enqOne(){Ko.throwNotImplemented("enqueuing a single item from a queue")}};c(XT,"AqQueueImpl");var zT=XT;td.exports=zT});var Wo=b((qM,sd)=>{"use strict";var rr=Z(),JT=class JT{constructor(e){this._objType=e}append(){rr.throwNotImplemented("appending element to collection")}copy(){rr.throwNotImplemented("copying an object")}deleteElement(){rr.throwNotImplemented("deleting an element from a collection")}getElement(){rr.throwNotImplemented("getting an element from a collection")}getFirstIndex(){rr.throwNotImplemented("getting the first index in a collection")}getKeys(){rr.throwNotImplemented("returning the keys of a collection")}getLastIndex(){rr.throwNotImplemented("getting the last index in a collection")}getNextIndex(){rr.throwNotImplemented("getting the next index in a collection")}getPrevIndex(){rr.throwNotImplemented("getting the previous index in a collection")}getValues(){rr.throwNotImplemented("getting the values in a collection")}hasElement(){rr.throwNotImplemented("getting if value exists in a collection")}setElement(){rr.throwNotImplemented("setting an element in a collection")}trim(){rr.throwNotImplemented("trimming elements from a collection")}};c(JT,"DbObjectImpl");var QT=JT;sd.exports=QT});var Sr=b((WM,nd)=>{"use strict";var xy=Ct(),zo=Z(),de=qt(),ZT=class ZT{constructor(){this.autoCommit=!1,this.connectionClass="",this.dbObjectAsPojo=!1,this.edition="",this.errorOnConcurrentExecute=!1,this.events=!1,this.externalAuth=!1,this.fetchArraySize=100,this.fetchAsBuffer=[],this.fetchAsString=[],this.lobPrefetchSize=16384,this.maxRows=0,this.outFormat=xy.OUT_FORMAT_ARRAY,this.poolIncrement=1,this.poolMax=4,this.poolMaxPerShard=0,this.poolMin=0,this.poolPingInterval=60,this.poolTimeout=60,this.prefetchRows=2,this.queueTimeout=6e4,this.queueMax=500,this.stmtCacheSize=30,this.thin=!0,this.thinDriverInitialized=!1,this.createFetchTypeMap(this.fetchAsString,this.fetchAsBuffer),this.fetchTypeHandler=void 0}_getDateComponents(e,t){return e?[t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()*1e3*1e3]:[t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()*1e3*1e3]}_makeDate(e,t,n,o,T,l,E,S,R){return e?new Date(t,n-1,o,T,l,E,S):new Date(Date.UTC(t,n-1,o,T,l,E,S)-R*6e4)}addToOptions(e){for(let t=1;t<arguments.length;t++){let n=arguments[t];e[n]===void 0&&(e[n]=this[n])}}createFetchTypeMap(e,t){let n=new Map(de.DB_TYPE_FETCH_TYPE_MAP);for(let o of e)switch(o){case de.DB_TYPE_NUMBER:n.set(de.DB_TYPE_BINARY_DOUBLE,de.DB_TYPE_VARCHAR),n.set(de.DB_TYPE_BINARY_FLOAT,de.DB_TYPE_VARCHAR),n.set(de.DB_TYPE_BINARY_INTEGER,de.DB_TYPE_VARCHAR),n.set(de.DB_TYPE_NUMBER,de.DB_TYPE_VARCHAR);break;case de.DB_TYPE_TIMESTAMP:n.set(de.DB_TYPE_DATE,de.DB_TYPE_VARCHAR),n.set(de.DB_TYPE_TIMESTAMP,de.DB_TYPE_VARCHAR),n.set(de.DB_TYPE_TIMESTAMP_TZ,de.DB_TYPE_VARCHAR),n.set(de.DB_TYPE_TIMESTAMP_LTZ,de.DB_TYPE_VARCHAR);break;case de.DB_TYPE_CLOB:case de.DB_TYPE_NCLOB:n.set(de.DB_TYPE_CLOB,de.DB_TYPE_LONG),n.set(de.DB_TYPE_NCLOB,de.DB_TYPE_LONG_NVARCHAR);break;case de.DB_TYPE_RAW:n.set(de.DB_TYPE_RAW,de.DB_TYPE_VARCHAR);break;case de.DB_TYPE_JSON:n.set(de.DB_TYPE_JSON,de.DB_TYPE_VARCHAR);break;default:zo.throwErr(zo.ERR_INVALID_TYPE_FOR_CONVERSION)}for(let o of t)switch(o){case de.DB_TYPE_BLOB:n.set(de.DB_TYPE_BLOB,de.DB_TYPE_LONG_RAW);break;default:zo.throwErr(zo.ERR_INVALID_TYPE_FOR_CONVERSION)}this.fetchTypeMap=n}};c(ZT,"Settings");var jT=ZT;nd.exports=new jT});var Xo=b((XM,id)=>{"use strict";var Fy=Sr(),ne=Z(),by=require("util"),ec=class ec{constructor(){this._inProgress=!1,this._dbObjectTypes=new Map,this._requestQueue=[]}async _acquireLock(){this._inProgress&&(Fy.errorOnConcurrentExecute&&ne.throwErr(ne.ERR_CONCURRENT_OPS),await new Promise((e,t)=>{let n={resolve:e,reject:t};this._requestQueue.push(n)})),this._inProgress=!0}_getConnImpl(){return this}_getDbObjectType(e,t,n,o){let T;if(o&&(T=this._dbObjectTypes.get(o),T))return T;let l=n?`${e}.${n}.${t}`:`${e}.${t}`;return T=this._dbObjectTypes.get(l),T||(T={oid:o,fqn:l,schema:e,name:t,packageName:n,partial:!0,isXmlType:e==="SYS"&&t==="XMLTYPE"},this._dbObjectTypes.set(l,T)),o&&!T.oid&&(T.oid=o,this._dbObjectTypes.set(o,T)),T}_isDate(e){return by.isDate(e)}_releaseLock(){this._requestQueue.length>0?this._requestQueue.shift().resolve():this._inProgress=!1}breakExecution(){ne.throwNotImplemented("getting Oracle Server version number")}changePassword(){ne.throwNotImplemented("changing the password")}close(){ne.throwNotImplemented("closing the connection")}commit(){ne.throwNotImplemented("committing the transaction")}createLob(){ne.throwNotImplemented("creating a temporary LOB")}execute(){ne.throwNotImplemented("executing a SQL statement")}executeMany(){ne.throwNotImplemented("executing a SQL statement multiple times")}getCallTimeout(){ne.throwNotImplemented("getting call timeout")}getCurrentSchema(){ne.throwNotImplemented("getting current schema")}getDbObjectClass(){ne.throwNotImplemented("getting a database object class")}getExternalName(){ne.throwNotImplemented("getting the external name")}getInternalName(){ne.throwNotImplemented("getting the internal name")}getOracleServerVersion(){ne.throwNotImplemented("getting Oracle Server version number")}getOracleServerVersionString(){ne.throwNotImplemented("getting Oracle Server version as a string")}getQueue(){ne.throwNotImplemented("getting a queue")}getSodaDatabase(){ne.throwNotImplemented("getting a SODA database")}getStatementInfo(){ne.throwNotImplemented("getting information about a statement")}getStmtCacheSize(){ne.throwNotImplemented("getting the statement cache size")}getTag(){ne.throwNotImplemented("getting the tag for the connection")}isHealthy(){ne.throwNotImplemented("getting the health of the connection")}ping(){ne.throwNotImplemented("sending a ping to the database")}rollback(){ne.throwNotImplemented("rolling back a transaction")}setAction(){ne.throwNotImplemented("setting end-to-end attribute 'action'")}setCallTimeout(){ne.throwNotImplemented("setting call timeout")}setClientId(){ne.throwNotImplemented("setting end-to-end attribute 'clientId'")}setClientInfo(){ne.throwNotImplemented("setting end-to-end attribute 'clientInfo'")}setCurrentSchema(){ne.throwNotImplemented("setting the current schema")}setDbOp(){ne.throwNotImplemented("setting end-to-end attribute 'dbOp'")}setECID(){ne.throwNotImplemented("setting end-to-end attribute 'ecid'")}setExternalName(){ne.throwNotImplemented("setting the external name")}setInternalName(){ne.throwNotImplemented("setting the internal name")}setStmtCacheSize(){ne.throwNotImplemented("setting the size of the statement cache")}setModule(){ne.throwNotImplemented("setting end-to-end attribute 'module'")}setTag(){ne.throwNotImplemented("setting the tag for the connection")}shutdown(){ne.throwNotImplemented("shutting down the database instance")}startup(){ne.throwNotImplemented("starting up the database instance")}subscribe(){ne.throwNotImplemented("subscribing to events in the database")}tpcBegin(){ne.throwNotImplemented("starting a two-phase transaction")}tpcCommit(){ne.throwNotImplemented("committing a two-phase transaction")}tpcEnd(){ne.throwNotImplemented("ending a two-phase transaction")}tpcForget(){ne.throwNotImplemented("forgetting a two-phase transaction")}tpcPrepare(){ne.throwNotImplemented("preparing a two-phase transaction")}tpcRollback(){ne.throwNotImplemented("rolling back a two-phase transaction")}unsubscribe(){ne.throwNotImplemented("unsubscribing from events")}};c(ec,"ConnectionImpl");var $T=ec;id.exports=$T});var sc=b((JM,od)=>{"use strict";var vy=Xo(),Qo=Z(),rc=class rc{_getConnImpl(){let e=this._parentObj;for(;!(e instanceof vy);)e=e._parentObj;return e}close(){Qo.throwNotImplemented("closing a LOB")}getData(){Qo.throwNotImplemented("getting all of the data from a LOB")}read(){Qo.throwNotImplemented("reading from a LOB")}write(){Qo.throwNotImplemented("writing to a LOB")}};c(rc,"LobImpl");var tc=rc;od.exports=tc});var oc=b((ZM,_d)=>{"use strict";var dt=Z(),ky=Wt(),ic=class ic{async _accessTokenHandler(e,t,n){let o;try{let T=e(n);T instanceof Promise&&(T=await T),ky.isTokenValid(T)||dt.throwErr(dt.ERR_TOKEN_HAS_EXPIRED),o=T}finally{this.returnAccessToken(t,o)}}close(){dt.throwNotImplemented("closing the pool")}create(){dt.throwNotImplemented("creating the pool")}getConnection(){dt.throwNotImplemented("getting a connection from the pool")}getConnectionsInUse(){dt.throwNotImplemented("getting num connection in use")}getConnectionsOpen(){dt.throwNotImplemented("getting num connection open")}getPoolIncrement(){dt.throwNotImplemented("getting the pool increment")}getPoolMax(){dt.throwNotImplemented("getting the pool max")}getPoolMaxPerShard(){dt.throwNotImplemented("getting the pool max per shard")}getPoolMin(){dt.throwNotImplemented("getting the pool min")}getPoolPingInterval(){dt.throwNotImplemented("getting the pool ping interval")}getPoolTimeout(){dt.throwNotImplemented("getting the pool timeout")}getStmtCacheSize(){dt.throwNotImplemented("getting the pool statement cache size")}getSodaMetaDataCache(){dt.throwNotImplemented("getting the SODA metadata cache flag")}reconfigure(){dt.throwNotImplemented("reconfiguring the pool")}setAccessToken(){dt.throwNotImplemented("sets the access token")}};c(ic,"PoolImpl");var nc=ic;_d.exports=nc});var Tc=b((eV,Td)=>{"use strict";var Gy=Ct(),Fr=Z(),Hy=Wt(),ad=Sr(),Pt=qt(),ac=class ac{_determineFetchType(e,t){if(delete e.fetchType,delete e.converter,t.fetchTypeHandler){let n=t.fetchTypeHandler(e);n!==void 0&&(Fr.assert(typeof n=="object",Fr.ERR_FETCH_TYPE_HANDLER_RETURN_VALUE),n.type!==void 0&&Fr.assert(n.type instanceof Pt.DbType,Fr.ERR_FETCH_TYPE_HANDLER_TYPE),n.converter!==void 0&&Fr.assert(typeof n.converter=="function",Fr.ERR_FETCH_TYPE_HANDLER_CONVERTER),e.fetchType=n.type,e.converter=n.converter)}if(e.fetchType||(t.fetchTypeMap&&t.fetchTypeMap.has(e.name)?(e.fetchType=t.fetchTypeMap.get(e.name),e.fetchType===Gy.DEFAULT&&(e.fetchType=Pt.DB_TYPE_FETCH_TYPE_MAP.get(e.dbType))):e.fetchType=ad.fetchTypeMap.get(e.dbType)),e.fetchType!==e.dbType){let n=Pt.DB_TYPE_CONVERSION_MAP.get(e.dbType),o=n&&n.get(e.fetchType);o||Fr.throwErr(Fr.ERR_UNSUPPORTED_CONVERSION,e.dbType.name,e.fetchType.name),e.fetchType=o}if(ad.thin){let n,o=e.converter;if(e.dbType===Pt.DB_TYPE_NUMBER&&e.fetchType===Pt.DB_TYPE_NUMBER?n=c(T=>T===null?null:parseFloat(T),"converter"):e.fetchType===Pt.DB_TYPE_VARCHAR&&(e.dbType===Pt.DB_TYPE_BINARY_DOUBLE||e.dbType===Pt.DB_TYPE_BINARY_FLOAT||e.dbType===Pt.DB_TYPE_DATE||e.dbType===Pt.DB_TYPE_TIMESTAMP||e.dbType===Pt.DB_TYPE_TIMESTAMP_LTZ||e.dbType===Pt.DB_TYPE_TIMESTAMP_TZ)&&(n=c(T=>T===null?null:T.toString(),"converter")),o&&n){let T=n;n=c(l=>o(T(l)),"converter")}n&&(e.converter=n)}}_getConnImpl(){return this._parentObj}_setup(e,t){this._parentObj=e.connection._impl,this.metaData=t,this.lobIndices=[],this.dbObjectIndices=[],this.nestedCursorIndices=[],this.converterIndices=[],this.outFormat=e.outFormat,this.fetchArraySize=e.fetchArraySize,this.dbObjectAsPojo=e.dbObjectAsPojo,this.maxRows=e.maxRows;let n=new Map;for(let o=0;o<t.length;o++){let T=t[o].name;n.has(T)||n.set(T,o)}for(let o=0;o<t.length;o++){let T=t[o];if(T.dbTypeClass){let E=e.connection._getDbObjectClass(T.dbTypeClass);T.dbTypeClass=E}Hy.addTypeProperties(T,"dbType"),this._determineFetchType(T,e),T.fetchType===Pt.DB_TYPE_CURSOR?this.nestedCursorIndices.push(o):T.fetchType===Pt.DB_TYPE_CLOB||T.fetchType===Pt.DB_TYPE_NCLOB||T.fetchType===Pt.DB_TYPE_BLOB?this.lobIndices.push(o):T.fetchType===Pt.DB_TYPE_OBJECT&&this.dbObjectIndices.push(o),T.converter&&this.converterIndices.push(o);let l=T.name;if(n.get(l)!==o){let E=0;for(;n.has(l);)E=E+1,l=`${T.name}_${E}`;n.set(l,o),T.name=l}}}close(){Fr.throwNotImplemented("closing a result set")}getRows(){Fr.throwNotImplemented("getting rows")}};c(ac,"ResultSetImpl");var _c=ac;Td.exports=_c});var ld=b((rV,cd)=>{"use strict";var zt=Z(),lc=class lc{_getConnImpl(){return this._database._connection}createIndex(){zt.throwNotImplemented("creating an index on a SODA collection")}drop(){zt.throwNotImplemented("dropping a SODA collection")}dropIndex(){zt.throwNotImplemented("dropping an index on a SODA collection")}find(){zt.throwNotImplemented("creating a SODA operation")}getDataGuide(){zt.throwNotImplemented("getting the data guide for the collection")}getMetaData(){zt.throwNotImplemented("getting the metadata for the collection")}getName(){zt.throwNotImplemented("getting the name of the collection")}insertMany(){zt.throwNotImplemented("inserting multiple docs into a collection")}insertManyAndGet(){zt.throwNotImplemented("insert/return many docs in a collection")}insertOne(){zt.throwNotImplemented("inserting a single doc into a collection")}insertOneAndGet(){zt.throwNotImplemented("insert/return a single doc in a collection")}save(){zt.throwNotImplemented("saving a single doc in a collection")}saveAndGet(){zt.throwNotImplemented("saving a single doc in a collection")}truncate(){zt.throwNotImplemented("removing all docs from a collection")}};c(lc,"SodaCollectionImpl");var cc=lc;cd.exports=cc});var Ed=b((nV,ud)=>{"use strict";var Jo=Z(),Ec=class Ec{_getConnImpl(){return this._connection}createCollection(){Jo.throwNotImplemented("creating a SODA collection")}createDocument(){Jo.throwNotImplemented("creating a SODA document")}getCollectionNames(){Jo.throwNotImplemented("getting a list of SODA collection names")}openCollection(){Jo.throwNotImplemented("getting a list of SODA collection names")}};c(Ec,"SodaDatabaseImpl");var uc=Ec;ud.exports=uc});var Sd=b((oV,Nd)=>{"use strict";var hd=Z(),Nc=class Nc{_getConnImpl(){return this._operation._getConnImpl()}close(){hd.throwNotImplemented("closing a SODA document cursor")}getNext(){hd.throwNotImplemented("getting a document from a SODA doc cursor")}};c(Nc,"SodaDocCursorImpl");var hc=Nc;Nd.exports=hc});var Ad=b((aV,fd)=>{"use strict";var Qs=Z(),fc=class fc{getContentAsBuffer(){Qs.throwNotImplemented("getting doc content as a buffer")}getContentAsString(){Qs.throwNotImplemented("getting doc content as a string")}getCreatedOn(){Qs.throwNotImplemented("getting the created date of a document")}getKey(){Qs.throwNotImplemented("getting the key of a document")}getLastModified(){Qs.throwNotImplemented("getting the last modified date of a doc")}getMediaType(){Qs.throwNotImplemented("getting the media type of a document")}getVersion(){Qs.throwNotImplemented("getting the version of a document")}};c(fc,"SodaDocumentImpl");var Sc=fc;fd.exports=Sc});var Pd=b((cV,dd)=>{"use strict";var Js=Z(),dc=class dc{_getConnImpl(){return this._collection._database._connection}count(){Js.throwNotImplemented("getting a count of documents")}getCursor(){Js.throwNotImplemented("getting a cursor for documents")}getDocuments(){Js.throwNotImplemented("getting a cursor for documents")}getOne(){Js.throwNotImplemented("getting a single document")}remove(){Js.throwNotImplemented("removing documents from a collection")}replaceOne(){Js.throwNotImplemented("replacing a single document")}replaceOneAndGet(){Js.throwNotImplemented("replacing/returning a single document")}};c(dc,"SodaOperationImpl");var Ac=dc;dd.exports=Ac});var gn=b((uV,pd)=>{"use strict";var qy=JA(),Ky=ZA(),Wy=ed(),zy=rd(),Xy=Wo(),Qy=Xo(),Jy=sc(),jy=oc(),Zy=Tc(),$y=ld(),ew=Ed(),tw=Sd(),rw=Ad(),sw=Pd();pd.exports={AqDeqOptionsImpl:qy,AqEnqOptionsImpl:Ky,AqMessageImpl:Wy,AqQueueImpl:zy,DbObjectImpl:Xy,ConnectionImpl:Qy,LobImpl:Jy,PoolImpl:jy,ResultSetImpl:Zy,SodaCollectionImpl:$y,SodaDatabaseImpl:ew,SodaDocCursorImpl:tw,SodaDocumentImpl:rw,SodaOperationImpl:sw}});var Rc=b((EV,Rd)=>{"use strict";var{Buffer:nw}=require("buffer"),ns=Ct(),is=Z(),pc=class pc{get condition(){return this._impl.getCondition()}set condition(e){is.assertPropValue(typeof e=="string","condition"),this._impl.setCondition(e)}get consumerName(){return this._impl.getConsumerName()}set consumerName(e){is.assertPropValue(typeof e=="string","consumerName"),this._impl.setConsumerName(e)}get correlation(){return this._impl.getCorrelation()}set correlation(e){is.assertPropValue(typeof e=="string","correlation"),this._impl.setCorrelation(e)}get mode(){return this._impl.getMode()}set mode(e){is.assertPropValue(e===ns.AQ_DEQ_MODE_BROWSE||e===ns.AQ_DEQ_MODE_LOCKED||e===ns.AQ_DEQ_MODE_REMOVE||e===ns.AQ_DEQ_MODE_REMOVE_NO_DATA,"mode"),this._impl.setMode(e)}get msgId(){return this._impl.getMsgId()}set msgId(e){is.assertPropValue(nw.isBuffer(e),"msgId"),this._impl.setMsgId(e)}get navigation(){return this._impl.getNavigation()}set navigation(e){is.assertPropValue(e===ns.AQ_DEQ_NAV_FIRST_MSG||e===ns.AQ_DEQ_NAV_NEXT_TRANSACTION||e===ns.AQ_DEQ_NAV_NEXT_MSG,"navigation"),this._impl.setNavigation(e)}get transformation(){return this._impl.getTransformation()}set transformation(e){is.assertPropValue(typeof e=="string","transformation"),this._impl.setTransformation(e)}get visibility(){return this._impl.getVisibility()}set visibility(e){is.assertPropValue(e===ns.AQ_VISIBILITY_IMMEDIATE||e===ns.AQ_VISIBILITY_ON_COMMIT,"visibility"),this._impl.setVisibility(e)}get wait(){return this._impl.getWait()}set wait(e){is.assertPropValue(Number.isInteger(e)&&e>=0,"wait"),this._impl.setWait(e)}};c(pc,"AqDeqOptions");var Pc=pc;Rd.exports=Pc});var Cc=b((NV,md)=>{"use strict";var Ni=Ct(),mc=Z(),Dc=class Dc{get deliveryMode(){return this._impl.getDeliveryMode()}set deliveryMode(e){mc.assertPropValue(e===Ni.AQ_MSG_DELIV_MODE_PERSISTENT||e===Ni.AQ_MSG_DELIV_MODE_BUFFERED||e===Ni.AQ_MSG_DELIV_MODE_PERSISTENT_OR_BUFFERED,"deliveryMode"),this._impl.setDeliveryMode(e)}get transformation(){return this._impl.getTransformation()}set transformation(e){mc.assertPropValue(typeof e=="string","transformation"),this._impl.setTransformation(e)}get visibility(){return this._impl.getVisibility()}set visibility(e){mc.assertPropValue(e===Ni.AQ_VISIBILITY_IMMEDIATE||e===Ni.AQ_VISIBILITY_ON_COMMIT,"visibility"),this._impl.setVisibility(e)}};c(Dc,"AqEnqOptions");var Ic=Dc;md.exports=Ic});var Lc=b((fV,Id)=>{"use strict";var iw=Wo(),Oc=class Oc{get correlation(){return this._impl.getCorrelation()}get delay(){return this._impl.getDelay()}get deliveryMode(){return this._impl.getDeliveryMode()}get exceptionQueue(){return this._impl.getExceptionQueue()}get expiration(){return this._impl.getExpiration()}get msgId(){return this._impl.getMsgId()}get numAttempts(){return this._impl.getNumAttempts()}get originalMsgId(){return this._impl.getOriginalMsgId()}get payload(){let e=this._impl.getPayload();if(e instanceof iw){let t=Object.create(this._payloadTypeClass.prototype);return t._impl=e,t}return e}get priority(){return this._impl.getPriority()}get state(){return this._impl.getState()}};c(Oc,"AqMessage");var gc=Oc;Id.exports=gc});var On=b((dV,Cd)=>{"use strict";var{Buffer:yc}=require("buffer"),{Duplex:ow}=require("stream"),Dd=Ct(),Xt=Z(),wc=Wt(),_w=qt(),Bc=class Bc extends ow{constructor(){super({decodeStrings:!1}),this.offset=1,this._isActive=!1,this.once("finish",function(){this._autoCloseLob&&this.destroy()})}async _destroy(e,t){if(e&&e.message.startsWith("NJS-108:")&&delete this._impl,this._impl){let n=this._impl;delete this._impl;try{await n.close()}catch(o){t(o);return}}t(e)}async _read(){try{let e=await this._serializedRead(this.offset);e?(this.offset+=e.length,this.push(e)):(this.push(null),this._autoCloseLob&&this.destroy())}catch(e){throw this._autoCloseLob&&this.destroy(e),e}}async _readData(e){Xt.assert(this._impl,Xt.ERR_INVALID_LOB);try{return await this._impl.read(e)}catch(t){throw Xt.transformErr(t,this._readData)}}_setup(e,t){this._impl=e,this._chunkSize=e.getChunkSize(),this._pieceSize=e.getPieceSize(),this._length=e.getLength(),this._type=e.getType(),typeof this._type=="number"&&(this._type=_w.getTypeByNum(this._type)),this._autoCloseLob=t}async _write(e,t,n){this.type==Dd.DB_TYPE_BLOB&&!yc.isBuffer(e)?e=yc.from(e):this.type==Dd.DB_TYPE_CLOB&&yc.isBuffer(e)&&(e=e.toString());try{await this._serializedWrite(this.offset,e)}catch(o){this._autoCloseLob&&this.destroy(o),n(o);return}this.offset+=e.length,n(null)}async _writeData(e,t){Xt.assert(this._impl,Xt.ERR_INVALID_LOB);try{await this._impl.write(e,t)}catch(n){throw Xt.transformErr(n,this._writeData)}}get chunkSize(){return this._chunkSize}async close(){if(Xt.assertArgCount(arguments,0,0),this._impl){let e=this._impl;delete this._impl;try{await e.close(),this.emit("close")}catch(t){this.destroy(t)}}}async getData(){return Xt.assertArgCount(arguments,0,0),Xt.assert(this._impl,Xt.ERR_INVALID_LOB),await this._impl.getData()}get length(){return this._length}get pieceSize(){return this._pieceSize}set pieceSize(e){Xt.assertPropValue(Number.isInteger(e)&&e>=0,"pieceSize"),Xt.assert(this._impl,Xt.ERR_INVALID_LOB),this._impl.setPieceSize(e),this._pieceSize=e}get type(){return this._type}};c(Bc,"Lob");var Ls=Bc;wc.wrapFns(Ls.prototype,Xt.ERR_BUSY_LOB,"close","getData");Ls.prototype._serializedRead=wc.serialize(Ls.prototype._readData);Ls.prototype._serializedWrite=wc.serialize(Ls.prototype._writeData);Cd.exports=Ls});var Mc=b((pV,gd)=>{"use strict";var aw=require("process"),{Readable:Tw}=require("stream"),Uc=class Uc extends Tw{constructor(e){super({objectMode:!0}),this._fetching=!1,this._numRows=0,e&&aw.nextTick(()=>{this._open(e)})}async _destroy(e,t){if(this._resultSet){let n=this._resultSet;this._resultSet=null,this._fetching&&await new Promise(o=>this.once("_doneFetching",o));try{await n._impl.close()}catch(o){t(o);return}}t(e)}_open(e){this._resultSet=e,this.emit("open"),this.emit("metadata",e.metaData)}async _read(){if(!this._resultSet){this.once("open",this._read);return}try{this._fetching=!0,this._resultSet._allowGetRowCall=!0;let e=await this._resultSet.getRow();e?this.push(e):this.push(null)}catch(e){this.destroy(e)}finally{this._fetching=!1,this._resultSet?this._resultSet._allowGetRowCall=!1:this.emit("_doneFetching")}}};c(Uc,"QueryStream");var Yc=Uc;gd.exports=Yc});var $o=b((mV,Od)=>{"use strict";var cw=Mc(),lw=Ln(),uw=Wt(),Ew=Ct(),hw=On(),Je=Z(),Zo=class Zo{constructor(){this._rowCache=[],this._processingStarted=!1,this._convertedToStream=!1,this._allowGetRowCall=!1,this._isActive=!1}async _getAllRows(){try{let e=this._impl.maxRows,t=this._impl.fetchArraySize,n=[];for(;;){e>0&&t>=e&&(t=e);let o=await this._getRows(t);if(o&&(await this._processRows(o,!0),n=n.concat(o)),o.length==e||o.length<t)break;e>0&&(e-=o.length)}return n}finally{await this._impl.close(),delete this._impl}}async _getRows(e){let t={};return this._impl.nestedCursorIndices.length>0&&(t={connection:this._connection,outFormat:this._impl.outFormat,fetchArraySize:this._impl.fetchArraySize,dbObjectAsPojo:this._impl.dbObjectAsPojo,maxRows:this._impl.maxRows,fetchTypeMap:this._impl.fetchTypeMap}),await this._impl.getRows(e,t)}async _processRows(e,t){for(let n of this._impl.nestedCursorIndices)for(let o=0;o<e.length;o++){let T=e[o][n];if(T){let l=new Zo;l._setup(this._connection,T),this._impl.metaData[n].metaData=T.metaData,t?e[o][n]=await l._getAllRows():e[o][n]=l}}for(let n of this._impl.lobIndices)for(let o=0;o<e.length;o++){let T=e[o][n];T&&(e[o][n]=new hw)._setup(T,!0)}for(let n of this._impl.dbObjectIndices){let o=this._impl.metaData[n].dbTypeClass;for(let T=0;T<e.length;T++){let l=e[T][n];if(l){let E=e[T][n]=Object.create(o.prototype);E._impl=l,this._impl.dbObjectAsPojo?e[T][n]=E._toPojo():E.isCollection&&(e[T][n]=new Proxy(E,lw._collectionProxyHandler))}}}for(let n of this._impl.converterIndices){let o=this._impl.metaData[n].converter;this._connection._impl._inProgress=!1;try{for(let T=0;T<e.length;T++){let l=o(e[T][n]);l instanceof Promise&&(l=await l),e[T][n]=l}}finally{this._connection._impl._inProgress=!0}}if(this._impl.outFormat===Ew.OUT_FORMAT_OBJECT)for(let n=0;n<e.length;n++){let o=e[n],T=e[n]={},l=this._impl.metaData;for(let E=0;E<l.length;E++)T[l[E].name]=o[E]}}_setup(e,t){this._connection=e,this._impl=t}async close(){Je.assertArgCount(arguments,0,0),Je.assert(this._impl&&this._connection._impl,Je.ERR_INVALID_RS),this._convertedToStream&&Je.throwErr(Je.ERR_CANNOT_INVOKE_RS_METHODS),this._processingStarted=!0;let e=this._impl;delete this._impl,await e.close()}async getRow(){if(Je.assertArgCount(arguments,0,0),Je.assert(this._impl&&this._connection._impl,Je.ERR_INVALID_RS),this._convertedToStream&&!this._allowGetRowCall&&Je.throwErr(Je.ERR_CANNOT_INVOKE_RS_METHODS),this._allowGetRowCall=!1,this._processingStarted=!0,this._rowCache.length==0){let e=await this._getRows(this._impl.fetchArraySize);await this._processRows(e,!1),this._rowCache=e}return this._rowCache.shift()}async getRows(e){let t;Je.assertArgCount(arguments,0,1),Je.assert(this._impl&&this._connection._impl,Je.ERR_INVALID_RS),arguments.length==0?e=0:Je.assertParamValue(Number.isInteger(e)&&e>=0,1),this._convertedToStream&&Je.throwErr(Je.ERR_CANNOT_INVOKE_RS_METHODS),this._processingStarted=!0;let n;if(e==0){n=this._rowCache;let o=this._impl.fetchArraySize;for(;;){let T=await this._getRows(o);if(T&&(await this._processRows(T,!1),n=n.concat(T)),T.length<o)break}return n}if(this._rowCache.length===0)n=await this._getRows(e),await this._processRows(n,!1);else if(t=e-this._rowCache.length,t<=0)n=this._rowCache.splice(0,e);else{let o=await this._getRows(t);await this._processRows(o,!1),n=this._rowCache.concat(o),this._rowCache=[]}return n}get metaData(){if(this._impl)return this._impl.metaData}toQueryStream(){return Je.assertArgCount(arguments,0,0),this._processingStarted&&Je.throwErr(Je.ERR_CANNOT_CONVERT_RS_TO_STREAM),this._convertedToStream&&Je.throwErr(Je.ERR_RS_ALREADY_CONVERTED),this._convertedToStream=!0,new cw(this)}[Symbol.asyncIterator](){let e=this;return{async next(){let t=await e.getRow();return{value:t,done:t===void 0}},return(){return{done:!0}}}}};c(Zo,"ResultSet");var jo=Zo;uw.wrapFns(jo.prototype,Je.ERR_BUSY_RS,"close","getRow","getRows");Od.exports=jo});var bc=b((DV,wd)=>{"use strict";var Vc=Ln(),{Buffer:xc}=require("buffer"),Nw=On(),Sw=$o(),fw=Ct(),je=Z(),Ld=require("util"),be=qt();function os(i,e){if(i.type===void 0&&arguments.length>2)i.type=arguments[2];else{let t=!1;for(let n=2;n<arguments.length;n++)if(i.type===arguments[n]){t=!0;break}t||(i.attrName?je.throwErr(je.ERR_WRONG_VALUE_FOR_DBOBJECT_ATTR,i.attrName,i.fqn):i.fqn?je.throwErr(je.ERR_WRONG_VALUE_FOR_DBOBJECT_ELEM,i.fqn):i.isArray&&i.name?je.throwErr(je.ERR_INCOMPATIBLE_TYPE_ARRAY_BIND,e.pos,i.name):i.isArray?je.throwErr(je.ERR_INCOMPATIBLE_TYPE_ARRAY_INDEX_BIND,e.pos,i.pos):je.throwErr(je.ERR_BIND_VALUE_AND_TYPE_MISMATCH))}}c(os,"checkType");function Fc(i){if(i==null||typeof i=="number"||typeof i=="string"||typeof i=="boolean"||xc.isBuffer(i)||Ld.isDate(i))return i;if(Array.isArray(i)){let t=new Array(i.length);for(let n=0;n<i.length;n++)t[n]=Fc(i[n]);return t}if(i instanceof Vc)return{fields:[],values:[]};let e={};e.fields=Object.getOwnPropertyNames(i),e.values=new Array(e.fields.length);for(let t=0;t<e.fields.length;t++)e.values[t]=Fc(i[e.fields[t]]);return e}c(Fc,"transformJsonValue");function yd(i,e,t){if(e!=null){if(i.type===be.DB_TYPE_OBJECT){let n=e;return e instanceof Vc||(n=new i.typeClass(e)),n._impl}else{if(i.type===be.DB_TYPE_JSON)return Fc(e);if(typeof e=="string"){if(os(i,t,be.DB_TYPE_VARCHAR,be.DB_TYPE_NVARCHAR,be.DB_TYPE_CHAR,be.DB_TYPE_NCHAR,be.DB_TYPE_CLOB,be.DB_TYPE_NCLOB),i.type!==be.DB_TYPE_CLOB&&i.type!==be.DB_TYPE_NCLOB){let n=xc.byteLength(e);(i.maxSize===void 0||n>i.maxSize)&&(i.checkSize&&je.throwErr(je.ERR_MAX_SIZE_TOO_SMALL,i.maxSize,n,t.pos),i.maxSize=n)}return e}else{if(typeof e=="number")return os(i,t,be.DB_TYPE_NUMBER,be.DB_TYPE_BINARY_INTEGER,be.DB_TYPE_BINARY_FLOAT,be.DB_TYPE_BINARY_DOUBLE),Number.isNaN(e)&&i.type===be.DB_TYPE_NUMBER&&je.throwErr(je.ERR_NAN_VALUE),e;if(typeof e=="boolean")return os(i,t,be.DB_TYPE_BOOLEAN),e;if(Ld.isDate(e))return os(i,t,be.DB_TYPE_TIMESTAMP,be.DB_TYPE_TIMESTAMP_TZ,be.DB_TYPE_TIMESTAMP_LTZ,be.DB_TYPE_DATE),e;if(xc.isBuffer(e))return os(i,t,be.DB_TYPE_RAW,be.DB_TYPE_BLOB),i.type===be.DB_TYPE_RAW&&(i.maxSize===void 0||e.length>i.maxSize)&&(i.checkSize&&je.throwErr(je.ERR_MAX_SIZE_TOO_SMALL,i.maxSize,e.length,t.pos),i.maxSize=e.length),e;if(e instanceof Sw)return os(i,t,be.DB_TYPE_CURSOR),e._impl;if(e instanceof Nw)return os(i,t,e.type),e._impl;if(e instanceof Vc)return os(i,t,be.DB_TYPE_OBJECT),e._impl;if(t.allowArray&&Array.isArray(e)){i.isArray=!0,i.dir===fw.BIND_IN?i.maxArraySize=e.length||1:i.maxArraySize===void 0?je.throwErr(je.ERR_REQUIRED_MAX_ARRAY_SIZE):e.length>i.maxArraySize&&je.throwErr(je.ERR_INVALID_ARRAY_SIZE),t.allowArray=!1;let n=new Array(e.length);for(let o=0;o<e.length;o++)t.pos=o,n[o]=yd(i,e[o],t);return n}}}i.type===void 0&&je.throwErr(je.ERR_INVALID_BIND_DATA_TYPE,2),os(i,t)}}c(yd,"transformValueIn");wd.exports={transformValueIn:yd}});var Ln=b((gV,Yd)=>{"use strict";var Aw=On(),Bd=gn(),tt=Z(),dw=qt(),vc=require("util"),Si=class Si{_getAttrValue(e){let t=this._impl.getAttrValue(e);return this._transformValueOut(t,e.typeClass)}_setAttrValue(e,t){let n={fqn:this._objType.fqn,attrName:e.name,type:e.type,typeClass:e.typeClass},o={allowArray:!1};t=kc.transformValueIn(n,t,o),this._impl.setAttrValue(e,t)}_toPojo(){if(this.isCollection){let t=this.getValues();if(this.elementType===dw.DB_TYPE_OBJECT)for(let n=0;n<t.length;n++)t[n]=t[n]._toPojo();return t}let e={};for(let t in this.attributes){let n=this[t];n instanceof Si&&(n=n._toPojo()),e[t]=n}return e}_transformValueOut(e,t){let n=e;return e instanceof Bd.LobImpl?(n=new Aw,n._setup(e,!0)):e instanceof Bd.DbObjectImpl&&(n=Object.create(t.prototype),n._impl=e,n.isCollection&&(n=new Proxy(n,Si._collectionProxyHandler))),n}append(e){tt.assertArgCount(arguments,1,1);let t={fqn:this._objType.fqn,type:this._objType.elementType,typeClass:this._objType.elementTypeClass},n={allowArray:!1};e=kc.transformValueIn(t,e,n),this._impl.append(e)}get attributes(){if(!this._attributes){let e=this._objType.attributes||[],t={};for(let n=0;n<e.length;n++){let o=e[n],T={type:o.type,typeName:o.typeName};o.typeClass&&(T.typeClass=o.typeClass),t[o.name]=T}this._attributes=t}return this._attributes}deleteElement(e){return tt.assertArgCount(arguments,1,1),tt.assertParamValue(Number.isInteger(e),1),this._impl.deleteElement(e)}get elementType(){return this._objType.elementType}get elementTypeClass(){return this._objType.elementTypeClass}get elementTypeName(){return this._objType.elementTypeName}get fqn(){return this._objType.fqn}getElement(e){tt.assertArgCount(arguments,1,1),tt.assertParamValue(Number.isInteger(e),1);let t=this._impl.getElement(e);return this._transformValueOut(t,this.elementTypeClass)}getKeys(){return tt.assertArgCount(arguments,0,0),this._impl.getKeys()}getFirstIndex(){return tt.assertArgCount(arguments,0,0),this._impl.getFirstIndex()}getLastIndex(){return tt.assertArgCount(arguments,0,0),this._impl.getLastIndex()}getNextIndex(e){return tt.assertArgCount(arguments,1,1),tt.assertParamValue(Number.isInteger(e),1),this._impl.getNextIndex(e)}getPrevIndex(e){return tt.assertArgCount(arguments,1,1),tt.assertParamValue(Number.isInteger(e),1),this._impl.getPrevIndex(e)}getValues(){tt.assertArgCount(arguments,0,0);let e=this._impl.getValues();for(let t=0;t<e.length;t++)e[t]=this._transformValueOut(e[t],this.elementTypeClass);return e}hasElement(e){return tt.assertArgCount(arguments,1,1),tt.assertParamValue(Number.isInteger(e),1),this._impl.hasElement(e)}get isCollection(){return this._objType.isCollection}get name(){return this._objType.name}get schema(){return this._objType.schema}setElement(e,t){tt.assertArgCount(arguments,2,2),tt.assertParamValue(Number.isInteger(e),1);let n={fqn:this._objType.fqn,type:this._objType.elementType,typeClass:this._objType.elementTypeClass},o={allowArray:!1};t=kc.transformValueIn(n,t,o),this._impl.setElement(e,t)}trim(e){tt.assertArgCount(arguments,1,1),tt.assertParamValue(Number.isInteger(e)&&e>=0,1),this._impl.trim(e)}[vc.inspect.custom](e,t){return"["+this.fqn+"] "+vc.inspect(this._toPojo(),t)}[Symbol.iterator](){if(this.isCollection)return this.getValues()[Symbol.iterator]();throw TypeError("obj is not iterable")}[Symbol.toPrimitive](e){switch(e){case"number":return NaN;default:return"["+this.fqn+"] "+vc.inspect(this._toPojo(),{})}}get[Symbol.toStringTag](){return this.fqn}toJSON(){return this._toPojo()}};c(Si,"BaseDbObject");var fi=Si;function Pw(i){return function(){try{return i.apply(this,arguments)}catch(e){throw tt.transformErr(e,tt.transformErr)}}}c(Pw,"transformErr");function pw(i){for(let e=1;e<arguments.length;e++){let t=arguments[e];i[t]=Pw(i[t])}}c(pw,"wrapFns");pw(fi.prototype,"_getAttrValue","_setAttrValue","append","deleteElement","getElement","getKeys","getFirstIndex","getLastIndex","getNextIndex","getPrevIndex","getValues","hasElement","setElement","trim");fi._collectionProxyHandler={deleteProperty(i,e){if(typeof e=="string"){let t=+e;if(!isNaN(t))return i.deleteElement(t)}return delete i[e]},get(i,e){if(typeof e=="string"){let n=+e;if(!isNaN(n))return i.getElement(n)}let t=i[e];return typeof t=="function"?t.bind(i):t},set(i,e,t){if(typeof e=="string"){let n=+e;if(!isNaN(n))return i.setElement(n,t),!0}return i[e]=t,!0}};Yd.exports=fi;var kc=bc()});var Kc=b((LV,xd)=>{"use strict";var{Buffer:Gc}=require("buffer"),Ud=Ct(),Vt=Z(),Hc=Wt(),Rw=Rc(),mw=Cc(),Md=Lc(),Vd=Ln(),qc=class qc{_isPayload(e){return typeof e=="string"||Gc.isBuffer(e)||e instanceof Vd}_verifyMessage(e){let t;return this._isPayload(e)?(t=e,e={}):(e={...e},this._isPayload(e.payload)?t=e.payload:this._payloadTypeClass?t=new this._payloadTypeClass(e.payload):Vt.throwErr(Vt.ERR_INVALID_AQ_MESSAGE)),typeof t=="string"?e.payload=Gc.from(t):Gc.isBuffer(t)?e.payload=t:e.payload=t._impl,e.correlation!==void 0&&Vt.assertParamPropValue(typeof e.correlation=="string",1,"correlation"),e.delay!==void 0&&Vt.assertParamPropValue(Number.isInteger(e.delay),1,"delay"),e.exceptionQueue!==void 0&&Vt.assertParamPropValue(typeof e.exceptionQueue=="string",1,"exceptionQueue"),e.expiration!==void 0&&Vt.assertParamPropValue(Number.isInteger(e.expiration),1,"expiration"),e.priority!==void 0&&Vt.assertParamPropValue(Number.isInteger(e.priority),1,"priority"),e.recipients!==void 0&&Vt.assertParamPropValue(Hc.isArrayOfStrings(e.recipients),1,"recipients"),e}async create(e,t,n){if(n.payloadType){if(typeof n.payloadType=="string"){let o=await e._getDbObjectClassForName(n.payloadType);this._payloadTypeClass=o,n.payloadType=o}else Vt.assertParamPropValue(Hc.isObject(n.payloadType)&&n.payloadType.prototype instanceof Vd,2,"payloadType"),this._payloadTypeClass=n.payloadType;this._payloadType=Ud.DB_TYPE_OBJECT,this._payloadTypeName=this._payloadTypeClass.prototype.name}else this._payloadType=Ud.DB_TYPE_RAW,this._payloadTypeName="RAW";this._name=t,this._impl=await e._impl.getQueue(t,n)}async deqMany(e){Vt.assertArgCount(arguments,1,1),Vt.assertParamValue(Number.isInteger(e)&&e>0,1);let t=await this._impl.deqMany(e),n=new Array(t.length);for(let o=0;o<t.length;o++){let T=new Md;T._impl=t[o],T._payloadTypeClass=this._payloadTypeClass,n[o]=T}return n}async deqOne(){Vt.assertArgCount(arguments,0,0);let e=await this._impl.deqOne();if(e){let t=new Md;return t._impl=e,t._payloadTypeClass=this._payloadTypeClass,t}}get deqOptions(){if(!this._deqOptions){let e=new Rw;e._impl=this._impl.deqOptions,this._deqOptions=e}return this._deqOptions}async enqMany(e){Vt.assertArgCount(arguments,1,1),Vt.assertParamValue(Array.isArray(e)&&e.length>0,1);let t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=this._verifyMessage(e[n]);return await this._impl.enqMany(t)}async enqOne(e){return Vt.assertArgCount(arguments,1,1),e=this._verifyMessage(e),await this._impl.enqOne(e)}get enqOptions(){if(!this._enqOptions){let e=new mw;e._impl=this._impl.enqOptions,this._enqOptions=e}return this._enqOptions}get name(){return this._name}get payloadType(){return this._payloadType}get payloadTypeName(){return this._payloadTypeName}get payloadTypeClass(){return this._payloadTypeClass}};c(qc,"AqQueue");var e_=qc;Hc.wrapFns(e_.prototype,"deqOne","deqMany","enqOne","enqMany");xd.exports=e_});var yn=b((wV,Fd)=>{"use strict";var Wc=class Wc{get createdOn(){return this._impl.getCreatedOn()}getContent(){return JSON.parse(this._impl.getContentAsString())}getContentAsBuffer(){return this._impl.getContentAsBuffer()}getContentAsString(){return this._impl.getContentAsString()}get key(){return this._impl.getKey()}get lastModified(){return this._impl.getLastModified()}get mediaType(){return this._impl.getMediaType()}get version(){return this._impl.getVersion()}};c(Wc,"SodaDocument");var t_=Wc;t_.prototype._sodaDocumentMarker=!0;Fd.exports=t_});var Xc=b((YV,bd)=>{"use strict";var wn=Z(),Iw=Wt(),Dw=yn(),zc=class zc{async close(){wn.assertArgCount(arguments,0,0),wn.assert(this._impl,wn.ERR_INVALID_SODA_DOC_CURSOR),await this._impl.close(),delete this._impl}async getNext(){wn.assertArgCount(arguments,0,0),wn.assert(this._impl,wn.ERR_INVALID_SODA_DOC_CURSOR);let e=await this._impl.getNext();if(e){let t=new Dw;return t._impl=e,t}}};c(zc,"SodaDocCursor");var r_=zc;Iw.wrapFns(r_.prototype,"close","getNext");bd.exports=r_});var jc=b((MV,kd)=>{"use strict";var Cw=Xc(),Qc=yn(),qe=Z(),s_=Wt(),vd=Sr(),Jc=class Jc{constructor(){this._options={autoCommit:vd.autoCommit,fetchArraySize:vd.fetchArraySize}}async count(){return qe.assertArgCount(arguments,0,0),await this._impl.count(this._options)}async getCursor(){qe.assertArgCount(arguments,0,0);let e=new Cw;return e._impl=await this._impl.getCursor(this._options),e}async getDocuments(){qe.assertArgCount(arguments,0,0);let e=await this._impl.getDocuments(this._options),t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=new Qc,t[n]._impl=e[n];return t}async getOne(){qe.assertArgCount(arguments,0,0);let e=await this._impl.getOne(this._options);if(e){let t=new Qc;return t._impl=e,t}}async replaceOne(e){return qe.assertArgCount(arguments,1,1),e=s_.verifySodaDoc(e),await this._impl.replaceOne(this._options,e)}async replaceOneAndGet(e){qe.assertArgCount(arguments,1,1),e=s_.verifySodaDoc(e);let t=await this._impl.replaceOneAndGet(this._options,e);if(t){let n=new Qc;return n._impl=t,n}}async remove(){return qe.assertArgCount(arguments,0,0),await this._impl.remove(this._options)}fetchArraySize(e){return qe.assertArgCount(arguments,1,1),qe.assertParamValue(Number.isInteger(e)&&e>=0,1),this._options.fetchArraySize=e,this}filter(e){return qe.assertArgCount(arguments,1,1),qe.assertParamValue(s_.isObject(e),1),this._options.filter=JSON.stringify(e),this}hint(e){return qe.assertArgCount(arguments,1,1),qe.assertParamValue(typeof e=="string",1),this._options.hint=e,this}key(e){return qe.assertArgCount(arguments,1,1),qe.assertParamValue(typeof e=="string",1),this._options.key=e,this._options.keys=void 0,this}keys(e){qe.assertArgCount(arguments,1,1),qe.assertParamValue(Array.isArray(e),1);for(let t=0;t<e.length;t++)qe.assertParamValue(typeof e[t]=="string",1);return this._options.keys=e,this._options.key=void 0,this}limit(e){return qe.assertArgCount(arguments,1,1),qe.assertParamValue(typeof e=="number",1),this._options.limit=e,this}skip(e){return qe.assertArgCount(arguments,1,1),qe.assertParamValue(typeof e=="number",1),this._options.skip=e,this}version(e){return qe.assertArgCount(arguments,1,1),qe.assertParamValue(typeof e=="string",1),this._options.version=e,this}};c(Jc,"SodaOperation");var n_=Jc;s_.wrapFns(n_.prototype,"count","getCursor","getDocuments","getOne","remove","replaceOne","replaceOneAndGet");kd.exports=n_});var $c=b((xV,Gd)=>{"use strict";var i_=yn(),gw=jc(),Ke=Z(),Or=Wt(),_s=Sr(),Zc=class Zc{async createIndex(e){Ke.assertArgCount(arguments,1,1),Ke.assertParamValue(Or.isObject(e),1);let t={autoCommit:_s.autoCommit};return await this._impl.createIndex(JSON.stringify(e),t)}async drop(){Ke.assertArgCount(arguments,0,0);let e={autoCommit:_s.autoCommit};return await this._impl.drop(e)}async dropIndex(e,t){let n={autoCommit:_s.autoCommit};return Ke.assertArgCount(arguments,1,2),Ke.assertParamValue(typeof e=="string",1),arguments.length==2&&(Ke.assertParamValue(typeof t=="object",2),t.force!==void 0&&(Ke.assertParamPropValue(typeof t.force=="boolean",2,"force"),n.force=t.force)),await this._impl.dropIndex(e,n)}find(){Ke.assertArgCount(arguments,0,0);let e=new gw;return e._impl=this._impl.find(),e}async getDataGuide(){Ke.assertArgCount(arguments,0,0);let e=new i_;return e._impl=await this._impl.getDataGuide(),e}async insertMany(e){Ke.assertArgCount(arguments,1,1),Ke.assertParamValue(Array.isArray(e)&&e.length>0,1);let t=Array(e.length);for(let o=0;o<e.length;o++)t[o]=Or.verifySodaDoc(e[o]);let n={autoCommit:_s.autoCommit};await this._impl.insertMany(t,n)}async insertManyAndGet(e,t){let n={autoCommit:_s.autoCommit};Ke.assertArgCount(arguments,1,2),Ke.assertParamValue(Array.isArray(e)&&e.length>0,1),arguments.length==2&&(Ke.assertParamValue(Or.isObject(t),2),t.hint!==void 0&&(Ke.assertParamPropValue(typeof t.hint=="string",2,"hint"),n.hint=t.hint));let o=Array(e.length);for(let l=0;l<e.length;l++)o[l]=Or.verifySodaDoc(e[l]);let T=await this._impl.insertManyAndGet(o,n);for(let l=0;l<e.length;l++){let E=o[l]=new i_;E._impl=T[l]}return o}async insertOne(e){Ke.assertArgCount(arguments,1,1),e=Or.verifySodaDoc(e);let t={autoCommit:_s.autoCommit};await this._impl.insertOne(e,t)}async insertOneAndGet(e,t){let n={autoCommit:_s.autoCommit};Ke.assertArgCount(arguments,1,2),e=Or.verifySodaDoc(e),arguments.length==2&&(Ke.assertParamValue(Or.isObject(t),2),t.hint!==void 0&&(Ke.assertParamPropValue(typeof t.hint=="string",2,"hint"),n.hint=t.hint));let o=new i_;return o._impl=await this._impl.insertOneAndGet(e,n),o}get metaData(){return JSON.parse(this._impl.getMetaData())}get name(){return this._impl.getName()}async save(e){Ke.assertArgCount(arguments,1,1),e=Or.verifySodaDoc(e);let t={autoCommit:_s.autoCommit};await this._impl.save(e,t)}async saveAndGet(e,t){Ke.assertArgCount(arguments,1,2),e=Or.verifySodaDoc(e);let n={autoCommit:_s.autoCommit};arguments.length==2&&(Ke.assertParamValue(Or.isObject(t),2),t.hint!==void 0&&(Ke.assertParamPropValue(typeof t.hint=="string",2,"hint"),n.hint=t.hint));let o=new i_;return o._impl=await this._impl.saveAndGet(e,n),o}async truncate(){Ke.assertArgCount(arguments,0,0),await this._impl.truncate()}};c(Zc,"SodaCollection");var o_=Zc;Or.wrapFns(o_.prototype,"createIndex","drop","dropIndex","getDataGuide","insertMany","insertManyAndGet","insertOne","insertOneAndGet","save","saveAndGet","truncate");Gd.exports=o_});var rl=b((bV,Kd)=>{"use strict";var{Buffer:el}=require("buffer"),Hd=$c(),Ow=yn(),gt=Z(),js=Wt(),qd=Sr(),tl=class tl{_getConnection(){return this._connection}async createCollection(e,t){let n={autoCommit:qd.autoCommit};gt.assertArgCount(arguments,1,2),gt.assertParamValue(typeof e=="string",1),arguments.length==2&&(gt.assertParamValue(js.isObject(t),2),t.mode!==void 0&&(gt.assertParamPropValue(Number.isInteger(t.mode)&&t.mode>0,2,"mode"),n.mode=t.mode),t.metaData!==void 0&&(gt.assertParamPropValue(js.isObject(t.metaData),2,"metaData"),n.metaData=JSON.stringify(t.metaData)));let o=new Hd;return o._impl=await this._impl.createCollection(e,n),o}createDocument(e,t){let n={};gt.assertArgCount(arguments,1,2),gt.assertParamValue(el.isBuffer(e)||typeof e=="string"||js.isObject(e),1),arguments.length>1&&(gt.assertParamValue(js.isObject(t),2),n=t,gt.assertParamPropString(n,2,"key"),gt.assertParamPropString(n,2,"mediaType")),typeof e=="string"?e=el.from(e):js.isObject(e)&&(e=el.from(JSON.stringify(e)));let o=new Ow;return o._impl=this._impl.createDocument(e,n),o}async getCollectionNames(e){let t={};return gt.assertArgCount(arguments,0,1),arguments.length==1&&(gt.assertParamValue(js.isObject(e),1),t=e,t.startsWith!==void 0&&gt.assertParamPropValue(typeof t.startsWith=="string",1,"startsWith"),t.limit!==void 0&&gt.assertParamPropValue(Number.isInteger(t.limit),1,"limit")),await this._impl.getCollectionNames(t)}async openCollection(e){gt.assertArgCount(arguments,1,1),gt.assertParamValue(typeof e=="string",1);let t={autoCommit:qd.autoCommit},n=await this._impl.openCollection(e,t);if(n){let o=new Hd;return o._impl=n,o}}};c(tl,"SodaDatabase");var __=tl;js.wrapFns(__.prototype,"createCollection","getCollectionNames","openCollection");Kd.exports=__});var ol=b((kV,Wd)=>{"use strict";var Lw=Kc(),Bn=Ln(),{Buffer:yw}=require("buffer"),sl=On(),a_=$o(),ww=rl(),Bw=require("events"),Yw=Mc(),m=Z(),rt=Wt(),T_=gn(),Uw=require("process"),Mw=require("util"),Tt=Ct(),nl=Sr(),Vw=bc(),Me=qt(),Ai=new Map,il=class il extends Bw{constructor(){super(),this._dbObjectClasses=new Map,this._closing=!1}_addDefaultsToExecOpts(e){e.connection=this,e.keepInStmtCache===void 0&&(e.keepInStmtCache=!0),nl.addToOptions(e,"autoCommit","dbObjectAsPojo","fetchArraySize","fetchTypeHandler","maxRows","outFormat","prefetchRows")}_buildDbObjectClass(e){let t=c(function(n){if(this._impl=new T_.DbObjectImpl(e),this.isCollection){let o=new Proxy(this,Bn._collectionProxyHandler);if(n!==void 0)for(let T=0;T<n.length;T++)this.append(n[T]);return o}else n!==void 0&&Object.assign(this,n)},"DbObject");if(t.prototype=Object.create(Bn.prototype),t.prototype.constructor=t,t.prototype._objType=e,e.elementTypeClass){let n=this._getDbObjectClass(e.elementTypeClass);e.elementTypeClass=n}if(rt.addTypeProperties(e,"elementType"),e.attributes){let n={};for(let o of e.attributes){o.typeClass&&(o.typeClass=this._getDbObjectClass(o.typeClass)),rt.addTypeProperties(o,"type");let T={get(){return this._getAttrValue(o)},set(l){this._setAttrValue(o,l)}};n[o.name]=T}Object.defineProperties(t.prototype,n)}return t.toString=function(){return"DbObjectClass ["+e.fqn+"]"},t}_getDbObjectClass(e){if(e.prototype instanceof Bn)return e;let t=this._dbObjectClasses.get(e);return t||(t=this._buildDbObjectClass(e),t._connection=this,t._objType=e,e._connection=this._impl,this._dbObjectClasses.set(e,t)),t}async _getDbObjectClassForName(e){let t=this._dbObjectClasses.get(e);if(!t){let n=await this._impl.getDbObjectClass(e);t=this._getDbObjectClass(n),this._dbObjectClasses.set(e,t)}return t}_isBindDir(e){return e===Tt.BIND_IN||e===Tt.BIND_OUT||e===Tt.BIND_INOUT}_isBindValue(e){return e==null||typeof e=="number"||typeof e=="string"||typeof e=="boolean"||Array.isArray(e)||yw.isBuffer(e)||Mw.isDate(e)||e instanceof sl||e instanceof a_||e instanceof Bn}async _processBindUnit(e,t,n){let o=!1;if(t.dir===void 0?e.dir=Tt.BIND_IN:(m.assert(this._isBindDir(t.dir),m.ERR_INVALID_BIND_DIRECTION),e.dir=t.dir,o=!0),t.type!==void 0?(typeof t.type=="string"?(e.type=Me.DB_TYPE_OBJECT,e.typeClass=await this._getDbObjectClassForName(t.type),e.objType=e.typeClass._objType):t.type.prototype instanceof Bn?(e.type=Me.DB_TYPE_OBJECT,e.typeClass=t.type,e.objType=e.typeClass._objType):(m.assert(t.type instanceof Me.DbType,m.ERR_INVALID_BIND_DATA_TYPE,2),e.type=t.type),o=!0):n&&(e.name&&m.throwErr(m.ERR_MISSING_TYPE_BY_NAME,e.name),m.throwErr(m.ERR_MISSING_TYPE_BY_POS,e.pos)),(e.dir!==Tt.BIND_IN||n)&&(t.maxSize!==void 0?(m.assertParamPropValue(Number.isInteger(t.maxSize)&&t.maxSize>0,2,"maxSize"),e.maxSize=t.maxSize,e.checkSize=!0,o=!0):n?(e.type===Me.DB_TYPE_VARCHAR||e.type===Me.DB_TYPE_RAW)&&(e.name&&m.throwErr(m.ERR_MISSING_MAX_SIZE_BY_NAME,e.name),m.throwErr(m.ERR_MISSING_MAX_SIZE_BY_POS,e.pos)):e.maxSize=Tt.DEFAULT_MAX_SIZE_FOR_OUT_BINDS),e.isArray=!1,n||t.maxArraySize!==void 0&&(m.assertParamPropValue(Number.isInteger(t.maxArraySize)&&t.maxArraySize>0,2,"maxArraySize"),e.maxArraySize=t.maxArraySize,e.isArray=!0),!n&&t.val!==void 0)return t.val;o||m.throwErr(m.ERR_INVALID_BIND_UNIT)}async _processBindValue(e,t,n){let o=Vw.transformValueIn(e,t,n);e.isArray?e.values=o.concat(e.values.slice(o.length)):e.values[n.pos]=o,e.type===Me.DB_TYPE_OBJECT&&e.typeClass===void 0&&(e.typeClass=await this._getDbObjectClass(t._objType),e.objType=e.typeClass._objType)}async _processExecuteBind(e,t){e.isArray=!1;let n;if(this._isBindValue(t)?(e.dir=Tt.BIND_IN,n=t):n=await this._processBindUnit(e,t,!1),e.dir!==Tt.BIND_OUT){let o={pos:0,allowArray:!0};await this._processBindValue(e,n,o)}e.type===void 0&&(e.type=Me.DB_TYPE_VARCHAR,e.maxSize===void 0&&(e.maxSize=1)),e.isArray&&e.type!==Me.DB_TYPE_VARCHAR&&e.type!==Me.DB_TYPE_NVARCHAR&&e.type!==Me.DB_TYPE_CHAR&&e.type!==Me.DB_TYPE_NCHAR&&e.type!==Me.DB_TYPE_NUMBER&&e.type!==Me.DB_TYPE_BINARY_FLOAT&&e.type!==Me.DB_TYPE_BINARY_DOUBLE&&e.type!==Me.DB_TYPE_DATE&&e.type!==Me.DB_TYPE_TIMESTAMP&&e.type!==Me.DB_TYPE_TIMESTAMP_LTZ&&e.type!==Me.DB_TYPE_TIMESTAMP_TZ&&e.type!==Me.DB_TYPE_RAW&&m.throwErr(m.ERR_INVALID_TYPE_FOR_ARRAY_BIND)}async _processExecuteBinds(e){let t=[];if(Array.isArray(e))for(let n=0;n<e.length;n++){let o=t[n]={pos:n+1,values:[]};await this._processExecuteBind(o,e[n])}else{m.assertParamValue(rt.isObject(e),2);let n=Object.getOwnPropertyNames(e);for(let o=0;o<n.length;o++){let T=t[o]={name:n[o],values:[]};await this._processExecuteBind(T,e[n[o]])}}return t}async _processExecuteManyBinds(e,t){let n=[],o;if(t!==void 0)if(Array.isArray(t)){o=!0;for(let T=0;T<t.length;T++){let l=n[T]={pos:T+1,values:[]};await this._processBindUnit(l,t[T],!0)}}else{o=!1;let T=Object.getOwnPropertyNames(t);for(let l=0;l<T.length;l++){let E=n[l]={name:T[l],values:[]};await this._processBindUnit(E,t[T[l]],!0)}}else{let T=e[0];if(m.assertParamValue(rt.isObjectOrArray(T),2),Array.isArray(T)){o=!0;for(let l=0;l<T.length;l++)n[l]={pos:l+1}}else{o=!1;let l=Object.getOwnPropertyNames(T);for(let E=0;E<l.length;E++)n[E]={name:l[E]}}for(let l=0;l<n.length;l++)n[l].dir=Tt.BIND_IN,n[l].isArray=!1,n[l].values=[]}for(let T=0;T<e.length;T++){let l=e[T],E={pos:T,allowArray:!1};m.assert(o&&Array.isArray(l)||!o&&rt.isObject(l),m.ERR_MIXED_BIND);for(let S=0;S<n.length;S++){let R=n[S],d=o?l[S]:l[R.name];await this._processBindValue(R,d,E)}}for(let T=0;T<n.length;T++){let l=n[T];l.type===void 0&&(l.type=Me.DB_TYPE_VARCHAR,l.maxSize=1)}return n}_transformOutBind(e,t){let n=e;if(Array.isArray(e)){n=[];for(let o=0;o<e.length;o++)n.push(this._transformOutBind(e[o],t))}else if(e instanceof T_.ResultSetImpl)n=new a_,n._setup(this,e);else if(e instanceof T_.LobImpl)n=new sl,n._setup(e,!0);else if(e instanceof T_.DbObjectImpl){let o=this._dbObjectClasses.get(e._objType);n=Object.create(o.prototype),n._impl=e,t.dbObjectAsPojo?n=n._toPojo():n.isCollection&&(n=new Proxy(n,Bn._collectionProxyHandler))}return n}_verifyExecOpts(e,t){let n={};if(m.assertParamValue(rt.isObject(e),3),e.autoCommit!==void 0&&(m.assertParamPropValue(typeof e.autoCommit=="boolean",3,"autoCommit"),n.autoCommit=e.autoCommit),e.dbObjectAsPojo!==void 0&&(m.assertParamPropValue(typeof e.dbObjectAsPojo=="boolean",3,"dbObjectAsPojo"),n.dbObjectAsPojo=e.dbObjectAsPojo),e.keepInStmtCache!==void 0&&(m.assertParamPropValue(typeof e.keepInStmtCache=="boolean",3,"keepInStmtCache"),n.keepInStmtCache=e.keepInStmtCache),t)e.bindDefs!==void 0&&(m.assertParamPropValue(rt.isObjectOrArray(e.bindDefs),3,"bindDefs"),n.bindDefs=e.bindDefs),e.batchErrors!==void 0&&(m.assertParamPropValue(typeof e.batchErrors=="boolean",3,"batchErrors"),n.batchErrors=e.batchErrors),e.dmlRowCounts!==void 0&&(m.assertParamPropValue(typeof e.dmlRowCounts=="boolean",3,"dmlRowCounts"),n.dmlRowCounts=e.dmlRowCounts);else{if(e.fetchArraySize!==void 0&&(m.assertParamPropValue(Number.isInteger(e.fetchArraySize)&&e.fetchArraySize>0,3,"fetchArraySize"),n.fetchArraySize=e.fetchArraySize),e.fetchInfo!==void 0){m.assertParamPropValue(rt.isObject(e.fetchInfo),3,"fetchInfo");let o=Object.getOwnPropertyNames(e.fetchInfo),T=new Map(nl.fetchTypeMap);for(let l of o){let E=e.fetchInfo[l];E.type===void 0&&m.throwErr(m.ERR_NO_TYPE_FOR_CONVERSION),E.type!==Tt.DEFAULT&&E.type!==Me.DB_TYPE_VARCHAR&&E.type!==Me.DB_TYPE_RAW&&m.throwErr(m.ERR_INVALID_TYPE_FOR_CONVERSION),T.set(l,E.type)}n.fetchTypeMap=T}if(e.fetchTypeHandler!==void 0){let o=typeof e.fetchTypeHandler;m.assertParamPropValue(o==="function",3,"fetchTypeHandler"),n.fetchTypeHandler=e.fetchTypeHandler}e.maxRows!==void 0&&(m.assertParamPropValue(Number.isInteger(e.maxRows)&&e.maxRows>=0,3,"maxRows"),n.maxRows=e.maxRows),e.outFormat!==void 0&&(m.assertParamPropValue(e.outFormat===Tt.OUT_FORMAT_ARRAY||e.outFormat===Tt.OUT_FORMAT_OBJECT,3,"outFormat"),n.outFormat=e.outFormat),e.prefetchRows!==void 0&&(m.assertParamPropValue(Number.isInteger(e.prefetchRows)&&e.prefetchRows>=0,3,"prefetchRows"),n.prefetchRows=e.prefetchRows),e.resultSet!==void 0&&(m.assertParamPropValue(typeof e.resultSet=="boolean",3,"resultSet"),n.resultSet=e.resultSet)}return n}get action(){return null}set action(e){m.assertPropValue(typeof e=="string","action"),m.assert(this._impl,m.ERR_INVALID_CONNECTION),this._impl.setAction(e)}async breakExecution(){m.assertArgCount(arguments,0,0),m.assert(this._impl,m.ERR_INVALID_CONNECTION),await this._impl.breakExecution()}get callTimeout(){if(this._impl)return this._impl.getCallTimeout()}set callTimeout(e){m.assertPropValue(Number.isInteger(e)&&e>=0,"callTimeout"),m.assert(this._impl,m.ERR_INVALID_CONNECTION),this._impl.setCallTimeout(e)}async changePassword(e,t,n){m.assertArgCount(arguments,3,3),m.assertParamValue(typeof e=="string",1),m.assertParamValue(typeof t=="string",2),m.assertParamValue(typeof n=="string",3),m.assert(this._impl,m.ERR_INVALID_CONNECTION),await this._impl.changePassword(e,t,n)}get clientId(){return null}set clientId(e){m.assertPropValue(typeof e=="string","clientId"),m.assert(this._impl,m.ERR_INVALID_CONNECTION),this._impl.setClientId(e)}get clientInfo(){return null}set clientInfo(e){m.assertPropValue(typeof e=="string","clientInfo"),m.assert(this._impl,m.ERR_INVALID_CONNECTION),this._impl.setClientInfo(e)}async close(e){let t={};m.assertArgCount(arguments,0,1),arguments.length==1&&(m.assertParamValue(rt.isObject(e),1),t=e,m.assertParamPropBool(t,1,"drop")),m.assert(this._impl&&!this._closing,m.ERR_INVALID_CONNECTION),this._closing=!0;try{await this._impl.close(t)}finally{this._closing=!1}delete this._impl,this._dbObjectClasses.clear(),this.emit("_afterConnClose")}async commit(){m.assertArgCount(arguments,0,0),m.assert(this._impl,m.ERR_INVALID_CONNECTION),await this._impl.commit()}async createLob(e){m.assertArgCount(arguments,1,1),m.assertParamValue(e===Me.DB_TYPE_CLOB||e===Me.DB_TYPE_BLOB||e===Me.DB_TYPE_NCLOB,1),m.assert(this._impl,m.ERR_INVALID_CONNECTION);let t=new sl;return t._setup(await this._impl.createLob(e),!1),t}get currentSchema(){if(this._impl)return this._impl.getCurrentSchema()}set currentSchema(e){m.assertPropValue(typeof e=="string","currentSchema"),m.assert(this._impl,m.ERR_INVALID_CONNECTION),this._impl.setCurrentSchema(e)}get dbOp(){return null}set dbOp(e){m.assertPropValue(typeof e=="string","dbOp"),m.assert(this._impl,m.ERR_INVALID_CONNECTION),this._impl.setDbOp(e)}get thin(){return nl.thin}get ecid(){return null}set ecid(e){m.assertPropValue(typeof e=="string","ecid"),m.assert(this._impl,m.ERR_INVALID_CONNECTION),this._impl.setECID(e)}async execute(e,t,n){let T=[],l={};m.assertArgCount(arguments,1,3),m.assertParamValue(typeof e=="string",1),arguments.length>=2&&(T=await this._processExecuteBinds(t)),arguments.length==3&&(l=this._verifyExecOpts(n,!1)),this._addDefaultsToExecOpts(l),m.assert(this._impl,m.ERR_INVALID_CONNECTION);let E;try{E=await this._impl.execute(e,1,T,l,!1)}catch(S){throw S.errorNum===1406&&m.throwErr(m.ERR_INSUFFICIENT_BUFFER_FOR_BINDS),S}if(E.resultSet!==void 0){let S=new a_;S._setup(this,E.resultSet),E.metaData=S._impl.metaData,l.resultSet?E.resultSet=S:(E.rows=await S._getAllRows(),delete E.resultSet)}if(E.outBinds!==void 0)for(let S in E.outBinds){let R=this._transformOutBind(E.outBinds[S],l);E.outBinds[S]=R}if(E.implicitResults)for(let S in E.implicitResults){let R=E.implicitResults[S],d=new a_;d._setup(this,R),l.resultSet?E.implicitResults[S]=d:E.implicitResults[S]=await d._getAllRows()}return E}async executeMany(e,t,n){let o={},T=[],l;m.assertArgCount(arguments,2,3),m.assertParamValue(typeof e=="string",1),arguments.length==3&&(o=this._verifyExecOpts(n,!0)),this._addDefaultsToExecOpts(o),typeof t=="number"?(m.assertParamValue(Number.isInteger(t)&&t>0,2),l=t,o.bindDefs!==void 0&&(T=await this._processExecuteManyBinds([],o.bindDefs))):(m.assertParamValue(Array.isArray(t)&&t.length>0,2),l=t.length,T=await this._processExecuteManyBinds(t,o.bindDefs)),m.assert(this._impl,m.ERR_INVALID_CONNECTION);let E=await this._impl.execute(e,l,T,o,!0);if(E.outBinds!==void 0)for(let S=0;S<E.outBinds.length;S++){let R=E.outBinds[S];for(let d in R)R[d]=this._transformOutBind(R[d],o)}return E}get externalName(){if(this._impl)return this._impl.getExternalName()}set externalName(e){m.assertPropValue(typeof e=="string","externalName"),m.assert(this._impl,m.ERR_INVALID_CONNECTION),this._impl.setExternalName(e)}async getDbObjectClass(e){return m.assertArgCount(arguments,1,1),m.assertParamValue(typeof e=="string",1),m.assert(this._impl,m.ERR_INVALID_CONNECTION),await this._getDbObjectClassForName(e)}async getQueue(e,t){let n={};m.assertArgCount(arguments,1,2),m.assertParamValue(typeof e=="string",1),arguments.length==2&&(m.assertParamValue(rt.isObject(t),2),n={...t}),m.assert(this._impl,m.ERR_INVALID_CONNECTION);let o=new Lw;return await o.create(this,e,n),o}getSodaDatabase(){m.assertArgCount(arguments,0,0),m.assert(this._impl,m.ERR_INVALID_CONNECTION);let e=new ww;return e._impl=this._impl.getSodaDatabase(),e}async getStatementInfo(e){m.assertArgCount(arguments,1,1),m.assertParamValue(typeof e=="string",1),m.assert(this._impl,m.ERR_INVALID_CONNECTION);let t=await this._impl.getStatementInfo(e);if(t.metaData)for(let n=0;n<t.metaData.length;n++){let o=t.metaData[n];rt.addTypeProperties(o,"dbType"),o.fetchType=Me.DB_TYPE_FETCH_TYPE_MAP.get(o.dbType)}return t}get internalName(){if(this._impl)return this._impl.getInternalName()}set internalName(e){m.assertPropValue(typeof e=="string","internalName"),m.assert(this._impl,m.ERR_INVALID_CONNECTION),this._impl.setInternalName(e)}isHealthy(){return this._impl!==void 0&&!this._closing&&this._impl.isHealthy()}get module(){return null}set module(e){m.assertPropValue(typeof e=="string","module"),m.assert(this._impl,m.ERR_INVALID_CONNECTION),this._impl.setModule(e)}get oracleServerVersion(){if(this._impl)return this._impl.getOracleServerVersion()}get oracleServerVersionString(){if(this._impl)return this._impl.getOracleServerVersionString()}async ping(){m.assertArgCount(arguments,0,0),m.assert(this._impl,m.ERR_INVALID_CONNECTION),await this._impl.ping()}queryStream(e,t,n){m.assertArgCount(arguments,1,3),m.assertParamValue(typeof e=="string",1),arguments.length==3?(m.assertParamValue(rt.isObject(n),3),n={...n}):n={},n.resultSet=!0;let o=new Yw;return Uw.nextTick(async()=>{try{let T=await this.execute(e,t||[],n);T.resultSet||m.throwErr(m.ERR_NOT_A_QUERY),o._open(T.resultSet)}catch(T){o.destroy(T);return}}),o}async rollback(){m.assertArgCount(arguments,0,0),m.assert(this._impl,m.ERR_INVALID_CONNECTION),await this._impl.rollback()}async shutdown(e){let t=Tt.SHUTDOWN_MODE_DEFAULT;m.assertArgCount(arguments,0,1),e!==void 0&&(m.assertParamValue(typeof t=="number",1),t=e),m.assert(this._impl,m.ERR_INVALID_CONNECTION),await this._impl.shutdown(t)}async startup(e){let t={};m.assertArgCount(arguments,0,1),arguments.length==1&&(m.assertParamValue(typeof t=="object",1),t=e,m.assertParamPropBool(t,1,"force"),m.assertParamPropBool(t,1,"restrict"),m.assertParamPropString(t,1,"pfile")),m.assert(this._impl,m.ERR_INVALID_CONNECTION),await this._impl.startup(t)}get stmtCacheSize(){if(this._impl)return this._impl.getStmtCacheSize()}set stmtCacheSize(e){m.assertPropValue(Number.isInteger(e)&&e>=0,"stmtCacheSize"),m.assert(this._impl,m.ERR_INVALID_CONNECTION),this._impl.setStmtCacheSize(e)}async subscribe(e,t){m.assertArgCount(arguments,2,2),m.assertParamValue(typeof e=="string",1),m.assertParamValue(rt.isObject(t),2),t={...t},m.assertParamPropUnsignedInt(t,2,"namespace"),t.namespace===void 0&&(t.namespace=Tt.SUBSCR_NAMESPACE_DBCHANGE),m.assertParamPropString(t,2,"ipAddress"),m.assertParamPropUnsignedInt(t,2,"port"),m.assertParamPropUnsignedInt(t,2,"timeout"),m.assertParamPropUnsignedInt(t,2,"operations"),m.assertParamPropUnsignedInt(t,2,"qos"),m.assertParamPropUnsignedInt(t,2,"groupingClass"),m.assertParamPropUnsignedInt(t,2,"groupingValue"),m.assertParamPropUnsignedInt(t,2,"groupingType"),m.assertParamPropBool(t,2,"clientInitiated"),m.assertParamPropFunction(t,2,"callback"),m.assert(t.callback,m.ERR_MISSING_SUBSCR_CALLBACK),t.namespace===Tt.SUBSCR_NAMESPACE_DBCHANGE&&(m.assertParamPropString(t,2,"sql"),m.assert(t.sql&&t.sql.length>0,m.ERR_MISSING_SUBSCR_SQL),t.binds!==void 0&&(t.binds=await this._processExecuteBinds(t.binds))),m.assert(this._impl,m.ERR_INVALID_CONNECTION);let n=Ai.get(e),o=await this._impl.subscribe(n,t),T;return t.namespace===Tt.SUBSCR_NAMESPACE_DBCHANGE?(T=o.subscription,delete o.subscription):(T=o,o=void 0),Ai.set(e,T),o}get tag(){if(this._impl)return this._impl.getTag()}set tag(e){m.assertPropValue(typeof e=="string","tag"),m.assert(this._impl,m.ERR_INVALID_CONNECTION),this._impl.setTag(e)}async tpcBegin(e,t,n){m.assertArgCount(arguments,1,3),m.assertParamValue(rt.isXid(e),1),arguments.length<3?n=60:m.assertParamValue(typeof n=="number",3),arguments.length<2?t=Tt.TPC_BEGIN_NEW:m.assertParamValue(typeof t=="number",2),m.assert(this._impl,m.ERR_INVALID_CONNECTION),await this._impl.tpcBegin(e,t,n)}async tpcCommit(e,t){m.assertArgCount(arguments,0,2),arguments.length<2?t=!1:m.assertParamValue(typeof t=="boolean",2),arguments.length>=1&&m.assertParamValue(rt.isXid(e),1),m.assert(this._impl,m.ERR_INVALID_CONNECTION),await this._impl.tpcCommit(e,t)}async tpcEnd(e,t){m.assertArgCount(arguments,0,2),arguments.length<2?t=Tt.TPC_END_NORMAL:m.assertParamValue(typeof t=="number",2),arguments.length>=1&&m.assertParamValue(rt.isXid(e),1),m.assert(this._impl,m.ERR_INVALID_CONNECTION),await this._impl.tpcEnd(e,t)}async tpcForget(e){m.assertArgCount(arguments,1,1),m.assertParamValue(rt.isXid(e),1),m.assert(this._impl,m.ERR_INVALID_CONNECTION),await this._impl.tpcForget(e)}async tpcPrepare(e){return m.assertArgCount(arguments,0,1),arguments.length>=1&&m.assertParamValue(rt.isXid(e),1),m.assert(this._impl,m.ERR_INVALID_CONNECTION),await this._impl.tpcPrepare(e)}async tpcRecover(e){m.assertArgCount(arguments,0,1),arguments.length==1?m.assertParamValue(typeof e=="boolean",1):e=!0;let t=`
      SELECT
          formatid as "formatId",
          UTL_RAW.CAST_TO_VARCHAR2(globalid) as "globalTransactionId",
          UTL_RAW.CAST_TO_VARCHAR2(branchid) as "branchQualifier"
      FROM DBA_PENDING_TRANSACTIONS`,n=`
      SELECT
          formatid as "formatId",
          globalid as "globalTransactionId",
          branchid as "branchQualifier"
      FROM DBA_PENDING_TRANSACTIONS`,o={outFormat:Tt.OUT_FORMAT_OBJECT,resultSet:!1};return(await this.execute(e?t:n,{},o)).rows}async tpcRollback(e){m.assertArgCount(arguments,0,1),arguments.length==1&&m.assertParamValue(rt.isXid(e),1),m.assert(this._impl,m.ERR_INVALID_CONNECTION),await this._impl.tpcRollback(e)}async unsubscribe(e){m.assertArgCount(arguments,1,1),m.assertParamValue(typeof e=="string",1),m.assert(this._impl,m.ERR_INVALID_CONNECTION),m.assert(Ai.has(e),m.ERR_INVALID_SUBSCR),await this._impl.unsubscribe(Ai.get(e)),Ai.delete(e)}};c(il,"Connection");var ys=il;ys.prototype.break=rt.callbackify(ys.prototype.breakExecution);rt.wrapFns(ys.prototype,"changePassword","close","commit","createLob","execute","executeMany","getDbObjectClass","getQueue","getStatementInfo","ping","rollback","shutdown","startup","subscribe","tpcBegin","tpcCommit","tpcEnd","tpcForget","tpcPrepare","tpcRecover","tpcRollback","unsubscribe");ys.prototype.release=ys.prototype.close;Wd.exports=ys});var Tl=b((HV,zd)=>{"use strict";var xw=require("process"),Fw=Sr(),al=class al{constructor(e){let t=0;e._totalRequestsEnqueued!==0&&(t=Math.round(e._totalTimeInQueue/e._totalRequestsEnqueued)),this.gatheredDate=Date.now(),this.upTime=this.gatheredDate-e._createdDate,this.upTimeSinceReset=this.gatheredDate-e._timeOfReset,this.connectionRequests=e._totalConnectionRequests,this.requestsEnqueued=e._totalRequestsEnqueued,this.requestsDequeued=e._totalRequestsDequeued,this.failedRequests=e._totalFailedRequests,this.rejectedRequests=e._totalRequestsRejected,this.requestTimeouts=e._totalRequestTimeouts,this.maximumQueueLength=e._maximumQueueLength,this.currentQueueLength=e._connRequestQueue.length,this.timeInQueue=e._totalTimeInQueue,this.minimumTimeInQueue=e._minTimeInQueue,this.maximumTimeInQueue=e._maxTimeInQueue,this.averageTimeInQueue=t,this.connectionsInUse=e.connectionsInUse,this.connectionsOpen=e.connectionsOpen,this.connectString=e.connectString,this.edition=e.edition,this.events=e.events,this.externalAuth=e.externalAuth,this.homogeneous=e.homogeneous,this.poolAlias=e.poolAlias,this.poolIncrement=e.poolIncrement,this.poolMax=e.poolMax,this.poolMaxPerShard=e.poolMaxPerShard,this.poolMin=e.poolMin,this.poolPingInterval=e.poolPingInterval,this.poolTimeout=e.poolTimeout,this.queueMax=e.queueMax,this.queueTimeout=e.queueTimeout,this.sodaMetaDataCache=e.sodaMetaDataCache,this.stmtCacheSize=e.stmtCacheSize,this.user=e.user,this.threadPoolSize=xw.env.UV_THREADPOOL_SIZE,this.thin=Fw.thin}logStatistics(){console.log(`
Driver:`),console.log("...thin mode:",this.thin),console.log("Pool statistics:"),console.log("...gathered at:",new Date(this.gatheredDate).toISOString()),console.log("...up time (milliseconds):",this.upTime),console.log("...up time from last reset (milliseconds)",this.upTimeSinceReset),console.log("...connection requests:",this.connectionRequests),console.log("...requests enqueued:",this.requestsEnqueued),console.log("...requests dequeued:",this.requestsDequeued),console.log("...requests failed:",this.failedRequests),console.log("...requests exceeding queueMax:",this.rejectedRequests),console.log("...requests exceeding queueTimeout:",this.requestTimeouts),console.log("...current queue length:",this.currentQueueLength),console.log("...maximum queue length:",this.maximumQueueLength),console.log("...sum of time in queue (milliseconds):",this.timeInQueue),console.log("...minimum time in queue (milliseconds):",this.minimumTimeInQueue),console.log("...maximum time in queue (milliseconds):",this.maximumTimeInQueue),console.log("...average time in queue (milliseconds):",this.averageTimeInQueue),console.log("...pool connections in use:",this.connectionsInUse),console.log("...pool connections open:",this.connectionsOpen),console.log("Pool attributes:"),console.log("...connectString:",this.connectString),console.log("...edition:",this.edition),console.log("...events:",this.events),console.log("...externalAuth:",this.externalAuth),console.log("...homogeneous:",this.homogeneous),console.log("...poolAlias:",this.poolAlias),console.log("...poolIncrement:",this.poolIncrement),console.log("...poolMax:",this.poolMax),console.log("...poolMaxPerShard:",this.poolMaxPerShard),console.log("...poolMin:",this.poolMin),console.log("...poolPingInterval (seconds):",this.poolPingInterval),console.log("...poolTimeout (seconds):",this.poolTimeout),console.log("...queueMax:",this.queueMax),console.log("...queueTimeout (milliseconds):",this.queueTimeout),console.log("...sessionCallback:",this.sessionCallback),console.log("...sodaMetaDataCache:",this.sodaMetaDataCache),console.log("...stmtCacheSize:",this.stmtCacheSize),console.log("...user:",this.user),console.log("Related environment variables:"),console.log("...UV_THREADPOOL_SIZE:",this.threadPoolSize)}};c(al,"PoolStatistics");var _l=al;zd.exports=_l});var Jd=b((KV,Qd)=>{"use strict";var bw=ol(),vw=require("events"),as=Ct(),ie=Z(),Xd=Sr(),Ts=Wt(),kw=gn(),Gw=Tl(),cl=class cl extends vw{constructor(){super(),this._impl=new kw.PoolImpl,this._queueMax=0,this._queueTimeout=0,this._enableStatistics=!1,this._timeOfReset=this._createdDate=Date.now(),this._sessionCallback=void 0,this._connRequestQueue=[],this._connectionClass=Xd.connectionClass}_checkPoolOpen(e){this.status===as.POOL_STATUS_DRAINING?ie.throwErr(ie.ERR_POOL_CLOSING):this.status===as.POOL_STATUS_CLOSED?ie.throwErr(ie.ERR_POOL_CLOSED):e||this.status===as.POOL_STATUS_RECONFIGURING&&ie.throwErr(ie.ERR_POOL_RECONFIGURING)}_checkRequestQueue(){let e=this._connectionsOut;for(;this._connRequestQueue.length>0&&e<this.poolMax;){e+=1;let t=this._connRequestQueue.shift();this._enableStatistics&&(this._totalRequestsDequeued+=1,this._updateWaitStatistics(t)),t.timeoutHandle&&clearTimeout(t.timeoutHandle),t.resolve()}}get _enableStats(){return this._enableStatistics}_resetStatistics(){this._timeOfReset=Date.now(),this._totalConnectionRequests=0,this._totalRequestsEnqueued=0,this._totalRequestsDequeued=0,this._totalFailedRequests=0,this._totalRequestsRejected=0,this._totalRequestTimeouts=0,this._maximumQueueLength=this._connRequestQueue.length,this._totalTimeInQueue=0,this._minTimeInQueue=0,this._maxTimeInQueue=0}_setup(e,t){this._queueTimeout=e.queueTimeout,this._queueMax=e.queueMax,this._enableStatistics=e.enableStatistics,this._edition=e.edition,this._eventsFlag=e.events,this._externalAuth=e.externalAuth,this._homogeneous=e.homogeneous,this._user=e.user,this._connectString=e.connectString,this._status=as.POOL_STATUS_OPEN,this._connectionsOut=0,this._poolAlias=t,this.on("_checkRequestQueue",this._checkRequestQueue),this._resetStatistics()}_updateWaitStatistics(e){let t=Date.now()-e.enqueuedTime;this._totalTimeInQueue+=t,this._minTimeInQueue===0?this._minTimeInQueue=t:this._minTimeInQueue=Math.min(this._minTimeInQueue,t),this._maxTimeInQueue=Math.max(this._maxTimeInQueue,t)}_verifyGetConnectionOptions(e){let t={};if(e.user!==void 0&&(ie.assertParamPropValue(typeof e.user=="string",1,"user"),t.user=e.user),e.username!==void 0&&(ie.assert(t.user===void 0,ie.ERR_DBL_USER),ie.assertParamPropValue(typeof e.username=="string",1,"username"),t.user=e.username),e.password!==void 0&&(ie.assertParamPropValue(typeof e.password=="string",1,"password"),t.password=e.password),e.tag!==void 0&&(ie.assertParamPropValue(typeof e.tag=="string",1,"tag"),t.tag=e.tag),e.matchAnyTag!==void 0&&(ie.assertParamPropValue(typeof e.matchAnyTag=="boolean",1,"matchAnyTag"),t.matchAnyTag=e.matchAnyTag),e.shardingKey!==void 0){let n=e.shardingKey;ie.assertParamPropValue(Ts.isShardingKey(n),1,"shardingKey"),t.shardingKey=e.shardingKey}if(e.superShardingKey!==void 0){let n=e.superShardingKey;ie.assertParamPropValue(Ts.isShardingKey(n),1,"superShardingKey"),t.superShardingKey=e.superShardingKey}return t}async close(e){let t=0,n=!1;ie.assertArgCount(arguments,0,1),arguments.length==1&&(ie.assertParamValue(typeof e=="number",1),(e<0||isNaN(e)||e>2**31)&&ie.throwErr(ie.ERR_INVALID_PARAMETER_VALUE,1),n=!0,this._connectionsOut>0&&(t=e*1e3)),this._checkPoolOpen(!1),t>0&&(this._status=as.POOL_STATUS_DRAINING,await new Promise(o=>{let T=setTimeout(()=>{this.removeAllListeners("_allCheckedIn"),o()},t);this.once("_allCheckedIn",()=>{clearTimeout(T),o()})})),await this._impl.close({forceClose:n}),this._status=as.POOL_STATUS_CLOSED,this.emit("_afterPoolClose")}get connectionsInUse(){return this._impl.getConnectionsInUse()}get connectionsOpen(){return this._impl.getConnectionsOpen()}get connectString(){return this._connectString}get thin(){return Xd.thin}get edition(){return this._edition}get enableStatistics(){return this._enableStatistics}get events(){return this._eventsFlag}get externalAuth(){return this._externalAuth}async getConnection(e){let t,n={};ie.assertArgCount(arguments,0,1),arguments.length==1&&(ie.assertParamValue(Ts.isObject(e),1),n=this._verifyGetConnectionOptions(e)),n.connectionClass=this._connectionClass,this._checkPoolOpen(!0),this._enableStatistics&&(this._totalConnectionRequests+=1);try{t=this.poolMax}catch(o){throw this._enableStatistics&&(this._totalFailedRequests+=1),o}(this._connectionsOut>=t||this.status===as.POOL_STATUS_RECONFIGURING)&&(this._connRequestQueue.length>=this._queueMax&&this._queueMax>=0&&(this._enableStatistics&&(this._totalRequestsRejected+=1),ie.throwErr(ie.ERR_QUEUE_MAX_EXCEEDED,this._queueMax)),await new Promise((o,T)=>{let l={resolve:o,reject:T};this._queueTimeout!==0&&(l.timeoutHandle=setTimeout(()=>{let E=this._connRequestQueue.indexOf(l);E>=0&&this._connRequestQueue.splice(E,1),this._enableStatistics&&(this._totalRequestTimeouts+=1,this._updateWaitStatistics(l));try{ie.throwErr(ie.ERR_CONN_REQUEST_TIMEOUT,this._queueTimeout)}catch(S){T(S)}},this._queueTimeout)),this._connRequestQueue.push(l),this._enableStatistics&&(l.enqueuedTime=Date.now(),this._totalRequestsEnqueued+=1,this._maximumQueueLength=Math.max(this._maximumQueueLength,this._connRequestQueue.length))}),this._checkPoolOpen(!0)),this._connectionsOut+=1;try{let o=new bw;o._impl=await this._impl.getConnection(n),o._pool=this;let T=n.tag||"";if(typeof this.sessionCallback=="function"&&(o._impl._newSession||o.tag!=T))try{await new Promise((l,E)=>{this.sessionCallback(o,T,function(S){S?E(S):l()})})}catch(l){throw await o.close({drop:!0}),l}return o.on("_afterConnClose",()=>{this._connectionsOut-=1,this.emit("_checkRequestQueue"),this._connectionsOut==0&&this.emit("_allCheckedIn")}),o}catch(o){throw this._connectionsOut-=1,this._enableStatistics&&(this._totalFailedRequests+=1),this.emit("_checkRequestQueue"),o}}getStatistics(){return this._checkPoolOpen(!1),this._enableStatistics!==!0?null:new Gw(this)}get homogeneous(){return this._homogeneous}logStatistics(){let e=this.getStatistics();e===null&&ie.throwErr(ie.ERR_POOL_STATISTICS_DISABLED),e.logStatistics()}get poolAlias(){return this._poolAlias}get poolIncrement(){return this._impl.getPoolIncrement()}get poolMax(){return this._impl.getPoolMax()}get poolMaxPerShard(){return this._impl.getPoolMaxPerShard()}get poolMin(){return this._impl.getPoolMin()}get poolPingInterval(){return this._impl.getPoolPingInterval()}get poolTimeout(){return this._impl.getPoolTimeout()}get queueMax(){return this._queueMax}get queueTimeout(){return this._queueTimeout}async reconfigure(e){ie.assertArgCount(arguments,1,1),ie.assertParamValue(Ts.isObject(e)),ie.assertParamPropUnsignedInt(e,1,"queueMax"),ie.assertParamPropUnsignedInt(e,1,"queueTimeout"),ie.assertParamPropBool(e,1,"enableStatistics"),ie.assertParamPropBool(e,1,"resetStatistics"),ie.assertParamPropUnsignedInt(e,1,"poolMin"),ie.assertParamPropUnsignedInt(e,1,"poolMax"),ie.assertParamPropUnsignedInt(e,1,"poolMaxPerShard"),ie.assertParamPropUnsignedInt(e,1,"poolIncrement"),ie.assertParamPropInt(e,1,"poolPingInterval"),ie.assertParamPropUnsignedInt(e,1,"poolTimeout"),ie.assertParamPropUnsignedInt(e,1,"stmtCacheSize"),ie.assertParamPropBool(e,1,"sodaMetaDataCache"),this._checkPoolOpen(!1),this._status=as.POOL_STATUS_RECONFIGURING;try{await this._impl.reconfigure(e),(e.resetStatistics==!0||e.enableStatistics==!0&&this._enableStatistics==!1)&&this._resetStatistics(),e.queueMax!==void 0&&(this._queueMax=e.queueMax),e.queueTimeout!==void 0&&(this._queueTimeout=e.queueTimeout),e.enableStatistics!==void 0&&(this._enableStatistics=e.enableStatistics)}finally{this._status=as.POOL_STATUS_OPEN}this.emit("_checkRequestQueue")}get sessionCallback(){return this._sessionCallback}async setAccessToken(e){ie.assertArgCount(arguments,1,1),ie.assertParamValue(Ts.isObject(e),1),ie.assertParamPropString(e,1,"token"),ie.assertParamPropString(e,1,"privateKey"),await this._impl.setAccessToken(e)}get sodaMetaDataCache(){return this._impl.getSodaMetaDataCache()}get status(){return this._status}get stmtCacheSize(){return this._impl.getStmtCacheSize()}get user(){return this._user}};c(cl,"Pool");var xt=cl;xt.prototype.close=Ts.callbackify(xt.prototype.close);xt.prototype.getConnection=Ts.callbackify(xt.prototype.getConnection);xt.prototype.reconfigure=Ts.callbackify(xt.prototype.reconfigure);xt.prototype.setAccessToken=Ts.callbackify(xt.prototype.setAccessToken);xt.prototype.terminate=xt.prototype.close;xt.prototype._logStats=xt.prototype.logStatistics;Qd.exports=xt});var ze=b((zV,Zd)=>{"use strict";var{Buffer:jd}=require("buffer"),ct=Ct();Zd.exports={BIND_IN:ct.BIND_IN,BIND_INOUT:ct.BIND_INOUT,BIND_OUT:ct.BIND_OUT,CLIENT_VERSION:ct.VERSION_MAJOR<<24|ct.VERSION_MINOR<<20|ct.VERSION_PATCH<<12,CSFRM_IMPLICIT:ct.CSFRM_IMPLICIT,CSFRM_NCHAR:ct.CSFRM_NCHAR,DRIVER_NAME:ct.DEFAULT_DRIVER_NAME+" thn",PURITY_DEFAULT:ct.PURITY_DEFAULT,PURITY_NEW:ct.PURITY_NEW,PURITY_SELF:ct.PURITY_SELF,SYSASM:ct.SYSASM,SYSBKP:ct.SYSBKP,SYSDBA:ct.SYSDBA,SYSDG:ct.SYSDG,SYSKM:ct.SYSKM,SYSOPER:ct.SYSOPER,SYSRAC:ct.SYSRAC,AUTH_MODE_DEFAULT:0,AUTH_MODE_PRELIM:8,AUTH_MODE_SYSASM:32768,AUTH_MODE_SYSBKP:131072,AUTH_MODE_SYSDBA:2,AUTH_MODE_SYSDGD:262144,AUTH_MODE_SYSKMT:524288,AUTH_MODE_SYSOPER:4,AUTH_MODE_SYSRAC:1048576,TNS_AUTH_MODE_LOGON:1,TNS_AUTH_MODE_CHANGE_PASSWORD:2,TNS_AUTH_MODE_SYSDBA:32,TNS_AUTH_MODE_SYSOPER:64,TNS_AUTH_MODE_PRELIM:128,TNS_AUTH_MODE_WITH_PASSWORD:256,TNS_AUTH_MODE_SYSASM:4194304,TNS_AUTH_MODE_SYSBKP:16777216,TNS_AUTH_MODE_SYSDGD:33554432,TNS_AUTH_MODE_SYSKMT:67108864,TNS_AUTH_MODE_SYSRAC:134217728,TNS_AUTH_MODE_IAM_TOKEN:536870912,TNS_PACKET_TYPE_CONNECT:1,TNS_PACKET_TYPE_ACCEPT:2,TNS_PACKET_TYPE_REFUSE:4,TNS_PACKET_TYPE_REDIRECT:5,TNS_PACKET_TYPE_DATA:6,TNS_PACKET_TYPE_RESEND:11,TNS_PACKET_TYPE_MARKER:12,TNS_PACKET_TYPE_CONTROL:14,TNS_MARKER_TYPE_BREAK:1,TNS_MARKER_TYPE_RESET:2,TNS_DATA_TYPE_DEFAULT:0,TNS_DATA_TYPE_VARCHAR:1,TNS_DATA_TYPE_NUMBER:2,TNS_DATA_TYPE_BINARY_INTEGER:3,TNS_DATA_TYPE_FLOAT:4,TNS_DATA_TYPE_STR:5,TNS_DATA_TYPE_VNU:6,TNS_DATA_TYPE_PDN:7,TNS_DATA_TYPE_LONG:8,TNS_DATA_TYPE_VCS:9,TNS_DATA_TYPE_TIDDEF:10,TNS_DATA_TYPE_ROWID:11,TNS_DATA_TYPE_DATE:12,TNS_DATA_TYPE_VBI:15,TNS_DATA_TYPE_RAW:23,TNS_DATA_TYPE_LONG_RAW:24,TNS_DATA_TYPE_UB2:25,TNS_DATA_TYPE_UB4:26,TNS_DATA_TYPE_SB1:27,TNS_DATA_TYPE_SB2:28,TNS_DATA_TYPE_SB4:29,TNS_DATA_TYPE_SWORD:30,TNS_DATA_TYPE_UWORD:31,TNS_DATA_TYPE_PTRB:32,TNS_DATA_TYPE_PTRW:33,TNS_DATA_TYPE_OER8:290,TNS_DATA_TYPE_FUN:291,TNS_DATA_TYPE_AUA:292,TNS_DATA_TYPE_RXH7:293,TNS_DATA_TYPE_NA6:294,TNS_DATA_TYPE_OAC:39,TNS_DATA_TYPE_AMS:40,TNS_DATA_TYPE_BRN:41,TNS_DATA_TYPE_BRP:298,TNS_DATA_TYPE_BRV:299,TNS_DATA_TYPE_KVA:300,TNS_DATA_TYPE_CLS:301,TNS_DATA_TYPE_CUI:302,TNS_DATA_TYPE_DFN:303,TNS_DATA_TYPE_DQR:304,TNS_DATA_TYPE_DSC:305,TNS_DATA_TYPE_EXE:306,TNS_DATA_TYPE_FCH:307,TNS_DATA_TYPE_GBV:308,TNS_DATA_TYPE_GEM:309,TNS_DATA_TYPE_GIV:310,TNS_DATA_TYPE_OKG:311,TNS_DATA_TYPE_HMI:312,TNS_DATA_TYPE_INO:313,TNS_DATA_TYPE_LNF:315,TNS_DATA_TYPE_ONT:316,TNS_DATA_TYPE_OPE:317,TNS_DATA_TYPE_OSQ:318,TNS_DATA_TYPE_SFE:319,TNS_DATA_TYPE_SPF:320,TNS_DATA_TYPE_VSN:321,TNS_DATA_TYPE_UD7:322,TNS_DATA_TYPE_DSA:323,TNS_DATA_TYPE_UIN:68,TNS_DATA_TYPE_PIN:327,TNS_DATA_TYPE_PFN:328,TNS_DATA_TYPE_PPT:329,TNS_DATA_TYPE_STO:331,TNS_DATA_TYPE_ARC:333,TNS_DATA_TYPE_MRS:334,TNS_DATA_TYPE_MRT:335,TNS_DATA_TYPE_MRG:336,TNS_DATA_TYPE_MRR:337,TNS_DATA_TYPE_MRC:338,TNS_DATA_TYPE_VER:339,TNS_DATA_TYPE_LON2:340,TNS_DATA_TYPE_INO2:341,TNS_DATA_TYPE_ALL:342,TNS_DATA_TYPE_UDB:343,TNS_DATA_TYPE_AQI:344,TNS_DATA_TYPE_ULB:345,TNS_DATA_TYPE_ULD:346,TNS_DATA_TYPE_SLS:91,TNS_DATA_TYPE_SID:348,TNS_DATA_TYPE_NA7:349,TNS_DATA_TYPE_LVC:94,TNS_DATA_TYPE_LVB:95,TNS_DATA_TYPE_CHAR:96,TNS_DATA_TYPE_AVC:97,TNS_DATA_TYPE_AL7:354,TNS_DATA_TYPE_K2RPC:355,TNS_DATA_TYPE_BINARY_FLOAT:100,TNS_DATA_TYPE_BINARY_DOUBLE:101,TNS_DATA_TYPE_CURSOR:102,TNS_DATA_TYPE_RDD:104,TNS_DATA_TYPE_XDP:359,TNS_DATA_TYPE_OSL:106,TNS_DATA_TYPE_OKO8:363,TNS_DATA_TYPE_EXT_NAMED:108,TNS_DATA_TYPE_INT_NAMED:109,TNS_DATA_TYPE_EXT_REF:110,TNS_DATA_TYPE_INT_REF:111,TNS_DATA_TYPE_CLOB:112,TNS_DATA_TYPE_BLOB:113,TNS_DATA_TYPE_BFILE:114,TNS_DATA_TYPE_CFILE:115,TNS_DATA_TYPE_RSET:116,TNS_DATA_TYPE_CWD:117,TNS_DATA_TYPE_JSON:119,TNS_DATA_TYPE_NEW_OAC:120,TNS_DATA_TYPE_UD12:380,TNS_DATA_TYPE_AL8:381,TNS_DATA_TYPE_LFOP:382,TNS_DATA_TYPE_FCRT:383,TNS_DATA_TYPE_DNY:384,TNS_DATA_TYPE_OPR:385,TNS_DATA_TYPE_PLS:386,TNS_DATA_TYPE_XID:387,TNS_DATA_TYPE_TXN:388,TNS_DATA_TYPE_DCB:389,TNS_DATA_TYPE_CCA:390,TNS_DATA_TYPE_WRN:391,TNS_DATA_TYPE_TLH:393,TNS_DATA_TYPE_TOH:394,TNS_DATA_TYPE_FOI:395,TNS_DATA_TYPE_SID2:396,TNS_DATA_TYPE_TCH:397,TNS_DATA_TYPE_PII:398,TNS_DATA_TYPE_PFI:399,TNS_DATA_TYPE_PPU:400,TNS_DATA_TYPE_PTE:401,TNS_DATA_TYPE_CLV:146,TNS_DATA_TYPE_RXH8:404,TNS_DATA_TYPE_N12:405,TNS_DATA_TYPE_AUTH:406,TNS_DATA_TYPE_KVAL:407,TNS_DATA_TYPE_DTR:152,TNS_DATA_TYPE_DUN:153,TNS_DATA_TYPE_DOP:154,TNS_DATA_TYPE_VST:155,TNS_DATA_TYPE_ODT:156,TNS_DATA_TYPE_FGI:413,TNS_DATA_TYPE_DSY:414,TNS_DATA_TYPE_DSYR8:415,TNS_DATA_TYPE_DSYH8:416,TNS_DATA_TYPE_DSYL:417,TNS_DATA_TYPE_DSYT8:418,TNS_DATA_TYPE_DSYV8:419,TNS_DATA_TYPE_DSYP:420,TNS_DATA_TYPE_DSYF:421,TNS_DATA_TYPE_DSYK:422,TNS_DATA_TYPE_DSYY:423,TNS_DATA_TYPE_DSYQ:424,TNS_DATA_TYPE_DSYC:425,TNS_DATA_TYPE_DSYA:426,TNS_DATA_TYPE_OT8:427,TNS_DATA_TYPE_DOL:172,TNS_DATA_TYPE_DSYTY:429,TNS_DATA_TYPE_AQE:430,TNS_DATA_TYPE_KV:431,TNS_DATA_TYPE_AQD:432,TNS_DATA_TYPE_AQ8:433,TNS_DATA_TYPE_TIME:178,TNS_DATA_TYPE_TIME_TZ:179,TNS_DATA_TYPE_TIMESTAMP:180,TNS_DATA_TYPE_TIMESTAMP_TZ:181,TNS_DATA_TYPE_INTERVAL_YM:182,TNS_DATA_TYPE_INTERVAL_DS:183,TNS_DATA_TYPE_EDATE:184,TNS_DATA_TYPE_ETIME:185,TNS_DATA_TYPE_ETTZ:186,TNS_DATA_TYPE_ESTAMP:187,TNS_DATA_TYPE_ESTZ:188,TNS_DATA_TYPE_EIYM:189,TNS_DATA_TYPE_EIDS:190,TNS_DATA_TYPE_RFS:449,TNS_DATA_TYPE_RXH10:450,TNS_DATA_TYPE_DCLOB:195,TNS_DATA_TYPE_DBLOB:196,TNS_DATA_TYPE_DBFILE:197,TNS_DATA_TYPE_DJSON:198,TNS_DATA_TYPE_KPN:454,TNS_DATA_TYPE_KPDNR:455,TNS_DATA_TYPE_DSYD:456,TNS_DATA_TYPE_DSYS:457,TNS_DATA_TYPE_DSYR:458,TNS_DATA_TYPE_DSYH:459,TNS_DATA_TYPE_DSYT:460,TNS_DATA_TYPE_DSYV:461,TNS_DATA_TYPE_AQM:462,TNS_DATA_TYPE_OER11:463,TNS_DATA_TYPE_UROWID:208,TNS_DATA_TYPE_AQL:466,TNS_DATA_TYPE_OTC:467,TNS_DATA_TYPE_KFNO:468,TNS_DATA_TYPE_KFNP:469,TNS_DATA_TYPE_KGT8:470,TNS_DATA_TYPE_RASB4:471,TNS_DATA_TYPE_RAUB2:472,TNS_DATA_TYPE_RAUB1:473,TNS_DATA_TYPE_RATXT:474,TNS_DATA_TYPE_RSSB4:475,TNS_DATA_TYPE_RSUB2:476,TNS_DATA_TYPE_RSUB1:477,TNS_DATA_TYPE_RSTXT:478,TNS_DATA_TYPE_RIDL:479,TNS_DATA_TYPE_GLRDD:480,TNS_DATA_TYPE_GLRDG:481,TNS_DATA_TYPE_GLRDC:482,TNS_DATA_TYPE_OKO:483,TNS_DATA_TYPE_DPP:484,TNS_DATA_TYPE_DPLS:485,TNS_DATA_TYPE_DPMOP:486,TNS_DATA_TYPE_TIMESTAMP_LTZ:231,TNS_DATA_TYPE_ESITZ:232,TNS_DATA_TYPE_UB8:233,TNS_DATA_TYPE_STAT:490,TNS_DATA_TYPE_RFX:491,TNS_DATA_TYPE_FAL:492,TNS_DATA_TYPE_CKV:493,TNS_DATA_TYPE_DRCX:494,TNS_DATA_TYPE_KGH:495,TNS_DATA_TYPE_AQO:496,TNS_DATA_TYPE_PNTY:241,TNS_DATA_TYPE_OKGT:498,TNS_DATA_TYPE_KPFC:499,TNS_DATA_TYPE_FE2:500,TNS_DATA_TYPE_SPFP:501,TNS_DATA_TYPE_DPULS:502,TNS_DATA_TYPE_BOOLEAN:252,TNS_DATA_TYPE_AQA:509,TNS_DATA_TYPE_KPBF:510,TNS_DATA_TYPE_TSM:513,TNS_DATA_TYPE_MSS:514,TNS_DATA_TYPE_KPC:516,TNS_DATA_TYPE_CRS:517,TNS_DATA_TYPE_KKS:518,TNS_DATA_TYPE_KSP:519,TNS_DATA_TYPE_KSPTOP:520,TNS_DATA_TYPE_KSPVAL:521,TNS_DATA_TYPE_PSS:522,TNS_DATA_TYPE_NLS:523,TNS_DATA_TYPE_ALS:524,TNS_DATA_TYPE_KSDEVTVAL:525,TNS_DATA_TYPE_KSDEVTTOP:526,TNS_DATA_TYPE_KPSPP:527,TNS_DATA_TYPE_KOL:528,TNS_DATA_TYPE_LST:529,TNS_DATA_TYPE_ACX:530,TNS_DATA_TYPE_SCS:531,TNS_DATA_TYPE_RXH:532,TNS_DATA_TYPE_KPDNS:533,TNS_DATA_TYPE_KPDCN:534,TNS_DATA_TYPE_KPNNS:535,TNS_DATA_TYPE_KPNCN:536,TNS_DATA_TYPE_KPS:537,TNS_DATA_TYPE_APINF:538,TNS_DATA_TYPE_TEN:539,TNS_DATA_TYPE_XSSCS:540,TNS_DATA_TYPE_XSSSO:541,TNS_DATA_TYPE_XSSAO:542,TNS_DATA_TYPE_KSRPC:543,TNS_DATA_TYPE_KVL:560,TNS_DATA_TYPE_SESSGET:563,TNS_DATA_TYPE_SESSREL:564,TNS_DATA_TYPE_XSSDEF:565,TNS_DATA_TYPE_PDQCINV:572,TNS_DATA_TYPE_PDQIDC:573,TNS_DATA_TYPE_KPDQCSTA:574,TNS_DATA_TYPE_KPRS:575,TNS_DATA_TYPE_KPDQIDC:576,TNS_DATA_TYPE_RTSTRM:578,TNS_DATA_TYPE_SESSRET:579,TNS_DATA_TYPE_SCN6:580,TNS_DATA_TYPE_KECPA:581,TNS_DATA_TYPE_KECPP:582,TNS_DATA_TYPE_SXA:583,TNS_DATA_TYPE_KVARR:584,TNS_DATA_TYPE_KPNGN:585,TNS_DATA_TYPE_XSNSOP:590,TNS_DATA_TYPE_XSATTR:591,TNS_DATA_TYPE_XSNS:592,TNS_DATA_TYPE_TXT:593,TNS_DATA_TYPE_XSSESSNS:594,TNS_DATA_TYPE_XSATTOP:595,TNS_DATA_TYPE_XSCREOP:596,TNS_DATA_TYPE_XSDETOP:597,TNS_DATA_TYPE_XSDESOP:598,TNS_DATA_TYPE_XSSETSP:599,TNS_DATA_TYPE_XSSIDP:600,TNS_DATA_TYPE_XSPRIN:601,TNS_DATA_TYPE_XSKVL:602,TNS_DATA_TYPE_XSSSDEF2:603,TNS_DATA_TYPE_XSNSOP2:604,TNS_DATA_TYPE_XSNS2:605,TNS_DATA_TYPE_IMPLRES:611,TNS_DATA_TYPE_OER:612,TNS_DATA_TYPE_UB1ARRAY:613,TNS_DATA_TYPE_SESSSTATE:614,TNS_DATA_TYPE_AC_REPLAY:615,TNS_DATA_TYPE_AC_CONT:616,TNS_DATA_TYPE_KPDNREQ:622,TNS_DATA_TYPE_KPDNRNF:623,TNS_DATA_TYPE_KPNGNC:624,TNS_DATA_TYPE_KPNRI:625,TNS_DATA_TYPE_AQENQ:626,TNS_DATA_TYPE_AQDEQ:627,TNS_DATA_TYPE_AQJMS:628,TNS_DATA_TYPE_KPDNRPAY:629,TNS_DATA_TYPE_KPDNRACK:630,TNS_DATA_TYPE_KPDNRMP:631,TNS_DATA_TYPE_KPDNRDQ:632,TNS_DATA_TYPE_CHUNKINFO:636,TNS_DATA_TYPE_SCN:637,TNS_DATA_TYPE_SCN8:638,TNS_DATA_TYPE_UDS:639,TNS_DATA_TYPE_TNP:640,TNS_TYPE_REP_NATIVE:0,TNS_TYPE_REP_UNIVERSAL:1,TNS_TYPE_REP_ORACLE:10,TNS_MSG_TYPE_PROTOCOL:1,TNS_MSG_TYPE_DATA_TYPES:2,TNS_MSG_TYPE_FUNCTION:3,TNS_MSG_TYPE_ERROR:4,TNS_MSG_TYPE_ROW_HEADER:6,TNS_MSG_TYPE_ROW_DATA:7,TNS_MSG_TYPE_PARAMETER:8,TNS_MSG_TYPE_STATUS:9,TNS_MSG_TYPE_IO_VECTOR:11,TNS_MSG_TYPE_LOB_DATA:14,TNS_MSG_TYPE_WARNING:15,TNS_MSG_TYPE_DESCRIBE_INFO:16,TNS_MSG_TYPE_PIGGYBACK:17,TNS_MSG_TYPE_FLUSH_OUT_BINDS:19,TNS_MSG_TYPE_BIT_VECTOR:21,TNS_MSG_TYPE_SERVER_SIDE_PIGGYBACK:23,TNS_MSG_TYPE_IMPLICIT_RESULTSET:27,TNS_MSG_TYPE_ONEWAY_FN:26,TNS_KEYWORD_NUM_CURRENT_SCHEMA:168,TNS_KEYWORD_NUM_EDITION:172,TNS_BIND_USE_INDICATORS:1,TNS_BIND_USE_LENGTH:2,TNS_BIND_ARRAY:64,TNS_BIND_DIR_OUTPUT:16,TNS_BIND_DIR_INPUT:32,TNS_BIND_DIR_INPUT_OUTPUT:48,TNS_EXEC_OPTION_PARSE:1,TNS_EXEC_OPTION_BIND:8,TNS_EXEC_OPTION_DEFINE:16,TNS_EXEC_OPTION_EXECUTE:32,TNS_EXEC_OPTION_FETCH:64,TNS_EXEC_OPTION_COMMIT:256,TNS_EXEC_OPTION_COMMIT_REEXECUTE:1,TNS_EXEC_OPTION_PLSQL_BIND:1024,TNS_EXEC_OPTION_DML_ROWCOUNTS:16384,TNS_EXEC_OPTION_NOT_PLSQL:32768,TNS_EXEC_OPTION_IMPLICIT_RESULTSET:32768,TNS_EXEC_OPTION_DESCRIBE:131072,TNS_EXEC_OPTION_NO_COMPRESSED_FETCH:262144,TNS_EXEC_OPTION_BATCH_ERRORS:524288,TNS_SERVER_PIGGYBACK_QUERY_CACHE_INVALIDATION:1,TNS_SERVER_PIGGYBACK_OS_PID_MTS:2,TNS_SERVER_PIGGYBACK_TRACE_EVENT:3,TNS_SERVER_PIGGYBACK_SESS_RET:4,TNS_SERVER_PIGGYBACK_SYNC:5,TNS_SERVER_PIGGYBACK_LTXID:7,TNS_SERVER_PIGGYBACK_AC_REPLAY_CONTEXT:8,TNS_SERVER_PIGGYBACK_EXT_SYNC:9,TNS_SESSGET_SESSION_CHANGED:4,TNS_LOB_OP_GET_LENGTH:1,TNS_LOB_OP_READ:2,TNS_LOB_OP_TRIM:32,TNS_LOB_OP_WRITE:64,TNS_LOB_OP_GET_CHUNK_SIZE:16384,TNS_LOB_OP_CREATE_TEMP:272,TNS_LOB_OP_FREE_TEMP:273,TNS_LOB_OP_OPEN:32768,TNS_LOB_OP_CLOSE:65536,TNS_LOB_OP_IS_OPEN:69632,TNS_LOB_OP_ARRAY:524288,TNS_LOB_LOC_OFFSET_FLAG_1:4,TNS_LOB_LOC_OFFSET_FLAG_3:6,TNS_LOB_LOC_OFFSET_FLAG_4:7,TNS_LOB_QLOCATOR_VERSION:4,TNS_LOB_LOC_FLAGS_BLOB:1,TNS_LOB_LOC_FLAGS_VALUE_BASED:32,TNS_LOB_LOC_FLAGS_ABSTRACT:64,TNS_LOB_LOC_FLAGS_INIT:8,TNS_LOB_LOC_FLAGS_TEMP:1,TNS_LOB_LOC_FLAGS_VAR_LENGTH_CHARSET:128,TNS_LOB_OPEN_READ_WRITE:2,TNS_LOB_PREFETCH_FLAG:33554432,TNS_JSON_MAX_LENGTH:32*1024*1024,TNS_JSON_MAGIC_BYTE_1:255,TNS_JSON_MAGIC_BYTE_2:74,TNS_JSON_MAGIC_BYTE_3:90,TNS_JSON_VERSION:1,TNS_JSON_FLAG_HASH_ID_UINT8:256,TNS_JSON_FLAG_HASH_ID_UINT16:512,TNS_JSON_FLAG_NUM_FNAMES_UINT16:1024,TNS_JSON_FLAG_FNAMES_SEG_UINT32:2048,TNS_JSON_FLAG_TINY_NODES_STAT:8192,TNS_JSON_FLAG_TREE_SEG_UINT32:4096,TNS_JSON_FLAG_REL_OFFSET_MODE:1,TNS_JSON_FLAG_INLINE_LEAF:2,TNS_JSON_FLAG_LEN_IN_PCODE:4,TNS_JSON_FLAG_NUM_FNAMES_UINT32:8,TNS_JSON_FLAG_IS_SCALAR:16,TNS_JSON_TYPE_NULL:48,TNS_JSON_TYPE_TRUE:49,TNS_JSON_TYPE_FALSE:50,TNS_JSON_TYPE_STRING_LENGTH_UINT8:51,TNS_JSON_TYPE_NUMBER_LENGTH_UINT8:52,TNS_JSON_TYPE_BINARY_DOUBLE:54,TNS_JSON_TYPE_STRING_LENGTH_UINT16:55,TNS_JSON_TYPE_STRING_LENGTH_UINT32:56,TNS_JSON_TYPE_TIMESTAMP:57,TNS_JSON_TYPE_BINARY_LENGTH_UINT16:58,TNS_JSON_TYPE_BINARY_LENGTH_UINT32:59,TNS_JSON_TYPE_DATE:60,TNS_JSON_TYPE_INTERVAL_YM:61,TNS_JSON_TYPE_INTERVAL_DS:62,TNS_JSON_TYPE_TIMESTAMP_TZ:124,TNS_JSON_TYPE_TIMESTAMP7:125,TNS_JSON_TYPE_BINARY_FLOAT:127,TNS_JSON_TYPE_OBJECT:132,TNS_JSON_TYPE_ARRAY:192,TNS_END_TO_END_ACTION:16,TNS_END_TO_END_CLIENT_IDENTIFIER:1,TNS_END_TO_END_CLIENT_INFO:256,TNS_END_TO_END_DBOP:512,TNS_END_TO_END_MODULE:8,TNS_VERSION_DESIRED:316,TNS_VERSION_MINIMUM:300,TNS_VERSION_MIN_ACCEPTED:315,TNS_VERSION_MIN_LARGE_SDU:315,TNS_SERVICE_OPTIONS:3073,TNS_PROTOCOL_CHARACTERISTICS:20376,TNS_CONNECT_FLAGS:32896,TNS_CAN_RECV_ATTENTION:1024,TNS_CHECK_OOB:1,TNS_FUNC_AUTH_PHASE_ONE:118,TNS_FUNC_AUTH_PHASE_TWO:115,TNS_FUNC_CLOSE_CURSORS:105,TNS_FUNC_COMMIT:14,TNS_FUNC_EXECUTE:94,TNS_FUNC_FETCH:5,TNS_FUNC_LOB_OP:96,TNS_FUNC_LOGOFF:9,TNS_FUNC_PING:147,TNS_FUNC_ROLLBACK:15,TNS_FUNC_SET_END_TO_END_ATTR:135,TNS_FUNC_REEXECUTE:4,TNS_FUNC_REEXECUTE_AND_FETCH:78,TNS_FUNC_SET_SCHEMA:152,TNS_FUNC_SESSION_GET:162,TNS_FUNC_SESSION_RELEASE:163,TNS_FUNC_SESSION_STATE:176,TNS_FUNC_CANCEL_ALL:120,TNS_CHARSET_UTF8:873,TNS_CHARSET_UTF16:2e3,TNS_ENCODING_UTF8:"UTF-8",TNS_ENCODING_UTF16:"UTF-16LE",TNS_ENCODING_MULTI_BYTE:1,TNS_ENCODING_CONV_LENGTH:2,TNS_CCAP_SQL_VERSION:0,TNS_CCAP_LOGON_TYPES:4,TNS_CCAP_FIELD_VERSION:7,TNS_CCAP_SERVER_DEFINE_CONV:8,TNS_CCAP_TTC1:15,TNS_CCAP_OCI1:16,TNS_CCAP_TDS_VERSION:17,TNS_CCAP_RPC_VERSION:18,TNS_CCAP_RPC_SIG:19,TNS_CCAP_DBF_VERSION:21,TNS_CCAP_LOB:23,TNS_CCAP_TTC2:26,TNS_CCAP_UB2_DTY:27,TNS_CCAP_OCI2:31,TNS_CCAP_CLIENT_FN:34,TNS_CCAP_TTC3:37,TNS_CCAP_TTC4:40,TNS_CCAP_LOB2:42,TNS_CCAP_MAX:45,TNS_CCAP_SQL_VERSION_MAX:6,TNS_CCAP_FIELD_VERSION_11_2:6,TNS_CCAP_FIELD_VERSION_12_1:7,TNS_CCAP_FIELD_VERSION_12_2:8,TNS_CCAP_FIELD_VERSION_12_2_EXT1:9,TNS_CCAP_FIELD_VERSION_18_1:10,TNS_CCAP_FIELD_VERSION_18_1_EXT_1:11,TNS_CCAP_FIELD_VERSION_19_1:12,TNS_CCAP_FIELD_VERSION_19_1_EXT_1:13,TNS_CCAP_FIELD_VERSION_20_1:14,TNS_CCAP_FIELD_VERSION_20_1_EXT_1:15,TNS_CCAP_FIELD_VERSION_21_1:16,TNS_CCAP_FIELD_VERSION_23_1:17,TNS_CCAP_FIELD_VERSION_23_1_EXT_1:18,TNS_CCAP_FIELD_VERSION_MAX:18,TNS_CCAP_O5LOGON:8,TNS_CCAP_O5LOGON_NP:2,TNS_CCAP_O7LOGON:32,TNS_CCAP_O8LOGON_LONG_IDENTIFIER:64,TNS_CCAP_O9LOGON_LONG_PASSWORD:128,TNS_CCAP_END_OF_CALL_STATUS:1,TNS_CCAP_IND_RCD:8,TNS_CCAP_FAST_BVEC:32,TNS_CCAP_FAST_SESSION_PROPAGATE:16,TNS_CCAP_APP_CTX_PIGGYBACK:128,TNS_CCAP_TDS_VERSION_MAX:3,TNS_CCAP_RPC_VERSION_MAX:7,TNS_CCAP_RPC_SIG_VALUE:3,TNS_CCAP_DBF_VERSION_MAX:1,TNS_CCAP_IMPLICIT_RESULTS:16,TNS_CCAP_BIG_CHUNK_CLR:32,TNS_CCAP_KEEP_OUT_ORDER:128,TNS_CCAP_LOB_UB8_SIZE:1,TNS_CCAP_LOB_ENCS:2,TNS_CCAP_LOB_PREFETCH:64,TNS_CCAP_DRCP:16,TNS_CCAP_ZLNP:4,TNS_CCAP_INBAND_NOTIFICATION:4,TNS_CCAP_CLIENT_FN_MAX:12,TNS_CCAP_LOB2_QUASI:1,TNS_CCAP_LOB2_2GB_PREFETCH:4,TNS_RCAP_COMPAT:0,TNS_RCAP_TTC:6,TNS_RCAP_MAX:7,TNS_RCAP_COMPAT_81:2,TNS_RCAP_TTC_ZERO_COPY:1,TNS_RCAP_TTC_32K:4,TNS_VERIFIER_TYPE_11G_1:45394,TNS_VERIFIER_TYPE_11G_2:6949,TNS_VERIFIER_TYPE_12C:18453,TNS_MAX_SHORT_LENGTH:252,TNS_ESCAPE_CHAR:253,TNS_LONG_LENGTH_INDICATOR:254,TNS_NULL_LENGTH_INDICATOR:255,TNS_MAX_ROWID_LENGTH:18,TNS_DURATION_MID:2147483648,TNS_DURATION_OFFSET:60,TNS_DURATION_SESSION:10,TNS_MAX_LONG_LENGTH:2147483647,TNS_SDU:8192,TNS_TDU:65535,TNS_TXN_IN_PROGRESS:2,TNS_MAX_CONNECT_DATA:230,TNS_CHUNK_SIZE:32767,TNS_MAX_UROWID_LENGTH:3950,TNS_HAS_REGION_ID:128,TZ_HOUR_OFFSET:20,TZ_MINUTE_OFFSET:60,DRCP_DEAUTHENTICATE:2,TNS_OBJ_IS_VERSION_81:128,TNS_OBJ_IS_DEGENERATE:16,TNS_OBJ_IS_COLLECTION:8,TNS_OBJ_NO_PREFIX_SEG:4,TNS_OBJ_IMAGE_VERSION:1,TNS_OBJ_MAX_SHORT_LENGTH:245,TNS_OBJ_ATOMIC_NULL:253,TNS_OBJ_NON_NULL_OID:2,TNS_OBJ_HAS_EXTENT_OID:8,TNS_OBJ_TOP_LEVEL:1,TNS_OBJ_HAS_INDEXES:16,TNS_OBJ_PLSQL_INDEX_TABLE:1,TNS_OBJ_NESTED_TABLE:2,TNS_OBJ_VARRAY:3,TNS_OBJ_TDS_TYPE_CHAR:1,TNS_OBJ_TDS_TYPE_DATE:2,TNS_OBJ_TDS_TYPE_FLOAT:5,TNS_OBJ_TDS_TYPE_NUMBER:6,TNS_OBJ_TDS_TYPE_VARCHAR:7,TNS_OBJ_TDS_TYPE_BOOLEAN:8,TNS_OBJ_TDS_TYPE_RAW:19,TNS_OBJ_TDS_TYPE_TIMESTAMP:21,TNS_OBJ_TDS_TYPE_TIMESTAMP_TZ:23,TNS_OBJ_TDS_TYPE_OBJ:27,TNS_OBJ_TDS_TYPE_COLL:28,TNS_OBJ_TDS_TYPE_CLOB:29,TNS_OBJ_TDS_TYPE_BLOB:30,TNS_OBJ_TDS_TYPE_TIMESTAMP_LTZ:33,TNS_OBJ_TDS_TYPE_BINARY_FLOAT:37,TNS_OBJ_TDS_TYPE_BINARY_DOUBLE:45,TNS_XML_TYPE_LOB:1,TNS_XML_TYPE_STRING:4,TNS_XML_TYPE_FLAG_SKIP_NEXT_4:1048576,TNS_ERR_VAR_NOT_IN_SELECT_LIST:1007,TNS_ERR_INBAND_MESSAGE:12573,TNS_ERR_INVALID_SERVICE_NAME:12514,TNS_ERR_INVALID_SID:12505,TNS_ERR_NO_DATA_FOUND:1403,TNS_ERR_SESSION_SHUTDOWN:12572,PACKET_HEADER_SIZE:8,NUMBER_AS_TEXT_CHARS:172,NUMBER_MAX_DIGITS:40,BUFFER_CHUNK_SIZE:65536,CHUNKED_BYTES_CHUNK_SIZE:65536,TNS_BASE64_ALPHABET_ARRAY:jd.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),TNS_EXTENT_OID:jd.from("00000000000000000000000000010001","hex")}});var Pi=b((XV,eP)=>{"use strict";var{Buffer:di}=require("buffer"),$d=ze(),Hw=require("crypto"),ul=class ul extends Error{};c(ul,"OutOfPacketsError");var ll=ul;function c_(i,e,t,n){for(let o=0;o<t;o++)i[n+t-o-1]=$d.TNS_BASE64_ALPHABET_ARRAY[e&63],e=e>>6;return n+t}c(c_,"_convertBase64");function qw(i){let e=0;if(i.rba!==0||i.partitionID!==0||i.blockNum!==0||i.slotNum!=0){let t=di.alloc($d.TNS_MAX_ROWID_LENGTH);return e=c_(t,i.rba,6,e),e=c_(t,i.partitionID,3,e),e=c_(t,i.blockNum,6,e),c_(t,i.slotNum,3,e),t.toString("utf8")}}c(qw,"encodeRowID");function Kw(i){let e=Hw.randomBytes(di.byteLength(i)),t=di.from(i,"utf8"),n=di.byteLength(i),o=[];for(let T=0;T<n;T++)o.push(e[T]^t[T]);return t.fill(0),{obfuscatedValue:e,value:o}}c(Kw,"setObfuscatedValue");function Ww(i,e){let t=[];for(let T=0;T<i.length;T++)t.push(i[T]^e[T]);let n=di.from(t);t.fill(0);let o=n.toString();return n.fill(0),o}c(Ww,"getDeobfuscatedValue");eP.exports={encodeRowID:qw,getDeobfuscatedValue:Ww,OutOfPacketsError:ll,setObfuscatedValue:Kw}});var Lr=b((JV,tP)=>{"use strict";var{Buffer:El}=require("buffer"),Se=ze(),l_=Z(),fl=class fl{constructor(){this.num=0,this.cursorId=0,this.pos=0,this.rowCount=0,this.message="",this.rowID=null,this.batchErrors}};c(fl,"OracleErrorInfo");var hl=fl,Al=class Al{constructor(e,t="",n="",o=!1,T=!1,l=0,E=0){this.num=e,this.message=t,this.context=n,this.isRecoverable=o,this.isWarning=T,this.code=l,this.offset=E}};c(Al,"Error");var Nl=Al,dl=class dl{constructor(e){this.errorInfo=new hl,this.connection=e,this.messageType=Se.TNS_MSG_TYPE_FUNCTION,this.functionCode=0,this.callStatus=0,this.flushOutBinds=!1,this.endToEndSeqNum=0,this.errorOccurred=!1,this.isWarning=!1,this.flushOutBinds=!1,this.processedError=!1}preProcess(){}async postProcess(){}writeFunctionHeader(e){e.writeUInt8(this.messageType),e.writeUInt8(this.functionCode),e.writeSeqNum(),e.caps.ttcFieldVersion>=Se.TNS_CCAP_FIELD_VERSION_23_1_EXT_1&&e.writeUB8(0)}processErrorInfo(e){this.callStatus=e.readUB4(),e.skipUB2(),e.skipUB4(),e.skipUB2(),e.skipUB2(),e.skipUB2(),this.errorInfo.cursorId=e.readUB2(),this.errorInfo.pos=e.readUB2(),e.skipUB1(),e.skipUB1(),e.skipUB2(),e.skipUB2(),e.skipUB1(),e.skipUB1(),this.errorInfo.rowID=e.readRowID(),e.skipUB4(),e.skipUB1(),e.skipUB1(),e.skipUB2(),e.skipUB4(),e.readUB4()>0&&e.skipBytesChunked();let n=e.readUB2();if(n>0){this.errorInfo.batchErrors=[];let o=e.readUInt8();for(let T=0;T<n;T++){o===Se.TNS_LONG_LENGTH_INDICATOR&&e.skipUB4();let l=e.readUB2();this.errorInfo.batchErrors.push(new Nl(l))}o===Se.TNS_LONG_LENGTH_INDICATOR&&e.skipBytes(1)}if(n=e.readUB2(),n>0){let o=e.readUInt8();for(let T=0;T<n;T++)o===Se.TNS_LONG_LENGTH_INDICATOR&&e.skipUB4(),this.errorInfo.batchErrors[T].offset=e.readUB4();o===Se.TNS_LONG_LENGTH_INDICATOR&&e.skipBytes(1)}if(n=e.readUB2(),n>0){e.skipBytes(1);for(let o=0;o<n;o++)e.skipUB2(),this.errorInfo.batchErrors[o].message=e.readStr(Se.CSFRM_IMPLICIT),e.skipBytes(2)}this.errorInfo.num=e.readUB4(),this.errorInfo.rowCount=e.readUB8(),this.errorInfo.num!==0&&(this.errorOccurred=!0,this.errorInfo.message=e.readStr(Se.CSFRM_IMPLICIT),this.errorInfo.message=this.errorInfo.message.replace(/\n+$/,"")),this.errorInfo.isWarning=!1,this.processedError=!0}processReturnParameter(){}processWarningInfo(e){this.errorInfo.num=e.readUB2();let t=e.readUB2();e.skipUB2(),this.errorInfo.num!=0&&t>0&&(this.errorInfo.message=e.readStr(Se.CSFRM_IMPLICIT)),this.errorInfo.isWarning=!0}hasMoreData(e){return e.numBytesLeft()>0&&!this.flushOutBinds}decode(e){this.process(e)}process(e){this.flushOutBinds=!1,this.processedError=!1;do{this.savePoint(e);let t=e.readUInt8();this.processMessage(e,t)}while(this.hasMoreData(e))}savePoint(e){e.savePoint()}processMessage(e,t){t===Se.TNS_MSG_TYPE_ERROR?this.processErrorInfo(e):t===Se.TNS_MSG_TYPE_WARNING?this.processWarningInfo(e):t===Se.TNS_MSG_TYPE_STATUS?(this.callStatus=e.readUB4(),this.endToEndSeqNum=e.readUB2()):t===Se.TNS_MSG_TYPE_PARAMETER?this.processReturnParameter(e):t===Se.TNS_MSG_TYPE_SERVER_SIDE_PIGGYBACK?this.processServerSidePiggyBack(e):l_.throwErr(l_.ERR_UNEXPECTED_MESSAGE_TYPE,t,e.pos,e.packetNum)}processServerSidePiggyBack(e){let t=e.readUInt8();if(t===Se.TNS_SERVER_PIGGYBACK_LTXID){let n=e.readUB4();n>0&&e.skipBytes(n)}else if(!(t===Se.TNS_SERVER_PIGGYBACK_QUERY_CACHE_INVALIDATION||t===Se.TNS_SERVER_PIGGYBACK_TRACE_EVENT))if(t===Se.TNS_SERVER_PIGGYBACK_OS_PID_MTS)e.skipUB2(),e.skipBytesChunked();else if(t===Se.TNS_SERVER_PIGGYBACK_SYNC){e.skipUB2(),e.skipUB1();let n=e.readUB2();e.skipBytes(1);for(let o=0;o<n;o++){let T=e.readUB2();T>0&&e.skipBytesChunked(),T=e.readUB2(),T>0&&e.skipBytesChunked(),e.skipUB2(),e.skipUB4()}}else if(t===Se.TNS_SERVER_PIGGYBACK_EXT_SYNC)e.skipUB2(),e.skipUB1();else if(t===Se.TNS_SERVER_PIGGYBACK_AC_REPLAY_CONTEXT){e.skipUB2(),e.skipUB1(1),e.skipUB4(),e.skipUB4(),e.skipUB1();let n=e.readUB4();n>0&&e.skipBytes(n)}else if(t===Se.TNS_SERVER_PIGGYBACK_SESS_RET){e.skipUB2(),e.skipUB1();let n=e.readUB2();if(n>0){e.skipUB1();for(let T=0;T<n;++T){let l=e.readUB2();l>0&&e.skipBytesChunked(),l=e.readUB2(),l>0&&e.skipBytesChunked(),e.skipUB2()}}e.readUB4()&Se.TNS_SESSGET_SESSION_CHANGED&&this.connection._drcpEstablishSession&&this.connection.resetStatmentCache(),this.connection._drcpEstablishSession=!1,e.skipUB4(),e.skipUB2()}else l_.throwErr(l_.ERR_UNKOWN_SERVER_SIDE_PIGGYBACK,t)}writePiggybacks(e){this.connection._currentSchemaModified&&this._writeCurrentSchemaPiggyback(e),this.connection._cursorsToClose.size>0&&!this.connection._drcpEstablishSession&&this.writeCloseCursorsPiggyBack(e),(this.connection._actionModified||this.connection._clientIdentifierModified||this.connection._dbopModified||this.connection._clientInfoModified||this.connection._moduleModified)&&this._writeEndToEndPiggybacks(e),this.connection._tempLobsTotalSize>0&&this.writeCloseTempLobsPiggyback(e)}writePiggybackHeader(e,t){e.writeUInt8(Se.TNS_MSG_TYPE_PIGGYBACK),e.writeUInt8(t),e.writeSeqNum(),e.caps.ttcFieldVersion>=Se.TNS_CCAP_FIELD_VERSION_23_1_EXT_1&&e.writeUB8(0)}writeCloseCursorsPiggyBack(e){this.writePiggybackHeader(e,Se.TNS_FUNC_CLOSE_CURSORS),e.writeUInt8(1),e.writeUB4(this.connection._cursorsToClose.size);for(let t of this.connection._cursorsToClose.keys())e.writeUB4(t);this.connection._cursorsToClose.clear()}writeCloseTempLobsPiggyback(e){let t=this.connection._tempLobsToClose,n=Se.TNS_LOB_OP_FREE_TEMP|Se.TNS_LOB_OP_ARRAY;this.writePiggybackHeader(e,Se.TNS_FUNC_LOB_OP),e.writeUInt8(1),e.writeUB4(this.connection._tempLobsTotalSize),e.writeUInt8(0),e.writeUB4(0),e.writeUB4(0),e.writeUB4(0),e.writeUInt8(0),e.writeUInt8(0),e.writeUInt8(0),e.writeUB4(n),e.writeUInt8(0),e.writeUB4(0),e.writeUB8(0),e.writeUB8(0),e.writeUInt8(0),e.writeUInt8(0),e.writeUB4(0),e.writeUInt8(0),e.writeUB4(0),e.writeUInt8(0),e.writeUB4(0);for(let o of t)e.writeBytes(o);this.connection._tempLobsToClose=[],this.connection._tempLobsTotalSize=0}_writeCurrentSchemaPiggyback(e){this.writePiggybackHeader(e,Se.TNS_FUNC_SET_SCHEMA),e.writeUInt8(1);let t=El.byteLength(this.connection.currentSchema);e.writeUB4(t),e.writeBytesWithLength(El.from(this.connection.currentSchema))}_writeEndToEndPiggybacks(e){let t=0;this.connection._actionModified&&(t|=Se.TNS_END_TO_END_ACTION),this.connection._clientIdentifierModified&&(t|=Se.TNS_END_TO_END_CLIENT_IDENTIFIER),this.connection._clientInfoModified&&(t|=Se.TNS_END_TO_END_CLIENT_INFO),this.connection._moduleModified&&(t|=Se.TNS_END_TO_END_MODULE),this.connection._dbOpModified&&(t|=Se.TNS_END_TO_END_DBOP),this.writePiggybackHeader(e,Se.TNS_FUNC_SET_END_TO_END_ATTR),e.writeUInt8(0),e.writeUInt8(0),e.writeUB4(t);let n=this.writeEndEndTraceValue(e,this.connection._clientIdentifier,this.connection._clientIdentifierModified),o=this.writeEndEndTraceValue(e,this.connection._module,this.connection._moduleModified),T=this.writeEndEndTraceValue(e,this.connection._action,this.connection._actionModified);e.writeUInt8(0),e.writeUB4(0),e.writeUInt8(0),e.writeUB4(0);let l=this.writeEndEndTraceValue(e,this.connection._clientInfo,this.connection._clientInfoModified);e.writeUInt8(0),e.writeUB4(0),e.writeUInt8(0),e.writeUB4(0);let E=this.writeEndEndTraceValue(e,this.connection._dbOp,this.connection._dbOpModified);this.connection._clientIdentifierModified&&this.connection._clientIdentifier&&e.writeBytesWithLength(n),this.connection._moduleModified&&this.connection._module&&e.writeBytesWithLength(o),this.connection._actionModified&&this.connection._action&&e.writeBytesWithLength(T),this.connection._clientInfoModified&&this.connection._clientInfo&&e.writeBytesWithLength(l),this.connection._dbOpModified&&this.connection._dbOp&&e.writeBytesWithLength(E),this.connection._actionModified=!1,this.connection._action="",this.connection._clientIdentifierModified=!1,this.connection._clientIdentifier="",this.connection._clientInfoModified=!1,this.connection._clientInfo="",this.connection._dbOpModified=!1,this.connection._dbOp="",this.connection._moduleModified=!1,this.connection._module=""}writeEndEndTraceValue(e,t,n){let o;return n?(e.writeUInt8(1),t?(o=El.from(t),e.writeUB4(o.length)):e.writeUB4(0)):(e.writeUInt8(0),e.writeUB4(0)),o}};c(dl,"Message");var Sl=dl;tP.exports=Sl});var pi=b((ZV,sP)=>{"use strict";var{Buffer:br}=require("buffer"),pt=ze(),fr=Z(),zw=Sr(),rP=qt(),pl=class pl{constructor(e){typeof e=="number"?(this.buf=br.alloc(e),this.size=0,this.maxSize=e):(this.buf=e,this.size=this.maxSize=e.length),this.pos=0}_grow(e){fr.throwErr(fr.ERR_BUFFER_LENGTH_INSUFFICIENT,this.numBytesLeft(),e)}_readBytesWithLength(e){return this.readBytes(e)}_readInteger(e,t,n){let o=!1,T=this.readUInt8();if(T===0)return 0;if(T&128&&(t||fr.throwErr(fr.ERR_UNEXPECTED_NEGATIVE_INTEGER,this.pos,this.packetNum),o=!0,T=T&127),T>e&&fr.throwErr(fr.ERR_INTEGER_TOO_LARGE,T,e,this.pos,this.packetNum),n)this.skipBytes(T);else{let E=this.readBytes(T).readUIntBE(0,T);return o?-E:E}}numBytesLeft(){return this.size-this.pos}parseBinaryDouble(e){return e=br.from(e),e[0]&128?e[0]&=127:(e[0]^=255,e[1]^=255,e[2]^=255,e[3]^=255,e[4]^=255,e[5]^=255,e[6]^=255,e[7]^=255),e.readDoubleBE()}parseBinaryFloat(e){return e=br.from(e),e[0]&128?e[0]&=127:(e[0]^=255,e[1]^=255,e[2]^=255,e[3]^=255),e.readFloatBE()}parseOracleDate(e,t=!0){let n=0;e.length>=11&&(n=Math.floor(e.readUInt32BE(7)/(1e3*1e3)));let o=(e[0]-100)*100+e[1]-100;return zw._makeDate(t,o,e[2],e[3],e[4]-1,e[5]-1,e[6]-1,n,0)}parseOracleNumber(e){let t=e[0],n=!!(t&128);n||(t=t^255),t-=193;let o=t*2+2;if(e.length===1)return n?"0":"-1e126";let T=e.length;!n&&e[e.length-1]===102&&(T-=1);let l,E=[];for(let R=1;R<T;R++){n?l=e[R]-1:l=101-e[R];let d=Math.floor(l/10);d===0&&R===1?o-=1:d===10?(E.push("1"),E.push("0"),o+=1):(d!==0||R>1)&&E.push(d.toString()),d=l%10,(d!==0||R<T-1)&&E.push(d.toString())}let S=[];n||S.push("-"),o<=0&&(S.push("."),o<0&&S.push("0".repeat(-o)));for(let R=0;R<E.length;R++)R>0&&R===o&&S.push("."),S.push(E[R]);if(o>E.length)for(let R=E.length;R<o;R++)S.push("0");return S.join("")}readBinaryDouble(){let e=this.readBytesWithLength();return e?this.parseBinaryDouble(e):null}readBinaryFloat(){let e=this.readBytesWithLength();return e?this.parseBinaryFloat(e):null}readBool(){let e=this.readBytesWithLength();return e?e[e.length-1]===1:null}readBytes(e){let t=this.numBytesLeft();e>t&&fr.throwErr(fr.ERR_UNEXPECTED_END_OF_DATA,e,t);let n=this.buf.subarray(this.pos,this.pos+e);return this.pos+=e,n}readBytesWithLength(){let e=this.readUInt8();return e===0||e===pt.TNS_NULL_LENGTH_INDICATOR?null:this._readBytesWithLength(e)}readDbObject(){let e={},t=this.readUB4();return t>0&&(e.toid=br.from(this.readBytesWithLength())),t=this.readUB4(),t>0&&(e.oid=br.from(this.readBytesWithLength())),t=this.readUB4(),t>0&&(e.snapshot=br.from(this.readBytesWithLength())),this.skipUB2(),t=this.readUB4(),this.skipUB2(),t>0&&(e.packedData=br.from(this.readBytesWithLength())),e}readInt8(){return this.readBytes(1).readInt8()}readOracleDate(e){let t=this.readBytesWithLength();return t?this.parseOracleDate(t,e):null}readOracleNumber(){let e=this.readBytesWithLength();return e?this.parseOracleNumber(e):null}readSB2(){return this._readInteger(2,!0,!1)}readSB4(){return this._readInteger(4,!0,!1)}readSB8(){return this._readInteger(8,!0,!1)}readStr(e){let t=this.readBytesWithLength();return t?e===pt.CSFRM_IMPLICIT?t.toString():br.from(t).swap16().toString("utf16le"):null}readUB2(){return this._readInteger(2,!1,!1)}readUB4(){return this._readInteger(4,!1,!1)}readUB8(){return this._readInteger(8,!1,!1)}readUInt8(){return this.readBytes(1)[0]}readUInt16BE(){return this.readBytes(2).readUInt16BE()}readUInt16LE(){return this.readBytes(2).readUInt16LE()}readUInt32BE(){return this.readBytes(4).readUInt32BE()}reserveBytes(e){e>this.numBytesLeft()&&this._grow(this.pos+e);let t=this.buf.subarray(this.pos,this.pos+e);return this.pos+=e,t}skipBytes(e){e>this.numBytesLeft()&&fr.throwErr(fr.ERR_UNEXPECTED_END_OF_DATA),this.pos+=e}skipSB4(){return this._readInteger(4,!0,!0)}skipUB1(){this.skipBytes(1)}skipUB2(){return this._readInteger(2,!1,!0)}skipUB4(){return this._readInteger(4,!1,!0)}skipUB8(){return this._readInteger(8,!1,!0)}writeBinaryDouble(e){this.writeUInt8(8);let t=this.reserveBytes(8);t.writeDoubleBE(e),t[0]&128?(t[0]^=255,t[1]^=255,t[2]^=255,t[3]^=255,t[4]^=255,t[5]^=255,t[6]^=255,t[7]^=255):t[0]|=128}writeBinaryFloat(e){this.writeUInt8(4);let t=this.reserveBytes(4);t.writeFloatBE(e),t[0]&128?(t[0]^=255,t[1]^=255,t[2]^=255,t[3]^=255):t[0]|=128}writeBytes(e){let t=0,n=e.length;for(;n>0;){let o=this.numBytesLeft();o===0&&this._grow(this.pos+n);let T=Math.min(o,n);e.copy(this.buf,this.pos,t,t+T),this.pos+=T,t+=T,n-=T}}writeBytesWithLength(e){let t=e.length;if(t<=pt.TNS_MAX_SHORT_LENGTH)this.writeUInt8(t),t>0&&this.writeBytes(e);else{let n=0;for(this.writeUInt8(pt.TNS_LONG_LENGTH_INDICATOR);t>0;){let o=Math.min(t,pt.BUFFER_CHUNK_SIZE);this.writeUB4(o),this.writeBytes(e.subarray(n,n+o)),t-=o,n+=o}this.writeUB4(0)}}writeDbObject(e){this.writeUB4(e.toid.length),this.writeBytesWithLength(e.toid),e.oid?(this.writeUB4(e.oid.length),this.writeBytesWithLength(e.oid)):this.writeUB4(0),this.writeUB4(0),this.writeUB4(0);let t=e._getPackedData();this.writeUB4(t.length),this.writeUB4(e.flags),this.writeBytesWithLength(t)}writeOracleDate(e,t,n=!0){let o,T=t._bufferSizeFactor;T>7&&(o=e.getUTCMilliseconds()*1e3*1e3,o===0&&T<=11&&(T=7)),n&&this.writeUInt8(T);let l=this.reserveBytes(T);if(t===rP.DB_TYPE_DATE||t==rP.DB_TYPE_TIMESTAMP){let E=e.getFullYear();l[0]=Math.trunc(E/100)+100,l[1]=E%100+100,l[2]=e.getMonth()+1,l[3]=e.getDate(),l[4]=e.getHours()+1,l[5]=e.getMinutes()+1,l[6]=e.getSeconds()+1}else{let E=e.getUTCFullYear();l[0]=Math.trunc(E/100)+100,l[1]=E%100+100,l[2]=e.getUTCMonth()+1,l[3]=e.getUTCDate(),l[4]=e.getUTCHours()+1,l[5]=e.getUTCMinutes()+1,l[6]=e.getUTCSeconds()+1}T>7&&(l.writeInt32BE(o,7),T>11&&(l[11]=pt.TZ_HOUR_OFFSET,l[12]=pt.TZ_MINUTE_OFFSET))}writeOracleNumber(e){let t=!1;e[0]==="-"&&(t=!0,e=e.substring(1));let n=0,o=e.indexOf("e");o>0&&(n=Number(e.substring(o+1)),e=e.substring(0,o));let T=e.indexOf(".");if(T>0&&(n-=e.length-T-1,e=e.substring(0,T)+e.substring(T+1)),e[0]==="0"&&(e=e.replace(/^0+/,"")),e.length>0&&e[e.length-1]==="0"){let d=e.replace(/0+$/,"");n+=e.length-d.length,e=d}(e.length>pt.NUMBER_MAX_DIGITS||n>126||n<-129)&&fr.throwErr(fr.ERR_ORACLE_NUMBER_NO_REPR),(n>0&&n%2===1||n<0&&n%2===-1)&&(n--,e+="0"),e.length%2===1&&(e="0"+e);let l=t&&e.length<pt.NUMBER_MAX_DIGITS,E=e.length/2,S=(n+e.length)/2+192;t?S=S^255:e.length===0&&n===0&&(S=128);let R=this.reserveBytes(E+2+l);R[0]=E+1+l,R[1]=S;for(let d=0,L=2;d<e.length;d+=2,L++){let w=Number(e.substring(d,d+2));t?R[L]=101-w:R[L]=w+1}l&&(R[R.length-1]=102)}writeQLocator(e){this.writeUB4(40),this.writeUInt8(40),this.writeUInt16BE(38),this.writeUInt16BE(pt.TNS_LOB_QLOCATOR_VERSION),this.writeUInt8(pt.TNS_LOB_LOC_FLAGS_VALUE_BASED|pt.TNS_LOB_LOC_FLAGS_BLOB|pt.TNS_LOB_LOC_FLAGS_ABSTRACT),this.writeUInt8(pt.TNS_LOB_LOC_FLAGS_INIT),this.writeUInt16BE(0),this.writeUInt16BE(1),this.writeUInt64BE(e),this.writeUInt16BE(0),this.writeUInt16BE(0),this.writeUInt16BE(0),this.writeUInt64BE(0),this.writeUInt64BE(0)}writeStr(e){this.writeBytes(br.from(e))}writeInt32BE(e){this.reserveBytes(4).writeInt32BE(e)}writeUB4(e){e===0?this.writeUInt8(0):e<=255?(this.writeUInt8(1),this.writeUInt8(e)):e<=65535?(this.writeUInt8(2),this.writeUInt16BE(e)):(this.writeUInt8(4),this.writeUInt32BE(e))}writeUB8(e){e===0?this.writeUInt8(0):e<=255?(this.writeUInt8(1),this.writeUInt8(e)):e<=65535?(this.writeUInt8(2),this.writeUInt16BE(e)):e<=4294967295?(this.writeUInt8(4),this.writeUInt32BE(e)):(this.writeUInt8(8),this.writeUInt64BE(e))}writeUInt8(e){let t=this.reserveBytes(1);t[0]=e}writeUInt16BE(e){this.reserveBytes(2).writeUInt16BE(e)}writeUInt32BE(e){this.reserveBytes(4).writeUInt32BE(e)}writeUInt64BE(e){let t=this.reserveBytes(8);t.writeUInt32BE(0),t.writeUInt32BE(e,4)}writeUInt16LE(e){this.reserveBytes(2).writeUInt16LE(e)}};c(pl,"BaseBuffer");var u_=pl,Rl=class Rl extends u_{constructor(e){e?super(e):(super(pt.BUFFER_CHUNK_SIZE),this.size=this.maxSize)}_grow(e){let t=e%pt.BUFFER_CHUNK_SIZE;t>0&&(e+=pt.BUFFER_CHUNK_SIZE-t);let n=br.alloc(e);this.buf.copy(n),this.buf=n,this.maxSize=this.size=e}};c(Rl,"GrowableBuffer");var Pl=Rl;sP.exports={BaseBuffer:u_,GrowableBuffer:Pl}});var Dl=b((ex,nP)=>{"use strict";var{Buffer:Yn}=require("buffer"),Ve=ze(),Ar=Z(),ge=qt(),Xw=Wo(),{GrowableBuffer:Qw}=pi(),Il=class Il extends Qw{_readBytesWithLength(e){return e===Ve.TNS_LONG_LENGTH_INDICATOR&&(e=this.readUInt32BE()),this.readBytes(e)}getIsAtomicNull(){let e=this.readUInt8();return e===Ve.TNS_OBJ_ATOMIC_NULL||e===Ve.TNS_NULL_LENGTH_INDICATOR?!0:(this.pos-=1,!1)}readHeader(e){if(e.imageFlags=this.readUInt8(),e.imageVersion=this.readUInt8(),this.readLength(),!(e.imageFlags&Ve.TNS_OBJ_NO_PREFIX_SEG)){let t=this.readLength();this.skipBytes(t)}}readLength(){let e=this.readUInt8();return e!==Ve.TNS_LONG_LENGTH_INDICATOR?e:this.readUInt32BE()}writeHeader(e){this.writeUInt8(e.imageFlags),this.writeUInt8(e.imageVersion),this.writeUInt8(Ve.TNS_LONG_LENGTH_INDICATOR),this.writeUInt32BE(0),e._objType.isCollection&&(this.writeUInt8(1),this.writeUInt8(1))}writeLength(e){e<=Ve.TNS_OBJ_MAX_SHORT_LENGTH?this.writeUInt8(e):(this.writeUInt8(Ve.TNS_LONG_LENGTH_INDICATOR),this.writeUInt32BE(e))}};c(Il,"DbObjectPickleBuffer");var E_=Il,h_=class h_ extends Xw{constructor(e,t){if(typeof e=="function"&&(e=e.prototype._objType),super(e),this.packedData=t,this.unpackedAttrs=new Map,t)this.unpackedAssocArray=new Map,this.unpackedAssocKeys=void 0;else if(e){let n=Yn.from([0,34,Ve.TNS_OBJ_NON_NULL_OID,Ve.TNS_OBJ_HAS_EXTENT_OID]);this.toid=Yn.concat([n,e.oid,Ve.TNS_EXTENT_OID]),this.flags=Ve.TNS_OBJ_TOP_LEVEL,this.imageFlags=Ve.TNS_OBJ_IS_VERSION_81,this.imageVersion=Ve.TNS_OBJ_IMAGE_VERSION,e.isCollection?(this.imageFlags|=Ve.TNS_OBJ_IS_COLLECTION,e.collectionType===Ve.TNS_OBJ_PLSQL_INDEX_TABLE?this.unpackedAssocArray=new Map:this.unpackedArray=[]):this.imageFlags|=Ve.TNS_OBJ_NO_PREFIX_SEG}}_ensureAssocKeys(){this.unpackedAssocKeys||(this.unpackedAssocKeys=[...this.unpackedAssocArray.keys()].sort())}_ensureUnpacked(){this.packedData&&this._unpackData()}_getPackedData(){if(this.packedData)return this.packedData;let e=new E_;e.writeHeader(this),this._packData(e);let t=e.pos;return e.pos=3,e.writeUInt32BE(t),e.buf.subarray(0,t)}_packData(e){let t=this._objType;if(t.isCollection)if(e.writeUInt8(t.collectionFlags),t.collectionType===Ve.TNS_OBJ_PLSQL_INDEX_TABLE){this._ensureAssocKeys(),e.writeLength(this.unpackedAssocKeys.length);for(let n of this.unpackedAssocKeys)e.writeInt32BE(n),this._packValue(e,t.elementType,t.elementTypeClass,this.unpackedAssocArray.get(n))}else{e.writeLength(this.unpackedArray.length);for(let n of this.unpackedArray)this._packValue(e,t.elementType,t.elementTypeClass,n)}else for(let n of t.attributes)this._packValue(e,n.type,n.typeClass,this.unpackedAttrs.get(n.name))}_packValue(e,t,n,o){if(o==null)n&&!n.prototype.isCollection?e.writeUInt8(Ve.TNS_OBJ_ATOMIC_NULL):e.writeUInt8(Ve.TNS_NULL_LENGTH_INDICATOR);else switch(t){case ge.DB_TYPE_CHAR:case ge.DB_TYPE_VARCHAR:e.writeBytesWithLength(Yn.from(o));break;case ge.DB_TYPE_NCHAR:case ge.DB_TYPE_NVARCHAR:e.writeBytesWithLength(Yn.from(o,"utf16le").swap16());break;case ge.DB_TYPE_NUMBER:e.writeOracleNumber(o.toString());break;case ge.DB_TYPE_BINARY_INTEGER:case ge.DB_TYPE_BOOLEAN:e.writeUInt8(4),e.writeUInt32BE(o);break;case ge.DB_TYPE_RAW:e.writeBytesWithLength(o);break;case ge.DB_TYPE_BINARY_DOUBLE:e.writeBinaryDouble(o);break;case ge.DB_TYPE_BINARY_FLOAT:e.writeBinaryFloat(o);break;case ge.DB_TYPE_DATE:case ge.DB_TYPE_TIMESTAMP:case ge.DB_TYPE_TIMESTAMP_LTZ:case ge.DB_TYPE_TIMESTAMP_TZ:e.writeOracleDate(o,t);break;case ge.DB_TYPE_OBJECT:this._objType.isCollection||o._objType.isCollection?e.writeBytesWithLength(o._getPackedData()):o._packData(e);break;default:Ar.throwErr(Ar.ERR_NOT_IMPLEMENTED,t)}}_unpackData(){let e=new E_(this.packedData);e.readHeader(this),this._unpackDataFromBuf(e),this.packedData=void 0}_unpackDataFromBuf(e){let t,n,o,T,l=this._objType;if(l.isCollection){l.collectionType===Ve.TNS_OBJ_PLSQL_INDEX_TABLE?n=new Map:t=[],this.collectionFlags=e.readUInt8();let E=e.readLength();for(let S=0;S<E;S++){l.collectionType===Ve.TNS_OBJ_PLSQL_INDEX_TABLE&&(o=e.readUInt32BE());let R=this._unpackValue(e,l.elementType,l.elementTypeClass);l.collectionType===Ve.TNS_OBJ_PLSQL_INDEX_TABLE?n.set(o,R):t.push(R)}}else{T=new Map;for(let E of l.attributes){let S=this._unpackValue(e,E.type,E.typeClass);T.set(E.name,S)}}this.unpackedAttrs=T,this.unpackedArray=t,this.unpackedAssocArray=n}_unpackValue(e,t,n){let o,T,l;switch(t){case ge.DB_TYPE_NUMBER:return l=e.readOracleNumber(),l!==null&&(l=parseFloat(l)),l;case ge.DB_TYPE_BINARY_INTEGER:return e.readBinaryInteger();case ge.DB_TYPE_VARCHAR:case ge.DB_TYPE_CHAR:return e.readStr(Ve.CSFRM_IMPLICIT);case ge.DB_TYPE_NVARCHAR:case ge.DB_TYPE_NCHAR:return e.readStr(Ve.CSFRM_NCHAR);case ge.DB_TYPE_RAW:return Yn.from(e.readBytesWithLength());case ge.DB_TYPE_BINARY_DOUBLE:return e.readBinaryDouble();case ge.DB_TYPE_BINARY_FLOAT:return e.readBinaryFloat();case ge.DB_TYPE_DATE:case ge.DB_TYPE_TIMESTAMP:return e.readOracleDate(!0);case ge.DB_TYPE_TIMESTAMP_LTZ:case ge.DB_TYPE_TIMESTAMP_TZ:return e.readOracleDate(!1);case ge.DB_TYPE_BOOLEAN:return e.readBool();case ge.DB_TYPE_OBJECT:return o=e.getIsAtomicNull(),o?null:(T=new h_(n),T._objType.isCollection||this._objType.isCollection?T.packedData=Yn.from(e.readBytesWithLength()):T._unpackDataFromBuf(e),T);default:Ar.throwErr(Ar.ERR_NOT_IMPLEMENTED,t)}}append(e){if(this._ensureUnpacked(),this.unpackedArray){let t=this._objType;t.maxNumElements>0&&this.unpackedArray.length>=t.maxNumElements&&Ar.throwErr(Ar.ERR_INVALID_COLL_INDEX_SET,this.unpackedArray.length,0,t.maxNumElements),this.unpackedArray.push(e)}else{this._ensureAssocKeys();let t;if(this.unpackedAssocKeys.length===0)t=0;else{let n=this.unpackedAssocKeys.length-1;t=this.unpackedAssocKeys[n]+1}this.unpackedAssocArray.set(t,e),this.unpackedAssocKeys.push(t)}}deleteElement(e){this._ensureUnpacked(),this.unpackedArray?(this._objType.collectionType==Ve.TNS_OBJ_VARRAY&&Ar.throwErr(Ar.ERR_DELETE_ELEMENTS_OF_VARRAY),this.unpackedArray.splice(e,1)):(this._unpackedAssocKeys=void 0,this.unpackedAssocArray.delete(e))}getAttrValue(e){this._ensureUnpacked();let t=this.unpackedAttrs.get(e.name);return t===void 0?null:t}getElement(e){let t;return this._ensureUnpacked(),this.unpackedArray?t=this.unpackedArray[e]:t=this.unpackedAssocArray.get(e),t===void 0&&Ar.throwErr(Ar.ERR_INVALID_COLL_INDEX_GET,e),t}getFirstIndex(){if(this._ensureUnpacked(),this.unpackedArray)return 0;if(this.unpackedAssocArray)return this._ensureAssocKeys(),this.unpackedAssocKeys[0]}getKeys(){return this._ensureUnpacked(),this.unpackedArray?Array.from(this.unpackedArray.keys()):this.unpackedAssocArray?(this._ensureAssocKeys(),Array.from(this.unpackedAssocKeys)):[]}getLastIndex(){if(this._ensureUnpacked(),this.unpackedArray){if(this.unpackedArray.length>0)return this.unpackedArray.length-1}else if(this.unpackedAssocArray)return this._ensureAssocKeys(),this.unpackedAssocKeys[this.unpackedAssocKeys.length-1]}getNextIndex(e){if(this._ensureUnpacked(),this.unpackedArray){if(e+1<this.unpackedArray.length)return e+1}else if(this.unpackedAssocArray){this._ensureAssocKeys();for(let t of this.unpackedAssocKeys)if(t>e)return t}}getPrevIndex(e){if(this._ensureUnpacked(),this.unpackedArray){if(e>0)return e-1}else if(this.unpackedAssocArray){this._ensureAssocKeys();for(let t of this.unpackedAssocKeys.reverse())if(t<e)return t}}getValues(){let e=[];if(this._ensureUnpacked(),this.unpackedArray)return Array.from(this.unpackedArray);if(this.unpackedAssocArray){this._ensureAssocKeys();for(let t of this.unpackedAssocKeys)e.push(this.unpackedAssocArray.get(t))}return e}hasElement(e){return this._ensureUnpacked(),this.unpackedArray?e>=0&&e<this.unpackedArray.length:this.unpackedAssocArray.has(e)}setAttrValue(e,t){this._ensureUnpacked(),this.unpackedAttrs.set(e.name,t)}setElement(e,t){if(this._ensureUnpacked(),this.unpackedArray){let n=Math.max(this.unpackedArray.length-1,0);e>n&&Ar.throwErr(Ar.ERR_INVALID_COLL_INDEX_SET,e,0,n),this.unpackedArray[e]=t}else this.unpackedAssocArray.has(e)||(this.unpackedAssocKeys=void 0),this.unpackedAssocArray.set(e,t)}trim(e){this._ensureUnpacked(),e>0&&(this.unpackedArray=this.unpackedArray.slice(0,this.unpackedArray.length-e))}};c(h_,"ThinDbObjectImpl");var ml=h_;nP.exports=ml});var Ol=b((rx,iP)=>{"use strict";var{Buffer:Ri}=require("buffer"),St=ze(),Jw=Lr(),gl=class gl extends Jw{constructor(e,t){super(e),this.sourceLobImpl=t.sourceLobImpl||null,this.operation=t.operation,this.destLobImpl=t.destLobImpl||null,this.sourceOffset=t.sourceOffset||0,this.destOffset=t.destOffset||0,this.boolFlag=!1,t.data&&(this.data=t.data),this.functionCode=St.TNS_FUNC_LOB_OP,this.sendAmount=t.sendAmount,this.amount=t.amount||0}encode(e){this.writeFunctionHeader(e),this.sourceLobImpl===null?(e.writeUInt8(0),e.writeUB4(0)):(e.writeUInt8(1),e.writeUB4(this.sourceLobImpl._locator.length)),this.destLobImpl===null?(e.writeUInt8(0),e.writeUB4(0)):(e.writeUInt8(1),e.writeUB4(this.destLobImpl._locator.length)),e.writeUB4(0),e.writeUB4(0),this.operation===St.TNS_LOB_OP_CREATE_TEMP?e.writeUInt8(1):e.writeUInt8(0),e.writeUInt8(0),this.operation===St.TNS_LOB_OP_CREATE_TEMP||this.operation===St.TNS_LOB_OP_IS_OPEN?e.writeUInt8(1):e.writeUInt8(0),e.writeUB4(this.operation),e.writeUInt8(0),e.writeUInt8(0),e.writeUB8(this.sourceOffset),e.writeUB8(this.destOffset),this.sendAmount?e.writeUInt8(1):e.writeUInt8(0);for(let t=0;t<3;t++)e.writeUInt16BE(0);if(this.sourceLobImpl&&e.writeBytes(this.sourceLobImpl._locator),this.destLobImpl&&e.writeBytes(this.destLobImpl._locator),this.operation===St.TNS_LOB_OP_CREATE_TEMP&&(this.sourceLobImpl.dbType._csfrm===St.CSFRM_NCHAR?(e.caps.checkNCharsetId(),e.writeUB4(St.TNS_CHARSET_UTF16)):e.writeUB4(St.TNS_CHARSET_UTF8)),this.data){let t;e.writeUInt8(St.TNS_MSG_TYPE_LOB_DATA),this.sourceLobImpl.dbType._oraTypeNum===St.TNS_DATA_TYPE_BLOB?t=this.data:this.sourceLobImpl.getCsfrm()===St.CSFRM_NCHAR?(t=this.data,Ri.isBuffer(this.data)&&(t=t.toString()),t=Ri.from(t,St.TNS_ENCODING_UTF16).swap16()):t=Ri.from(this.data),e.writeBytesWithLength(t)}this.sendAmount&&e.writeUB8(this.amount)}processMessage(e,t){if(t===St.TNS_MSG_TYPE_LOB_DATA){let n=this.sourceLobImpl.dbType._oraTypeNum,o=e.readBytesWithLength();o!==null&&(n===St.TNS_DATA_TYPE_BLOB?o=Ri.from(o):this.sourceLobImpl.getCsfrm()===St.CSFRM_NCHAR?o=Ri.from(o).swap16().toString("utf16le"):o=o.toString()),this.data=o}else super.processMessage(e,t)}processReturnParameter(e){let t,n,o,T;this.sourceLobImpl!==null&&(T=this.sourceLobImpl._locator.length,t=e.readBytes(T),n=t.slice(0,T),n.copy(this.sourceLobImpl._locator)),this.destLobImpl!==null&&(T=this.destLobImpl._locator.length,t=e.readBytes(T),n=t.slice(0,T),n.copy(this.destLobImpl._locator)),this.operation===St.TNS_LOB_OP_CREATE_TEMP&&e.skipUB2(),this.sendAmount&&(this.amount=e.readSB8()),(this.operation===St.TNS_LOB_OP_CREATE_TEMP||this.operation===St.TNS_LOB_OP_IS_OPEN)&&(o=e.readUB2(),this.boolFlag=o>0)}};c(gl,"LobOpMessage");var Cl=gl;iP.exports=Cl});var S_=b((nx,oP)=>{"use strict";var{Buffer:jw}=require("buffer"),Zw=sc(),Ot=ze(),$w=Ol(),N_=Z(),yl=class yl extends Zw{_getConnImpl(){return this.conn}async _sendMessage(e){let t=new $w(this.conn,e);return await this.conn._protocol._processMessage(t),e.operation===Ot.TNS_LOB_OP_READ?t.data?t.data:null:t.amount}getChunkSize(){return this._chunkSize}async _getChunkSizeAsync(){this.checkConn();let e={operation:Ot.TNS_LOB_OP_GET_CHUNK_SIZE,sourceLobImpl:this,sendAmount:!0};this._chunkSize=this._pieceSize=await this._sendMessage(e)}getLength(){return this._length}getPieceSize(){return this._pieceSize}setPieceSize(e){this._pieceSize=e}getType(){return this.dbType}async getData(){return this._length<0&&N_.throwErr(N_.ERR_INVALID_LOB),await this.read(1,this._length)}async read(e,t){this.checkConn();let n={operation:Ot.TNS_LOB_OP_READ,sourceLobImpl:this,sourceOffset:e,sendAmount:!0,amount:t||this._pieceSize};return await this._sendMessage(n)}async write(e,t){this.checkConn();let n={operation:Ot.TNS_LOB_OP_WRITE,sourceLobImpl:this,sourceOffset:e,data:t};await this._sendMessage(n),this._length+=t.length}getCsfrm(){return this.dbType._csfrm!==Ot.CSFRM_NCHAR&&this._locator[Ot.TNS_LOB_LOC_OFFSET_FLAG_3]&Ot.TNS_LOB_LOC_FLAGS_VAR_LENGTH_CHARSET?Ot.CSFRM_NCHAR:this.dbType._csfrm}async create(e,t){this.dirtyLength=!1,this.conn=e,this.dbType=t,this._locator=jw.alloc(40),this._isTempLob=!0,this._length=0;let n={operation:Ot.TNS_LOB_OP_CREATE_TEMP,sourceLobImpl:this,amount:Ot.TNS_DURATION_SESSION,destOffset:t._oraTypeNum,sourceOffset:t._csfrm,sendAmount:!0};await this._sendMessage(n),await this._getChunkSizeAsync()}checkConn(){this.conn.nscon.connected||N_.throwErr(N_.ERR_LOB_CLOSED)}close(){this.checkConn(),this._isTempLob&&(this.conn._tempLobsToClose.push(this._locator),this.conn._tempLobsTotalSize+=this._locator.length)}init(e,t,n,o,T){this.dirtyLength=!1,this.conn=e,this._locator=t,this._isTempLob=!1,(this._locator[Ot.TNS_LOB_LOC_OFFSET_FLAG_4]&Ot.TNS_LOB_LOC_FLAGS_TEMP===Ot.TNS_LOB_LOC_FLAGS_TEMP||this._locator[Ot.TNS_LOB_LOC_OFFSET_FLAG_1]&Ot.TNS_LOB_LOC_FLAGS_ABSTRACT===Ot.TNS_LOB_LOC_FLAGS_ABSTRACT)&&(this._isTempLob=!0),this.dbType=n,this._length=o,this._chunkSize=T,this._pieceSize=T}};c(yl,"ThinLobImpl");var Ll=yl;oP.exports=Ll});var Yl=b((ox,TP)=>{"use strict";var{Buffer:Zs}=require("buffer"),_P=Pi(),k=ze(),eB=Lr(),tB=Dl(),rB=S_(),ws=Z(),nt=qt(),Bl=class Bl extends eB{constructor(e,t=null,n=null){super(e),this.statement=t,this.options=n,this.offset=0,this.numExecs=1,this.arrayDmlRowCounts=!1,this.requiresDefine=!1,this.rowIndex=t.bufferRowCount||0,this.dmlRowCounts=[],this.batchErrors=!1,this.outVariables=[],this.inFetch=!1,this.parseOnly=!1,this.resultSetsToSetup=[]}processMessage(e,t){t===k.TNS_MSG_TYPE_DESCRIBE_INFO?(e.skipBytesChunked(),this.statement.queryVars=[],this.statement.numQueryVars=0,this.statement.bufferRowCount=0,this.statement.bufferRowIndex=0,this.processDescribeInfo(e,this.resultSet),this.outVariables=this.statement.queryVars):t===k.TNS_MSG_TYPE_ROW_HEADER?this.processRowHeader(e):t===k.TNS_MSG_TYPE_ROW_DATA?this.processRowData(e):t===k.TNS_MSG_TYPE_IMPLICIT_RESULTSET?this.processImplicitResultSet(e):t===k.TNS_MSG_TYPE_BIT_VECTOR?this.processBitVector(e):t===k.TNS_MSG_TYPE_IO_VECTOR?this.processIOVector(e):t===k.TNS_MSG_TYPE_FLUSH_OUT_BINDS?this.flushOutBinds=!0:t===k.TNS_MSG_TYPE_ERROR?this.processErrorInfo(e):super.processMessage(e,t)}hasMoreData(){return!this.processedError&&!this.flushOutBinds}processErrorInfo(e){super.processErrorInfo(e),this.errorInfo.cursorId!==0&&(this.statement.cursorId=this.errorInfo.cursorId),this.statement.isPlSql||(this.statement.rowCount=this.errorInfo.rowCount),this.errorInfo.rowCount>0&&(this.statement.lastRowid=_P.encodeRowID(this.errorInfo.rowID)),this.options.batchErrors=this.errorInfo.batchErrors,this.batchErrors&&this.options.batchErrors===null&&(this.options.batchErrors=[]),this.errorInfo.num===k.TNS_ERR_NO_DATA_FOUND&&this.statement.isQuery?(this.errorInfo.num=0,this.errorOccurred=!1,this.statement.moreRowsToFetch=!1):this.errorInfo.num!==0&&this.errorInfo.cursorId!==0&&(this.connection._addCursorToClose(this.statement.cursorId),this.connection.statementCache.delete(this.statement.sql)),this.errorInfo.batchErrors&&(this.errorOccurred=!1)}processDescribeInfo(e,t){let n=t.statement;e.skipUB4(),n.numQueryVars=e.readUB4(),n.numQueryVars>0&&e.skipUB1(),t.metadata=[];for(let T=0;T<n.numQueryVars;T++){let l=this.processColumnInfo(e,T+1);n.queryVars.push(l),t.metadata.push(l.fetchInfo)}let o=e.readUB4();o>0&&e.skipBytesChunked(),e.skipUB4(),e.skipUB4(),e.skipUB4(),e.skipUB4(),o=e.readUB4(),o>0&&e.skipBytesChunked(),this.resultSetsToSetup.push(t)}processColumnInfo(e,t){let n=e.readUInt8();e.skipUB1();let o=e.readInt8(),T;n===k.TNS_DATA_TYPE_NUMBER||n===k.TNS_DATA_TYPE_INTERVAL_DS||n===k.TNS_DATA_TYPE_TIMESTAMP||n===k.TNS_DATA_TYPE_TIMESTAMP_LTZ||n===k.TNS_DATA_TYPE_TIMESTAMP_TZ?T=e.readSB2():T=e.readInt8();let l=e.readUB4();e.skipUB4(),e.skipUB4();let E,S=e.readUB4();S>0&&(E=Zs.from(e.readBytesWithLength())),e.skipUB2(),e.skipUB2();let R=e.readUInt8(),d=e.readUB4();n===k.TNS_DATA_TYPE_RAW&&(d=l),e.caps.ttcFieldVersion>=k.TNS_CCAP_FIELD_VERSION_12_2&&e.skipUB4();let L=!!e.readUInt8();e.skipUB1();let w;S=e.readUB4(),S>0&&(w=e.readStr(k.CSFRM_IMPLICIT));let O;S=e.readUB4(),S>0&&(O=e.readStr(k.CSFRM_IMPLICIT)),S=e.readUB4();let P;S>0&&(P=e.readStr(k.CSFRM_IMPLICIT)),e.skipUB2(),e.skipUB4();let g={name:w,dbType:nt.getTypeByOraTypeNum(n,R),nullable:L};switch(g.dbType){case nt.DB_TYPE_VARCHAR:case nt.DB_TYPE_NVARCHAR:case nt.DB_TYPE_CHAR:case nt.DB_TYPE_NCHAR:case nt.DB_TYPE_RAW:g.byteSize=d;break;case nt.DB_TYPE_NUMBER:g.precision=o;break;case nt.DB_TYPE_TIMESTAMP:case nt.DB_TYPE_TIMESTAMP_TZ:case nt.DB_TYPE_TIMESTAMP_LTZ:g.precision=T;break;case nt.DB_TYPE_OBJECT:g.dbTypeClass=this.connection._getDbObjectType(O,P,void 0,E),g.dbTypeClass.partial&&this.connection._partialDbObjectTypes.push(g.dbTypeClass);break;default:break}return g.dbType===nt.DB_TYPE_NUMBER&&(g.scale=T),{fetchInfo:g,type:g.dbType,maxSize:l,columnNum:t,values:new Array(this.options.fetchArraySize)}}processRowHeader(e){e.skipUB1(),e.skipUB2(),e.skipUB4(),e.skipUB4(),e.skipUB2();let t=e.readUB4();t>0&&(e.skipUB1(),this.getBitVector(e,t)),t=e.readUB4(),t>0&&e.skipBytesChunked()}isDuplicateData(e){if(this.bitVector===null||this.bitVector===void 0)return!1;let t=Math.floor(e/8),n=e%8;return(this.bitVector[t]&1<<n)===0}processRowData(e){let t;for(let[n,o]of this.outVariables.entries())if(o.isArray){o.numElementsInArray=e.readUB4();let T=new Array(o.numElementsInArray).fill(null);for(let l=0;l<o.numElementsInArray;l++)t=this.processColumnData(e,o,l),T[l]=t;o.values[this.rowIndex]=T}else if(this.statement.isReturning){let T=e.readUB4(),l=Array(T).fill(null);for(let E=0;E<T;E++)l[E]=this.processColumnData(e,o,E);o.values[this.rowIndex]=l}else this.isDuplicateData(n)?(this.rowIndex===0&&o.outConverter?t=o.lastRawValue:t=o.values[this.statement.lastRowIndex],o.values[this.rowIndex]=t):(t=this.processColumnData(e,o,this.rowIndex),o.values[this.rowIndex]=t);this.rowIndex++,this.inFetch&&(this.statement.lastRowIndex=this.rowIndex-1,this.statement.bufferRowCount++,this.bitVector=null)}processIOVector(e){let t;e.skipUB1();let n=e.readUB2(),T=e.readUB4()*256+n;e.skipUB4(),e.skipUB2(),t=e.readUB2(),t>0&&e.skipBytes(t),t=e.readUB2(),t>0&&e.skipBytes(t),this.outVariables=[];for(let l=0;l<T;l++){let E=this.statement.bindInfoList[l];E.bindDir=e.readUInt8(),E.bindDir!==k.TNS_BIND_DIR_INPUT&&this.outVariables.push(E.bindVar)}}processColumnData(e,t){let n=t.type,o=n._oraTypeNum,T=n._csfrm,l=t.maxSize,E=null;if(l===0&&o!==k.TNS_DATA_TYPE_LONG&&o!==k.TNS_DATA_TYPE_LONG_RAW&&o!==k.TNS_DATA_TYPE_UROWID)E=null;else if(o===k.TNS_DATA_TYPE_VARCHAR||o===k.TNS_DATA_TYPE_CHAR||o===k.TNS_DATA_TYPE_LONG)T===k.CSFRM_NCHAR&&e.caps.checkNCharsetId(),E=e.readStr(T);else if(o===k.TNS_DATA_TYPE_RAW||o===k.TNS_DATA_TYPE_LONG_RAW)E=e.readBytesWithLength(),E!==null&&(E=Zs.from(E));else if(o===k.TNS_DATA_TYPE_NUMBER)E=e.readOracleNumber(),!this.inFetch&&E!==null&&(E=parseFloat(E));else if(o===k.TNS_DATA_TYPE_DATE||o===k.TNS_DATA_TYPE_TIMESTAMP||o===k.TNS_DATA_TYPE_TIMESTAMP_LTZ||o===k.TNS_DATA_TYPE_TIMESTAMP_TZ){let S=o===k.TNS_DATA_TYPE_DATE||o===k.TNS_DATA_TYPE_TIMESTAMP;E=e.readOracleDate(S)}else if(o===k.TNS_DATA_TYPE_ROWID)if(!this.inFetch)E=e.readStr(k.CSFRM_IMPLICIT);else{let S=e.readUInt8();if(aP(S))E=null;else{let R=e.readRowID();E=_P.encodeRowID(R)}}else if(o===k.TNS_DATA_TYPE_UROWID)this.inFetch?E=e.readURowID():E=e.readStr(k.CSFRM_IMPLICIT);else if(o===k.TNS_DATA_TYPE_BINARY_DOUBLE)E=e.readBinaryDouble();else if(o===k.TNS_DATA_TYPE_BINARY_FLOAT)E=e.readBinaryFloat();else if(o===k.TNS_DATA_TYPE_BINARY_INTEGER)E=e.readOracleNumber(),E!==null&&(E=parseFloat(E));else if(o===k.TNS_DATA_TYPE_CURSOR){let S=e.readUInt8();aP(S)?E=null:(E=this.createCursorFromDescribe(e),E.statement.cursorId=e.readUB2(),E.statement.cursorId===0&&t.dir!==k.BIND_IN&&(this.options.nullifyInvalidCursor?E=null:ws.throwErr(ws.ERR_INVALID_REF_CURSOR)))}else if(o===k.TNS_DATA_TYPE_BOOLEAN)E=e.readBool();else if(o===k.TNS_DATA_TYPE_CLOB||o===k.TNS_DATA_TYPE_BLOB){if(e.readUB4()>0){E=new rB;let R=e.readUB8(),d=e.readUB4(),L=Zs.from(e.readBytesWithLength());E.init(this.connection,L,n,R,d)}}else if(o===k.TNS_DATA_TYPE_JSON)E=e.readOson();else if(o===k.TNS_DATA_TYPE_INT_NAMED){let S=e.readDbObject();if(S.packedData){let R=t.fetchInfo?t.fetchInfo.dbTypeClass:t.typeClass;E=new tB(R,S.packedData),E.toid=S.toid,E.oid=S.oid}}else ws.throwErr(ws.ERR_UNSUPPORTED_DATA_TYPE,n.num,t.columnNum);if(this.inFetch)(o===k.TNS_DATA_TYPE_LONG||o===k.TNS_DATA_TYPE_LONG_RAW||t.maxSize>e.caps.maxStringSize)&&(e.skipSB4(),e.skipUB4());else{let S=e.readSB4();S<0&&o===k.TNS_DATA_TYPE_BOOLEAN?E=null:S!==0&&E!==null&&ws.throwErr(ws.ERR_INSUFFICIENT_BUFFER_FOR_BINDS)}return E}processReturnParameter(e){let t=0,n,o=e.readUB2();for(let l=0;l<o;l++)e.skipUB4();let T=e.readUB2();T>0&&e.skipBytes(T),o=e.readUB2();for(let l=0;l<o;l++)T=e.readUB2(),T>0&&(n=e.readStr(k.CSFRM_IMPLICIT)),T=e.readUB2(),T>0&&e.skipBytesChunked(),t=e.readUB2(),t===k.TNS_KEYWORD_NUM_CURRENT_SCHEMA?this.connection.currentSchema=n:t===k.TNS_KEYWORD_NUM_EDITION&&(this.connection._edition=n);if(T=e.readUB2(),T>0&&e.skip(T),this.arrayDmlRowCounts){let l=e.readUB4(),E=this.options.dmlRowCounts=[];for(let S=0;S<l;S++){let R=e.readUB8();E.push(R)}}}process(e){this.bitVector=this.savedBitVector,super.process(e)}savePoint(e){this.savedBitVector=this.bitVector,super.savePoint(e)}async postProcess(){if(this.outVariables)for(let e of this.outVariables)if(e.isArray)for(let t=0;t<e.numElementsInArray;t++)e.outConverter&&(e.values[0][t]=await e.outConverter(e.values[0][t]));else e.outConverter&&(e.values[0]=await e.outConverter(e.values[0]));await this.connection._populatePartialDbObjectTypes();for(let e of this.resultSetsToSetup){e._setup(this.options,e.metadata);for(let t of e.statement.queryVars)(t.type===nt.DB_TYPE_CLOB||t.type===nt.DB_TYPE_NCLOB||t.type===nt.DB_TYPE_BLOB||t.type===nt.DB_TYPE_JSON)&&(t.type!==t.fetchInfo.fetchType&&(t.type=t.fetchInfo.fetchType,t.maxSize=k.TNS_MAX_LONG_LENGTH),e.statement.requiresDefine=!0,e.statement.noPrefetch=!0)}}preProcess(){if(this.statement.isReturning&&!this.parseOnly){this.outVariables=[];for(let e of this.statement.bindInfoList)e.isReturnBind&&this.outVariables.push(e.bindVar)}if(this.statement.isQuery&&(this.inFetch=!0,this.statement.queryVars)){this.outVariables=[];for(let e=0;e<this.statement.queryVars.length;e++)this.outVariables.push(this.statement.queryVars[e])}}processBitVector(e){this.numColumnsSent=e.readUB2();let t=Math.floor(this.statement.numQueryVars/8);this.statement.numQueryVars%8>0&&(t+=1),this.getBitVector(e,t)}getBitVector(e,t){this.bitVector=Zs.from(e.readBytes(t))}processBindParams(e,t){let n=[],o=[];for(let T of t)T.isReturnBind||o.push(T),n.push(T.bindVar);return this.writeColumnMetadata(e,n),o}writeColumnMetadata(e,t){for(let n of t){let o=n.type._oraTypeNum,T=n.maxSize||n.type._bufferSizeFactor,l=0;n.type._csfrm===k.CSFRM_NCHAR&&(T*=n.type._bufferSizeFactor),[k.TNS_DATA_TYPE_ROWID,k.TNS_DATA_TYPE_UROWID].includes(o)&&(o=k.TNS_DATA_TYPE_VARCHAR,T=k.TNS_MAX_UROWID_LENGTH);let E=k.TNS_BIND_USE_INDICATORS;n.isArray&&(E|=k.TNS_BIND_ARRAY);let S=0;if(n.type===nt.DB_TYPE_BLOB||n.type===nt.DB_TYPE_CLOB||n.type===nt.DB_TYPE_NCLOB?S=k.TNS_LOB_PREFETCH_FLAG:n.type===nt.DB_TYPE_JSON&&(S=k.TNS_LOB_PREFETCH_FLAG,T=l=k.TNS_JSON_MAX_LENGTH),e.writeUInt8(o),e.writeUInt8(E),e.writeUInt8(0),e.writeUInt8(0),T>e.caps.maxStringSize?e.writeUB4(k.TNS_MAX_LONG_LENGTH):e.writeUB4(T),n.isArray?e.writeUB4(n.maxArraySize):e.writeUB4(0),e.writeUB4(S),n.objType){let R=n.objType;e.writeUB4(R.oid.length),e.writeBytesWithLength(R.oid),e.writeUB4(R.version)}else e.writeUB4(0),e.writeUB4(0);n.type._csfrm!==0?e.writeUB4(k.TNS_CHARSET_UTF8):e.writeUB4(0),e.writeUInt8(n.type._csfrm),e.writeUB4(l),e.caps.ttcFieldVersion>=k.TNS_CCAP_FIELD_VERSION_12_2&&e.writeUB4(0)}}writeBindParamsRow(e,t,n){let o=this.offset,T=!1;for(let l of t){if(l.isReturnBind)continue;let E=l.bindVar;if(E.isArray){let S=E.values.length;e.writeUB4(S);for(let R=0;R<S;R++)this.writeBindParamsColumn(e,E,E.values[R])}else E.maxSize>e.caps.maxStringSize?T=!0:this.writeBindParamsColumn(e,E,E.values[n+o])}if(T)for(let l of t){if(l.isReturnBind)continue;let E=l.bindVar;E.maxSize>e.caps.maxStringSize&&this.writeBindParamsColumn(e,E,E.values[n+o])}}writeBindParamsColumn(e,t,n){let o=t.type._oraTypeNum,T;if(n==null&&o!==k.TNS_DATA_TYPE_CURSOR&&o!==k.TNS_DATA_TYPE_JSON)o===k.TNS_DATA_TYPE_BOOLEAN?(e.writeUInt8(k.TNS_ESCAPE_CHAR),e.writeUInt8(1)):o===k.TNS_DATA_TYPE_INT_NAMED?(e.writeUB4(0),e.writeUB4(0),e.writeUB4(0),e.writeUB4(0),e.writeUB4(0),e.writeUB4(k.TNS_OBJ_TOP_LEVEL)):e.writeUInt8(0);else if(o===k.TNS_DATA_TYPE_NUMBER||o===k.TNS_DATA_TYPE_BINARY_INTEGER)typeof n=="boolean"?T=n?"1":"0":T=n.toString(),e.writeOracleNumber(T);else if(o===k.TNS_DATA_TYPE_VARCHAR||o===k.TNS_DATA_TYPE_CHAR||o===k.TNS_DATA_TYPE_LONG||o===k.TNS_DATA_TYPE_RAW||o===k.TNS_DATA_TYPE_LONG_RAW)t.type._csfrm===k.CSFRM_NCHAR?(e.caps.checkNCharsetId(),n=Zs.from(n,k.TNS_ENCODING_UTF16).swap16()):n=Zs.from(n),e.writeBytesWithLength(n);else if(o===k.TNS_DATA_TYPE_DATE||o===k.TNS_DATA_TYPE_TIMESTAMP||o===k.TNS_DATA_TYPE_TIMESTAMP_TZ||o===k.TNS_DATA_TYPE_TIMESTAMP_LTZ)e.writeOracleDate(n,t.type);else if(o===k.TNS_DATA_TYPE_BINARY_DOUBLE)e.writeBinaryDouble(n);else if(o===k.TNS_DATA_TYPE_BINARY_FLOAT)e.writeBinaryFloat(n);else if(o===k.TNS_DATA_TYPE_CURSOR){let l=n;n||(l=this.connection._createResultSet()),l.statement.cursorId===0?(e.writeUInt8(1),e.writeUInt8(0)):(e.writeUB4(1),e.writeUB4(l.statement.cursorId))}else if(o===k.TNS_DATA_TYPE_BOOLEAN)n?(e.writeUInt8(2),e.writeUInt16BE(257)):e.writeUInt16BE(256);else if(o===k.TNS_DATA_TYPE_CLOB||o===k.TNS_DATA_TYPE_BLOB)e.writeUB4(n._locator.length),e.writeBytesWithLength(n._locator);else if([k.TNS_DATA_TYPE_ROWID,k.TNS_DATA_TYPE_UROWID].includes(o))e.writeBytesWithLength(Zs.from(n));else if(o===k.TNS_DATA_TYPE_JSON)e.writeOson(n);else if(o===k.TNS_DATA_TYPE_INT_NAMED)e.writeDbObject(n);else{let l=`Binding data of type ${t.type}`;ws.throwErr(ws.ERR_NOT_IMPLEMENTED,l)}}createCursorFromDescribe(e){let t=this.connection._createResultSet(this.options);return t.options.moreRowsToFetch=!0,t.statement.isQuery=!0,t.statement.requiresFullExecute=!0,this.processDescribeInfo(e,t),t}processImplicitResultSet(e){this.options.implicitResultSet=[];let t=e.readUB4();for(let n=0;n<t;n++){let o=e.readUInt8();e.skipBytes(o);let T=this.createCursorFromDescribe(e);T.statement.cursorId=e.readUB2(),this.options.implicitResultSet.push(T)}}};c(Bl,"MessageWithData");var wl=Bl,aP=c(i=>i===0||i===k.TNS_NULL_LENGTH_INDICATOR,"isNullLength");TP.exports=wl});var Vl=b((ax,lP)=>{"use strict";var sB=Yl(),ve=ze(),cP=Z(),Ml=class Ml extends sB{constructor(e,t,n,o){super(e,t,n),!o&&t.isQuery&&(o=e._createResultSet(n,t)),this.resultSet=o,this.functionCode=ve.TNS_FUNC_EXECUTE,this.bindParams=void 0,this.currentRow=0}writeExecuteMessage(e){let t=0,n=0,o=0,T=1,l=this.statement,E=l.bindInfoList;if(!l.requiresDefine&&!this.parseOnly&&E&&(o=E.length),l.requiresDefine?t|=ve.TNS_EXEC_OPTION_DEFINE:!this.parseOnly&&l.sql&&(n=ve.TNS_EXEC_OPTION_IMPLICIT_RESULTSET,t|=ve.TNS_EXEC_OPTION_EXECUTE),(l.cursorId===0||l.isDdl)&&(t|=ve.TNS_EXEC_OPTION_PARSE),l.isQuery&&(this.parseOnly?t|=ve.TNS_EXEC_OPTION_DESCRIBE:(l.cursorId===0||l.requiresDefine?T=this.options.prefetchRows:T=this.options.fetchArraySize,T>0&&!l.noPrefetch&&(t|=ve.TNS_EXEC_OPTION_FETCH))),!l.isPlSql&&!this.parseOnly?t|=ve.TNS_EXEC_OPTION_NOT_PLSQL:l.isPlSql&&o>0&&(t|=ve.TNS_EXEC_OPTION_PLSQL_BIND),o>0&&(t|=ve.TNS_EXEC_OPTION_BIND),this.batchErrors&&(t|=ve.TNS_EXEC_OPTION_BATCH_ERRORS),this.arrayDmlRowCounts&&(n=ve.TNS_EXEC_OPTION_DML_ROWCOUNTS),this.options.autoCommit&&(t|=ve.TNS_EXEC_OPTION_COMMIT),this.writePiggybacks(e),this.writeFunctionHeader(e),e.writeUB4(t),e.writeUB4(l.cursorId),l.cursorId===0||l.isDdl?(e.writeUInt8(1),e.writeUB4(l.sqlLength)):(e.writeUInt8(0),e.writeUB4(0)),e.writeUInt8(1),e.writeUB4(13),e.writeUInt8(0),e.writeUInt8(0),e.writeUInt8(0),e.writeUB4(T),e.writeUB4(ve.TNS_MAX_LONG_LENGTH),o===0?(e.writeUInt8(0),e.writeUB4(0)):(e.writeUInt8(1),e.writeUB4(o)),e.writeUInt8(0),e.writeUInt8(0),e.writeUInt8(0),e.writeUInt8(0),e.writeUInt8(0),l.requiresDefine?(e.writeUInt8(1),e.writeUB4(this.statement.queryVars.length)):(e.writeUInt8(0),e.writeUB4(0)),e.writeUB4(0),e.writeUInt8(0),e.writeUInt8(1),e.writeUInt8(0),e.writeUB4(0),e.writeUInt8(0),e.writeUB4(0),e.writeUB4(0),this.arrayDmlRowCounts?(e.writeUInt8(1),e.writeUB4(this.numExecs),e.writeUInt8(1)):(e.writeUInt8(0),e.writeUB4(0),e.writeUInt8(0)),e.caps.ttcFieldVersion>=ve.TNS_CCAP_FIELD_VERSION_12_2&&(e.writeUInt8(0),e.writeUB4(0),e.writeUInt8(0),e.writeUB4(0),e.writeUInt8(0),e.caps.ttcFieldVersion>=ve.TNS_CCAP_FIELD_VERSION_12_2_EXT1&&(e.writeUInt8(0),e.writeUB4(0))),l.cursorId===0||l.isDdl?l.sql?(e.writeBytesWithLength(l.sqlBytes),e.writeUB4(1)):cP.throwErr(cP.ERR_INVALID_REF_CURSOR):e.writeUB4(0),l.isQuery?l.cursorId===0?e.writeUB4(0):e.writeUB4(T):e.writeUB4(this.numExecs),e.writeUB4(0),e.writeUB4(0),e.writeUB4(0),e.writeUB4(0),e.writeUB4(0),e.writeUB4(l.isQuery?1:0),e.writeUB4(0),e.writeUB4(n),e.writeUB4(0),e.writeUB4(0),e.writeUB4(0),l.requiresDefine)this.writeColumnMetadata(e,this.statement.queryVars);else if(o>0)return this.processBindParams(e,E)}writeReExecuteMessage(e){let t=this.statement,n=t.bindInfoList,o=0,T=0,l;if(n!==void 0){t.isQuery||(this.outVariables=[],n.forEach(S=>{S.bindDir!==ve.TNS_BIND_DIR_INPUT&&this.outVariables.push(S.bindVar)}));let E=[];n.forEach(S=>{S.bindDir!==ve.TNS_BIND_DIR_OUTPUT&&!S.isReturnBind&&E.push(S)}),n=E}return this.functionCode===ve.TNS_FUNC_REEXECUTE_AND_FETCH?(o|=ve.TNS_EXEC_OPTION_EXECUTE,l=this.options.prefetchRows):(this.options.autoCommit&&(T|=ve.TNS_EXEC_OPTION_COMMIT_REEXECUTE),l=this.numExecs),this.writePiggybacks(e),this.writeFunctionHeader(e),e.writeUB4(t.cursorId),e.writeUB4(l),e.writeUB4(o),e.writeUB4(T),n}encode(e){if(this.currentRow===0){let t=this.statement;t.cursorId!==0&&!t.requiresFullExecute&&!this.parseOnly&&!t.requiresDefine&&!t.isDdl&&!this.batchErrors?(t.isQuery&&!t.requiresDefine&&!t.noPrefetch&&this.options.prefetchRows>0?this.functionCode=ve.TNS_FUNC_REEXECUTE_AND_FETCH:this.functionCode=ve.TNS_FUNC_REEXECUTE,this.bindParams=this.writeReExecuteMessage(e)):(this.functionCode=ve.TNS_FUNC_EXECUTE,this.bindParams=this.writeExecuteMessage(e))}if(this.bindParams&&this.bindParams.length>0){let t=e.nsi.ntAdapter;for(;this.currentRow<this.numExecs;)if(e.writeUInt8(ve.TNS_MSG_TYPE_ROW_DATA),this.writeBindParamsRow(e,this.bindParams,this.currentRow),this.currentRow++,this.currentRow<this.numExecs&&t.shouldPauseWrite())return!0}this.currentRow=0,this.bindParams=void 0}};c(Ml,"ExecuteMessage");var Ul=Ml;lP.exports=Ul});var bl=b((cx,uP)=>{"use strict";var nB=ze(),iB=Yl(),Fl=class Fl extends iB{constructor(e,t,n,o){super(e,t,n),this.resultSet=o,this.functionCode=nB.TNS_FUNC_FETCH}encode(e){this.writeFunctionHeader(e),e.writeUB4(this.statement.cursorId),e.writeUB4(this.options.fetchArraySize)}};c(Fl,"FetchMessage");var xl=Fl;uP.exports=xl});var Gl=b((ux,EP)=>{"use strict";var oB=Tc(),_B=Vl(),aB=bl(),kl=class kl extends oB{async _fetchMoreRows(e){let t=this.statement.requiresFullExecute?_B:aB,n=new t(this.connection,this.statement,e,this);await this.connection._protocol._processMessage(n),this.statement.requiresFullExecute=!1}_resultSetNew(e,t,n){this.connection=e,this.statement=t,this._nestedCursorIndices=[],this.options=n,this.prefetchRowsProcessed=!1,this.statement.bufferRowIndex=0}close(){this.connection._returnStatement(this.statement)}_processRows(e){let t=[],n=this.statement.bufferRowIndex;for(let o=n;o<n+e;o++){let T=[];for(let l=0;l<this.statement.numQueryVars;l++)T.push(this.statement.queryVars[l].values[o]);t.push(T)}return this.statement.bufferRowIndex+=e,this.statement.bufferRowIndex===this.statement.bufferRowCount&&(this.statement.bufferRowCount=0,this.statement.bufferRowIndex=0),t}async getRows(e,t){if(t.fetchArraySize=e||this.options.fetchArraySize,t.prefetchRows=this.options.prefetchRows,this.statement.bufferRowCount-this.statement.bufferRowIndex>=t.fetchArraySize)return this._processRows(t.fetchArraySize);{t.fetchArraySize=t.fetchArraySize-(this.statement.bufferRowCount-this.statement.bufferRowIndex);let o=this.statement.bufferRowCount;if(this.statement.moreRowsToFetch&&t.fetchArraySize>0&&await this._fetchMoreRows(t),t.fetchArraySize=e||this.options.fetchArraySize,o===this.statement.bufferRowCount){let T=this.statement.bufferRowCount-this.statement.bufferRowIndex;return this.statement.bufferRowCount=0,T>0?this._processRows(T):[]}}let n=this.statement.bufferRowCount-this.statement.bufferRowIndex;return this._processRows(n)}};c(kl,"ThinResultSetImpl");var vl=kl;EP.exports=vl});var fP=b((hx,SP)=>{"use strict";var{Buffer:hP}=require("buffer"),J=ze(),NP=Z(),ql=class ql{constructor(e){this.protocolVersion=e,this.ttcFieldVersion=J.TNS_CCAP_FIELD_VERSION_MAX,this.supports12cLogon=!0,this.supportsOob=!1,this.nCharsetId=J.TNS_CHARSET_UTF16,this.compileCaps=hP.alloc(J.TNS_CCAP_MAX),this.runtimeCaps=hP.alloc(J.TNS_RCAP_MAX),this.initCompileCaps(),this.initRuntimeCaps(),this.maxStringSize=0}adjustForServerCompileCaps(e){e[J.TNS_CCAP_FIELD_VERSION]<this.ttcFieldVersion&&(this.ttcFieldVersion=e[J.TNS_CCAP_FIELD_VERSION],this.compileCaps[J.TNS_CCAP_FIELD_VERSION]=this.ttcFieldVersion)}adjustForServerRuntimeCaps(e){e[J.TNS_RCAP_TTC]&J.TNS_RCAP_TTC_32K?this.maxStringSize=32767:this.maxStringSize=4e3}initCompileCaps(){this.compileCaps[J.TNS_CCAP_SQL_VERSION]=J.TNS_CCAP_SQL_VERSION_MAX,this.compileCaps[J.TNS_CCAP_LOGON_TYPES]=J.TNS_CCAP_O5LOGON|J.TNS_CCAP_O5LOGON_NP|J.TNS_CCAP_O7LOGON|J.TNS_CCAP_O8LOGON_LONG_IDENTIFIER|J.TNS_CCAP_O9LOGON_LONG_PASSWORD,this.compileCaps[J.TNS_CCAP_FIELD_VERSION]=this.ttcFieldVersion,this.compileCaps[J.TNS_CCAP_SERVER_DEFINE_CONV]=1,this.compileCaps[J.TNS_CCAP_TTC1]=J.TNS_CCAP_FAST_BVEC|J.TNS_CCAP_END_OF_CALL_STATUS|J.TNS_CCAP_IND_RCD,this.compileCaps[J.TNS_CCAP_OCI1]=J.TNS_CCAP_FAST_SESSION_PROPAGATE|J.TNS_CCAP_APP_CTX_PIGGYBACK,this.compileCaps[J.TNS_CCAP_TDS_VERSION]=J.TNS_CCAP_TDS_VERSION_MAX,this.compileCaps[J.TNS_CCAP_RPC_VERSION]=J.TNS_CCAP_RPC_VERSION_MAX,this.compileCaps[J.TNS_CCAP_RPC_SIG]=J.TNS_CCAP_RPC_SIG_VALUE,this.compileCaps[J.TNS_CCAP_DBF_VERSION]=J.TNS_CCAP_DBF_VERSION_MAX,this.compileCaps[J.TNS_CCAP_LOB]=J.TNS_CCAP_LOB_UB8_SIZE|J.TNS_CCAP_LOB_ENCS|J.TNS_CCAP_LOB_PREFETCH,this.compileCaps[J.TNS_CCAP_UB2_DTY]=1,this.compileCaps[J.TNS_CCAP_LOB2]=J.TNS_CCAP_LOB2_QUASI|J.TNS_CCAP_LOB2_2GB_PREFETCH,this.compileCaps[J.TNS_CCAP_TTC3]=J.TNS_CCAP_IMPLICIT_RESULTS|J.TNS_CCAP_BIG_CHUNK_CLR|J.TNS_CCAP_KEEP_OUT_ORDER,this.compileCaps[J.TNS_CCAP_TTC2]=J.TNS_CCAP_ZLNP,this.compileCaps[J.TNS_CCAP_OCI2]=J.TNS_CCAP_DRCP,this.compileCaps[J.TNS_CCAP_CLIENT_FN]=J.TNS_CCAP_CLIENT_FN_MAX,this.compileCaps[J.TNS_CCAP_TTC4]=J.TNS_CCAP_INBAND_NOTIFICATION}initRuntimeCaps(){this.runtimeCaps[J.TNS_RCAP_COMPAT]=J.TNS_RCAP_COMPAT_81,this.runtimeCaps[J.TNS_RCAP_TTC]=J.TNS_RCAP_TTC_ZERO_COPY|J.TNS_RCAP_TTC_32K}checkNCharsetId(){this.nCharsetId!==J.TNS_CHARSET_UTF16&&NP.throwErr(NP.ERR_NCHAR_CS_NOT_SUPPORTED,this.nCharsetId)}};c(ql,"Capabilities");var Hl=ql;SP.exports=Hl});var PP=b((Sx,dP)=>{"use strict";var{BaseBuffer:TB,GrowableBuffer:Jl}=pi(),{Buffer:mi}=require("buffer"),$=ze(),Bs=Z(),AP=qt(),cB=require("util"),jl=class jl extends TB{_decodeContainerNode(e){let t,n,o,T=this._getNumChildren(e),l=(e&64)===0;if(T===void 0){let E=this._getOffset(e);n=this.pos,this.pos=this.treeSegPos+E;let S=this.readUInt8();T=this._getNumChildren(S),t=l?{}:new Array(T),o=this.pos}else l?(t={},o=this.pos,n=this.pos+this.fieldIdLength*T):(t=new Array(T),n=this.pos);for(let E=0;E<T;E++){let S;if(l){let d;this.fieldIdLength===1?d=this.buf[o]:this.fieldIdLength==2?d=this.buf.readUInt16BE(o):d=this.buf.readUInt32BE(o),S=this.fieldNames[d-1],o+=this.fieldIdLength}this.pos=n;let R=this._getOffset(e);n=this.pos,this.pos=this.treeSegPos+R,l?t[S]=this._decodeNode():t[E]=this._decodeNode()}return t}_decodeNode(){let e=this.readUInt8();if(e&128)return this._decodeContainerNode(e);if(e===$.TNS_JSON_TYPE_NULL)return null;if(e===$.TNS_JSON_TYPE_TRUE)return!0;if(e===$.TNS_JSON_TYPE_FALSE)return!1;if(e===$.TNS_JSON_TYPE_DATE||e===$.TNS_JSON_TYPE_TIMESTAMP7)return this.parseOracleDate(this.readBytes(7));if(e===$.TNS_JSON_TYPE_TIMESTAMP)return this.parseOracleDate(this.readBytes(11));if(e===$.TNS_JSON_TYPE_TIMESTAMP_TZ)return this.parseOracleDate(this.readBytes(13));if(e===$.TNS_JSON_TYPE_BINARY_FLOAT)return this.parseBinaryFloat(this.readBytes(4));if(e===$.TNS_JSON_TYPE_BINARY_DOUBLE)return this.parseBinaryDouble(this.readBytes(8));if(e===$.TNS_JSON_TYPE_STRING_LENGTH_UINT8)return this.readBytes(this.readUInt8()).toString();if(e===$.TNS_JSON_TYPE_STRING_LENGTH_UINT16)return this.readBytes(this.readUInt16BE()).toString();if(e===$.TNS_JSON_TYPE_STRING_LENGTH_UINT32)return this.readBytes(this.readUInt32BE()).toString();if(e===$.TNS_JSON_TYPE_NUMBER_LENGTH_UINT8)return parseFloat(this.readOracleNumber());if(e===$.TNS_JSON_TYPE_BINARY_LENGTH_UINT16)return mi.from(this.readBytes(this.readUInt16BE()));if(e===$.TNS_JSON_TYPE_BINARY_LENGTH_UINT32)return mi.from(this.readBytes(this.readUInt32BE()));let t=e&240;if(t===32||t===96){let n=e&15;return parseFloat(this.parseOracleNumber(this.readBytes(n+1)))}else if(t===64||t===80){let n=e&15;return parseFloat(this.parseOracleNumber(this.readBytes(n)))}else if(!(e&224))return e===0?"":this.readBytes(e).toString();Bs.throwErr(Bs.ERR_UNSUPPORTED_DATA_TYPE_IN_JSON,e)}_getNumChildren(e){let t=e&24;if(t===0)return this.readUInt8();if(t===8)return this.readUInt16BE();if(t===16)return this.readUInt32BE()}_getOffset(e){return e&32?this.readUInt32BE():this.readUInt16BE()}decode(){let e=this.readBytes(3);(e[0]!==$.TNS_JSON_MAGIC_BYTE_1||e[1]!==$.TNS_JSON_MAGIC_BYTE_2||e[2]!==$.TNS_JSON_MAGIC_BYTE_3)&&Bs.throwErr(Bs.ERR_UNEXPECTED_DATA,e.toString("hex"));let t=this.readUInt8();t!==$.TNS_JSON_VERSION&&Bs.throwErr(Bs.ERR_OSON_VERSION_NOT_SUPPORTED,t);let n=this.readUInt16BE();if(n&$.TNS_JSON_FLAG_IS_SCALAR)return n&$.TNS_JSON_FLAG_TREE_SEG_UINT32?this.skipBytes(4):this.skipBytes(2),this._decodeNode();let o;n&$.TNS_JSON_FLAG_NUM_FNAMES_UINT32?(o=this.readUInt32BE(),this.fieldIdLength=4):n&$.TNS_JSON_FLAG_NUM_FNAMES_UINT16?(o=this.readUInt16BE(),this.fieldIdLength=2):(o=this.readUInt8(),this.fieldIdLength=1);let T,l;n&$.TNS_JSON_FLAG_FNAMES_SEG_UINT32?(T=4,l=this.readUInt32BE()):(T=2,l=this.readUInt16BE()),n&$.TNS_JSON_FLAG_TREE_SEG_UINT32?this.skipBytes(4):this.skipBytes(2),this.skipBytes(2);let E;n&$.TNS_JSON_FLAG_HASH_ID_UINT8?E=1:n&$.TNS_JSON_FLAG_HASH_ID_UINT16?E=2:E=4,this.skipBytes(o*E);let S=this.pos;this.skipBytes(o*T);let R=this.pos;this.skipBytes(l),this.fieldNames=new Array(o);for(let d=0;d<o;d++){let L=R;n&$.TNS_JSON_FLAG_FNAMES_SEG_UINT32?(L+=this.buf.readUInt32BE(S),S+=4):(L+=this.buf.readUInt16BE(S),S+=2);let w=this.buf[L],O=this.buf.subarray(L+1,L+w+1).toString();this.fieldNames[d]=O}return this.treeSegPos=this.pos,this._decodeNode()}};c(jl,"OsonDecoder");var Kl=jl,Zl=class Zl{constructor(e){this.name=e,this.nameBytes=mi.from(e),this.nameBytes.length>255&&Bs.throwErr(Bs.ERR_OSON_FIELD_NAME_LIMITATION),this.hashId=BigInt(2166136261);let t=BigInt(16777619),n=BigInt(4294967295);for(let o=0;o<this.nameBytes.length;o++){let T=BigInt(this.nameBytes[o]);this.hashId=(this.hashId^T)*t&n}this.hashId=Number(this.hashId)&255}};c(Zl,"OsonFieldName");var Wl=Zl,$l=class $l extends Jl{constructor(e){super(),this.fieldNamesMap=new Map,this.fieldNames=[],this._examineNode(e),this._processFieldNames()}_examineNode(e){if(Array.isArray(e))for(let t of e)this._examineNode(t);else if(e&&Array.isArray(e.fields))for(let t=0;t<e.fields.length;t++){let n=e.fields[t],o=e.values[t];if(!this.fieldNamesMap.has(n)){let T=new Wl(n);this.fieldNamesMap.set(n,T),this.fieldNames.push(T),T.offset=this.pos,this.writeUInt8(T.nameBytes.length),this.writeBytes(T.nameBytes)}this._examineNode(o)}}_processFieldNames(){this.fieldNames.sort((e,t)=>e.hashId<t.hashId?-1:e.hashId>t.hashId?1:e.nameBytes.length<t.nameBytes.length?-1:e.nameBytes.length>t.nameBytes.length?1:e.name<t.name?-1:e.name>t.name?1:0);for(let e=0;e<this.fieldNames.length;e++)this.fieldNames[e].fieldId=e+1;this.fieldNames.length<256?this.fieldIdSize=1:this.fieldNames.length<65536?this.fieldIdSize=2:this.fieldIdSize=4}};c($l,"OsonFieldNamesSegment");var zl=$l,eu=class eu extends Jl{_encodeArray(e,t){this._encodeContainer($.TNS_JSON_TYPE_ARRAY,e.length);let n=0,o=this.reserveBytes(e.length*4);for(let T of e)o.writeUInt32BE(this.pos,n),n+=4,this.encodeNode(T,t)}_encodeContainer(e,t){e|=32,t>65535?e|=16:t>255&&(e|=8),this.writeUInt8(e),t<256?this.writeUInt8(t):t<65536?this.writeUInt16BE(t):this.writeUInt32BE(t)}_encodeObject(e,t){let n=e.values.length;this._encodeContainer($.TNS_JSON_TYPE_OBJECT,n);let o=0,T=n*t.fieldIdSize,l=this.reserveBytes(n*(t.fieldIdSize+4));for(let E=0;E<e.fields.length;E++){let S=t.fieldNamesMap.get(e.fields[E]);t.fieldIdSize==1?l[o]=S.fieldId:t.fieldIdSize==2?l.writeUInt16BE(S.fieldId,o):l.writeUInt32BE(S.fieldId,o),l.writeUInt32BE(this.pos,T),o+=t.fieldIdSize,T+=4,this.encodeNode(e.values[E],t)}}encodeNode(e,t){if(e==null)this.writeUInt8($.TNS_JSON_TYPE_NULL);else if(typeof e=="boolean")e?this.writeUInt8($.TNS_JSON_TYPE_TRUE):this.writeUInt8($.TNS_JSON_TYPE_FALSE);else if(typeof e=="number")this.writeUInt8($.TNS_JSON_TYPE_NUMBER_LENGTH_UINT8),this.writeOracleNumber(e.toString());else if(typeof e=="string"){let n=mi.from(e);n.length<256?(this.writeUInt8($.TNS_JSON_TYPE_STRING_LENGTH_UINT8),this.writeUInt8(n.length)):n.length<65536?(this.writeUInt8($.TNS_JSON_TYPE_STRING_LENGTH_UINT16),this.writeUInt16BE(n.length)):(this.writeUInt8($.TNS_JSON_TYPE_STRING_LENGTH_UINT32),this.writeUInt32BE(n.length)),n.length>0&&this.writeBytes(n)}else cB.isDate(e)?e.getUTCMilliseconds()===0?(this.writeUInt8($.TNS_JSON_TYPE_TIMESTAMP7),this.writeOracleDate(e,AP.DB_TYPE_DATE,!1)):(this.writeUInt8($.TNS_JSON_TYPE_TIMESTAMP),this.writeOracleDate(e,AP.DB_TYPE_TIMESTAMP,!1)):mi.isBuffer(e)?(e.length<65536?(this.writeUInt8($.TNS_JSON_TYPE_BINARY_LENGTH_UINT16),this.writeUInt16BE(e.length)):(this.writeUInt8($.TNS_JSON_TYPE_BINARY_LENGTH_UINT32),this.writeUInt32BE(e.length)),this.writeBytes(e)):Array.isArray(e)?this._encodeArray(e,t):this._encodeObject(e,t)}};c(eu,"OsonTreeSegment");var Xl=eu,tu=class tu extends Jl{encode(e){let t,n=$.TNS_JSON_FLAG_INLINE_LEAF;Array.isArray(e)||e&&Array.isArray(e.fields)?(n|=$.TNS_JSON_FLAG_HASH_ID_UINT8|$.TNS_JSON_FLAG_TINY_NODES_STAT,t=new zl(e),t.fieldNames.length>65535?n|=$.TNS_JSON_FLAG_NUM_FNAMES_UINT32:t.fieldNames.length>255&&(n|=$.TNS_JSON_FLAG_NUM_FNAMES_UINT16),t.pos>65535&&(n|=$.TNS_JSON_FLAG_FNAMES_SEG_UINT32)):n|=$.TNS_JSON_FLAG_IS_SCALAR;let o=new Xl;if(o.encodeNode(e,t),o.pos>65535&&(n|=$.TNS_JSON_FLAG_TREE_SEG_UINT32),this.writeUInt8($.TNS_JSON_MAGIC_BYTE_1),this.writeUInt8($.TNS_JSON_MAGIC_BYTE_2),this.writeUInt8($.TNS_JSON_MAGIC_BYTE_3),this.writeUInt8($.TNS_JSON_VERSION),this.writeUInt16BE(n),t&&(t.fieldNames.length<256?this.writeUInt8(t.fieldNames.length):t.fieldNames.length<65536?this.writeUInt16BE(t.fieldNames.length):this.writeUInt32BE(t.fieldNames.length),t.pos<65536?this.writeUInt16BE(t.pos):this.writeUInt32BE(t.pos)),o.pos<65536?this.writeUInt16BE(o.pos):this.writeUInt32BE(o.pos),t){this.writeUInt16BE(0);for(let T of t.fieldNames)this.writeUInt8(T.hashId);for(let T of t.fieldNames)t.pos<65536?this.writeUInt16BE(T.offset):this.writeUInt32BE(T.offset);t.pos>0&&this.writeBytes(t.buf.subarray(0,t.pos))}return this.writeBytes(o.buf.subarray(0,o.pos)),this.buf.subarray(0,this.pos)}};c(tu,"OsonEncoder");var Ql=tu;dP.exports={OsonDecoder:Kl,OsonEncoder:Ql}});var DP=b((Ax,IP)=>{"use strict";var{BaseBuffer:RP}=pi(),{Buffer:cs}=require("buffer"),ls=ze(),mP=PP(),pP=Pi(),Un=cs.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/","utf8"),iu=class iu{constructor(e){this.allocLen=e;let t=e%ls.CHUNKED_BYTES_CHUNK_SIZE;t>0&&(this.allocLen+=ls.CHUNKED_BYTES_CHUNK_SIZE-t),this.buf=cs.alloc(this.allocLen),this.actualLen=0}};c(iu,"BytesChunk");var f_=iu,ou=class ou{constructor(){this.chunks=[]}endChunkedRead(){if(this.chunks.length>1){let t=0;for(let T of this.chunks)t+=T.actualLen;let n=0,o=new f_(t);for(let T of this.chunks)T.buf.copy(o.buf,n,0,T.actualLen),n+=T.actualLen;o.actualLen=t,this.chunks=[o]}let e=this.chunks[0];return e.buf.subarray(0,e.actualLen)}getBuf(e){let t;this.chunks.length>0&&(t=this.chunks[this.chunks.length-1],t.allocLen-t.actualLen<e&&(t=void 0)),t||(t=new f_(e),this.chunks.push(t));let n=t.buf.subarray(t.actualLen,t.actualLen+e);return t.actualLen+=e,n}startChunkedRead(){this.chunks.length>0&&(this.chunks=this.chunks.splice(0,1),this.chunks[0].actualLen=0)}};c(ou,"ChunkedBytesBuffer");var ru=ou,_u=class _u extends RP{constructor(e,t){super(e.sAtts.sdu),this.nsi=e,this.caps=t,this.chunkedBytesBuf=new ru}_readBytesWithLength(e){if(e!==ls.TNS_LONG_LENGTH_INDICATOR)return this.readBytes(e);for(this.chunkedBytesBuf.startChunkedRead();;){let t=this.readUB4();if(t===0)break;this.readBytes(t,!0)}return this.chunkedBytesBuf.endChunkedRead()}skipBytes(e){this.pos===this.size&&this.receivePacket();let t=this.numBytesLeft();if(e<=t){this.pos+=e;return}for(e-=t;e>0;){this.receivePacket();let n=Math.min(e,this.size-this.pos);this.pos+=n,e-=n}}readBytes(e,t=!1){this.pos===this.size&&this.receivePacket();let n=this.numBytesLeft();if(e<=n){let l;return t?(l=this.chunkedBytesBuf.getBuf(e),this.buf.copy(l,0,this.pos,this.pos+e)):l=this.buf.subarray(this.pos,this.pos+e),this.pos+=e,l}let o;t?o=this.chunkedBytesBuf.getBuf(e):o=cs.alloc(e);let T=0;for(this.buf.copy(o,T,this.pos,this.pos+n),T+=n,e-=n;e>0;){this.receivePacket();let l=Math.min(e,this.size-this.pos);this.buf.copy(o,T,this.pos,this.pos+l),this.pos+=l,T+=l,e-=l}return o}receivePacket(){if(this.savedPacketPos===this.savedPackets.length){let e=this.nsi.syncRecvPacket();if(!e||this.nsi.isBreak)throw new pP.OutOfPacketsError;this.savedPackets.push(e)}this.startPacket(this.savedPackets[this.savedPacketPos++])}restorePoint(){this.savedPacketPos=0,this.startPacket(this.savedPackets[this.savedPacketPos++]),this.pos=this.savedPos}savePoint(){this.savedPackets?this.savedPackets=this.savedPackets.splice(this.savedPacketPos-1):this.savedPackets=[this.packet],this.savedPacketPos=1,this.savedPos=this.pos}startPacket(e){this.packet=e,this.buf=e.buf,this.pos=10,this.size=e.buf.length,this.packetNum=e.num}async waitForPackets(){let e=await this.nsi.recvPacket();this.savedPackets?this.savedPackets.push(e):(this.savedPackets=[e],this.savedPacketPos=0),this.startPacket(this.savedPackets[this.savedPacketPos++])}readOson(){if(this.readUB4()===0)return null;this.skipUB8(),this.skipUB4();let t=new mP.OsonDecoder(this.readBytesWithLength());return this.skipBytesChunked(),t.decode()}readURowID(){let e=0,t=1,n=this.readBytesWithLength();if(n===null)return null;n=this.readBytesWithLength();let o=n.length;if(n&&n[0]===1){let S=n.readUInt32BE(1),R=n.readUInt16BE(5),d=n.readUInt32BE(7),L=n.readUInt16BE(11);return pP.encodeRowID({rba:S,partitionID:R,blockNum:d,slotNum:L})}let T=Math.floor(o/3)*4,l=o%3;l===1?T+=1:l===2&&(T+=3);let E=cs.alloc(T);for(o-=1,E[0]=42,e+=1;o>0;){let S=n[t]>>2;if(E[e]=Un[S],e+=1,S=(n[t]&3)<<4,o==1){E[e]=Un[S];break}if(t+=1,S|=(n[t]&240)>>4,E[e]=Un[S],e+=1,S=(n[t]&15)<<2,o==2){E[e]=Un[S];break}t+=1,S|=(n[t]&192)>>6,E[e]=Un[S],e+=1,S=n[t]&63,E[e]=Un[S],e+=1,t+=1,o-=3}return E.toString("utf-8")}readRowID(){let e=this.readUB4(),t=this.readUB2();this.skipUB1();let n=this.readUB4(),o=this.readUB2();return{rba:e,partitionID:t,blockNum:n,slotNum:o}}skipBytesChunked(){let e=this.readUInt8();if(e!==ls.TNS_LONG_LENGTH_INDICATOR)this.skipBytes(e);else for(;;){let t=this.readUB4();if(t===0)break;this.skipBytes(t)}}};c(_u,"ReadPacket");var su=_u,au=class au extends RP{constructor(e,t,n){super(e.sAtts.sdu),this.size=this.maxSize,this.isLargeSDU=e.sAtts.version>=ls.TNS_VERSION_MIN_LARGE_SDU,this.protocol=n,this.packetType=ls.TNS_PACKET_TYPE_DATA,this.caps=t,this.nsi=e}_grow(){this._sendPacket()}_sendPacket(e=!1){let t=this.pos;this.pos=0,this.isLargeSDU?this.writeUInt32BE(t):(this.writeUInt16BE(t),this.writeUInt16BE(0)),this.writeUInt8(this.packetType),this.writeUInt8(0),this.writeUInt16BE(0);let n=this.buf.subarray(0,t);e||(n=cs.from(n),this.startPacket()),this.nsi.ntAdapter.send(n)}startPacket(e=0){this.pos=ls.PACKET_HEADER_SIZE,this.packetType===ls.TNS_PACKET_TYPE_DATA&&this.writeUInt16BE(e)}startRequest(e,t=0){this.packetType=e,this.startPacket(t)}endRequest(){this.pos>ls.PACKET_HEADER_SIZE&&this._sendPacket(!0)}writeKeyValue(e,t,n=0){let o=cs.byteLength(e),T=cs.byteLength(t);this.writeUB4(o),this.writeBytesWithLength(cs.from(e)),this.writeUB4(T),T>0&&this.writeBytesWithLength(cs.from(t)),this.writeUB4(n)}writeOson(e){let n=new mP.OsonEncoder().encode(e);this.writeQLocator(n.length),this.writeBytesWithLength(n)}writeSeqNum(){this.writeUInt8(this.protocol.sequenceId),this.protocol.sequenceId=(this.protocol.sequenceId+1)%256}};c(au,"WritePacket");var nu=au;IP.exports={ReadPacket:su,WritePacket:nu}});var gP=b((Px,CP)=>{"use strict";var Ii=ze(),lB=fP(),{WritePacket:uB,ReadPacket:EB}=DP(),$s=Z(),hB=Pi(),cu=class cu{constructor(e){this._breakInProgress=!1,this.txnInProgress=!1,this.connInProgress=!0,this.nsi=e.nscon,this.sequenceId=1,this.caps=new lB(e.nscon.sAtts.version),this.writeBuf=new uB(e.nscon,this.caps,this),this.readBuf=new EB(e.nscon,this.caps),this.callTimeout=0}async _decodeMessage(e){for(e.preProcess(),await this.readBuf.waitForPackets();;){this.nsi.isBreak&&(await this.resetMessage(),delete this.readBuf.savedBuffers,await this.readBuf.waitForPackets());try{e.decode(this.readBuf);break}catch(t){if(t instanceof hB.OutOfPacketsError){this.nsi.isBreak||(await this.readBuf.waitForPackets(),this.readBuf.restorePoint());continue}throw t}}await e.postProcess()}async _encodeMessage(e){let t=this.nsi.ntAdapter;for(this.writeBuf.startRequest(Ii.TNS_PACKET_TYPE_DATA);e.encode(this.writeBuf);)await t.pauseWrite();this.writeBuf.endRequest()}async _recoverFromError(e,t){try{this.breakMessage(),this._breakInProgress=!1,await this.resetMessage(),await this.readBuf.waitForPackets(),t.decode(this.readBuf)}catch(n){this.nsi.disconnect();let o=$s.getErr($s.ERR_CONNECTION_CLOSED);throw e.message=o.message+`
Error recovery failed: `+n.message+`
Original error: `+e.message,e}}async _processMessage(e){let t,n=!1;try{this.callTimeout>0&&(t=setTimeout(()=>{n=!0,this.breakMessage()},this.callTimeout)),await this._encodeMessage(e),e.messageType!==Ii.TNS_MSG_TYPE_ONEWAY_FN&&await this._decodeMessage(e)}catch(o){throw!this.connInProgress&&o.code!==$s.ERR_CONNECTION_CLOSED_CODE&&await this._recoverFromError(o,e),o}finally{clearTimeout(t)}if(e.flushOutBinds&&await this.flushOutBindMessage(e),this.txnInProgress=e.callStatus&Ii.TNS_TXN_IN_PROGRESS,e.errorOccurred){n&&$s.throwErr($s.ERR_CALL_TIMEOUT_EXCEEDED,this.callTimeout);let o=new Error(e.errorInfo.message);throw o.offset=e.errorInfo.pos,o.errorNum=e.errorInfo.num,o=$s.transformErr(o),o.code===$s.ERR_CONNECTION_CLOSED_CODE&&this.nsi.disconnect(),o}}async flushOutBindMessage(e){this.writeBuf.startRequest(Ii.TNS_PACKET_TYPE_DATA),this.writeBuf.writeUInt8(Ii.TNS_MSG_TYPE_FLUSH_OUT_BINDS),this.writeBuf.endRequest(),await this._decodeMessage(e)}breakMessage(){this._breakInProgress=!0,this.nsi.sendBreak()}async resetMessage(){await this.nsi.reset()}};c(cu,"Protocol");var Tu=cu;CP.exports=Tu});var Mn=b((Rx,OP)=>{OP.exports={NSPTCN:1,NSPTAC:2,NSPTAK:3,NSPTRF:4,NSPTRD:5,NSPTDA:6,NSPTNL:7,NSPTAB:9,NSPTRS:11,NSPTMK:12,NSPTAT:13,NSPTCNL:14,NSPTDD:15,NSPTHI:19,NSPHDLEN:0,NSPHDPSM:2,NSPHDTYP:4,NSPHDFLGS:5,NSPHDHSM:6,NSPSIZHD:8,NSPFSID:1,NSPFRDS:2,NSPFRDR:4,NSPFLSD:32,NO_HEADER_FLAGS:0,NSPFSRN:8,NSPCNVSN:8,NSPCNLOV:10,NSPCNOPT:12,NSPCNSDU:14,NSPCNTDU:16,NSPCNNTC:18,NSPCNTNA:20,NSPCNONE:22,NSPCNLEN:24,NSPCNOFF:26,NSPCNMXC:28,NSPCNFL0:32,NSPCNFL1:33,NSPCNTMO:50,NSPCNTCK:52,NSPCNADL:54,NSPCNAOF:56,NSPCNLSD:58,NSPCNLTD:62,NSPCNCFL:66,NSPCNCFL2:70,NSPCNDAT:74,NSPMXCDATA:230,NSINAWANTED:1,NSINAINTCHG:2,NSINADISABLEDFORCONNECTION:4,NSINANOSERVICES:8,NSINAREQUIRED:16,NSINAAUTHWANTED:32,NSISUPSECRENEG:128,NSGDONTCARE:1,NSGHDX:2,NSGFDX:4,NSGHDRCHKSUM:8,NSGPAKCHKSUM:16,NSGBROKEN:32,NSGUSEVIO:64,NSGOSAUTHOK:128,NSGSENDATTN:512,NSGRECVATTN:1024,NSGNOATTNPR:2048,NSGRAW:4096,TNS_VERSION_DESIRED:319,TNS_VERSION_MINIMUM:300,NSPACVSN:8,NSPACOPT:10,NSPACSDU:12,NSPACTDU:14,NSPACONE:16,NSPACLEN:18,NSPACOFF:20,NSPACFL0:22,NSPACFL1:23,NSPACTMO:24,NSPACTCK:26,NSPACADL:28,NSPACAOF:30,NSPACLSD:32,NSPACLTD:36,NSPACCFL:40,NSPACFL2:41,NSPACV310DAT:32,NSPACV315DAT:41,NSPRFURS:8,NSPRFSRS:9,NSPRFLEN:10,NSPRFDAT:12,NSPACCFON:128,NSPACCFAT:64,NSPACCFNT:2,NSPACOOB:1,NSGPCHKSCMD:16777216,NSPRDLEN:8,NSPRDDAT:10,NSPDAFLG:8,NSPDADAT:10,NSPDAFEOF:64,NSPMKTYP:8,NSPMKODT:9,NSPMKDAT:10,NSPMKTD0:0,NSPMKTD1:1,NSPMKTAT:2,NIQBMARK:1,NIQRMARK:2,NIQIMARK:3,NSPCTLCMD:8,NSPCTLDAT:10,NSPCTL_SERR:8,NSPCTL_CLRATTN:9,NSPDFSDULN:8192,NSPABSSDULN:2097152,NSPMXSDULN:65535,NSPMNSDULN:512,NSPDFTDULN:2097152,NSPMXTDULN:2097152,NSPMNTDULN:255,NSFIMM:64,DISABLE_OOB_STR:"DISABLE_OOB",EXPIRE_TIME:"EXPIRE_TIME",PEM_WALLET_FILE_NAME:"ewallet.pem",NT_MOREDATA:1,NS_MOREDATA:2,SVCNAME:3,SERVERTYPE:4,REMOTEADDR:5,HEALTHCHECK:6,CONNCLASS:7,PURITY:8,SID:9,NSNOBLOCK:1}});var wP=b((mx,yP)=>{"use strict";var A_=require("buffer").Buffer,q=Mn(),Ys=Z(),NB=230,LP=74;function SB(i,e,t=0){this.connectData=i,this.connectDataLen=i.length,this.overflow=!1;let n,o;this.connectDataLen<=NB?n=LP+this.connectDataLen:(n=LP,this.overflow=!0),this.buf=A_.allocUnsafe(n).fill(0),this.buf.writeUInt16BE(n,q.NSPHDLEN),this.buf.writeUInt8(t,q.NSPHDFLGS),this.buf.writeUInt8(q.NSPTCN,q.NSPHDTYP),this.buf.writeUInt16BE(q.TNS_VERSION_DESIRED,q.NSPCNVSN),this.buf.writeUInt16BE(q.TNS_VERSION_MINIMUM,q.NSPCNLOV),o=q.NSGDONTCARE,this.buf.writeUInt16BE(o,q.NSPCNOPT),e.sdu>q.NSPMXSDULN?this.buf.writeUInt16BE(q.NSPMXSDULN,q.NSPCNSDU):this.buf.writeUInt16BE(e.sdu,q.NSPCNSDU),e.tdu>q.NSPMXSDULN?this.buf.writeUInt16BE(q.NSPMXSDULN,q.NSPCNTDU):this.buf.writeUInt16BE(e.tdu,q.NSPCNTDU),this.buf.writeUInt16BE(e.ntCha,q.NSPCNNTC),this.buf.writeUInt16BE(1,q.NSPCNONE),this.buf.writeUInt16BE(this.connectDataLen,q.NSPCNLEN),this.buf.writeUInt16BE(q.NSPCNDAT,q.NSPCNOFF),this.buf.writeUInt8(q.NSISUPSECRENEG|q.NSINADISABLEDFORCONNECTION,q.NSPCNFL0),this.buf.writeUInt8(q.NSISUPSECRENEG|q.NSINADISABLEDFORCONNECTION,q.NSPCNFL1),this.buf.writeUInt16BE(0,q.NSPCNTMO),this.buf.writeUInt16BE(0,q.NSPCNTCK),this.buf.writeUInt16BE(0,q.NSPCNADL),this.buf.writeUInt16BE(0,q.NSPCNAOF),this.buf.writeUInt32BE(e.sdu,q.NSPCNLSD),this.buf.writeUInt32BE(e.tdu,q.NSPCNLTD),this.buf.writeUInt32BE(0,q.NSPCNCFL),this.buf.writeUInt32BE(0,q.NSPCNCFL2),!this.overflow&&this.connectDataLen&&this.buf.write(i.toString("ascii"),q.NSPCNDAT,this.connectDataLen,"ascii")}c(SB,"ConnectPacket");function fB(i){this.dataPtr=0,this.dataLen=0,this.offset=0,this.len=0,this.bufLen=0,this.createPacket=function(e){this.dataPtr=q.NSPDADAT,this.dataLen=q.NSPDADAT,this.buf=A_.allocUnsafe(e).fill(0),this.buf.writeUInt8(0,q.NSPHDFLGS),this.buf.writeUInt8(q.NSPTDA,q.NSPHDTYP),this.bufLen=e},this.fillBuf=function(e,t,n,o=0){let T;return this.buf||this.createPacket(n+q.NSPDADAT),n>this.bufLen-this.dataLen?T=this.bufLen-this.dataLen:T=n,T&&e.copy(this.buf,this.dataLen,t,t+T),this.dataLen+=T,this.prepare2Send(o),T},this.prepare2Send=function(e=0){i?this.buf.writeUInt32BE(this.dataLen,q.NSPHDLEN):this.buf.writeUInt16BE(this.dataLen,q.NSPHDLEN),this.buf.writeUInt16BE(e,q.NSPDAFLG),this.dataBuf=this.buf.subarray(0,this.dataLen)},this.fromPacket=function(e){this.buf=e.buf,this.dataLen=e.buf.length,this.dataPtr=q.NSPDADAT,this.offset=this.dataPtr,this.len=this.dataLen,e.dataOffset=this.dataPtr}}c(fB,"DataPacket");function AB(i,e){this.buf=i.buf,this.len=i.buf.length,e.version=i.buf.readUInt16BE(q.NSPACVSN),e.options=i.buf.readUInt16BE(q.NSPACOPT),e.sdu=i.buf.readUInt16BE(q.NSPACSDU),e.tdu=i.buf.readUInt16BE(q.NSPACTDU),e.version>=315&&(e.sdu=i.buf.readUInt32BE(q.NSPACLSD),e.tdu=i.buf.readUInt32BE(q.NSPACLTD),e.largeSDU=!0),this.flag0=i.buf.readUInt8(q.NSPACFL0),this.flag1=i.buf.readUInt8(q.NSPACFL1)}c(AB,"AcceptPacket");function dB(i){this.buf=i.buf,this.len=i.buf.length,this.userReason=i.buf.readUInt8(q.NSPRFURS),this.systemReason=i.buf.readUInt8(q.NSPRFURS),this.dataLen=i.buf.readUInt16BE(q.NSPRFLEN),this.dataOff=q.NSPRFDAT,this.len>this.dataOff?(this.dataBuf=this.buf.toString("ascii",this.dataOff,this.len),this.overflow=!1):this.overflow=!0}c(dB,"RefusePacket");function PB(i){this.buf=i.buf,this.len=i.buf.length,this.flags=i.flags,this.dataLen=i.buf.readUInt16BE(q.NSPRDLEN),this.dataOff=q.NSPRDDAT,this.len>this.dataOff?(this.dataBuf=this.buf.subarray(this.dataOff,this.len),this.overflow=!1):this.overflow=!0}c(PB,"RedirectPacket");function pB(i){this.len=q.NSPMKDAT+1,this.buf=A_.alloc(q.NSPMKDAT+1),i?this.buf.writeUInt32BE(this.len,q.NSPHDLEN):this.buf.writeUInt16BE(this.len,q.NSPHDLEN),this.buf.writeUInt8(0,q.NSPHDFLGS),this.buf.writeUInt8(q.NSPTMK,q.NSPHDTYP),this.prepare=function(e,t){this.buf.writeUInt8(e,q.NSPMKTYP),this.buf.writeUInt8(t,q.NSPMKDAT)},this.fromPacket=function(e,t){switch(this.type=e.buf.readUInt8(q.NSPMKTYP),this.type){case q.NSPMKTD0:t.isBreak=!0;break;case q.NSPMKTD1:this.data=e.buf.readUInt8(q.NSPMKDAT),t.isBreak=!0,this.data==q.NIQRMARK&&(t.isReset=!0,t.isBreak=!0);break;default:Ys.throwErr(Ys.ERR_INVALID_PACKET)}}}c(pB,"MarkerPacket");function RB(){this.clear=function(){this.errno=0,this.notif=null,this.notifLen=0,this.cmd=0},this.fromPacket=function(i){let o,T,l;switch(this.cmd=i.buf.readUInt16BE(q.NSPCTLCMD),this.cmd){case q.NSPCTL_SERR:o=i.buf.readUInt32BE(q.NSPCTLDAT),T=i.buf.readUInt32BE(q.NSPCTLDAT+4),l=i.buf.readUInt32BE(q.NSPCTLDAT+8),T==12572?this.errno=T:T==12573?(this.errno=T,this.notifLen=l,this.notif=A_.allocUnsafe(l+1).fill(0),this.buf.copy(this.notif,0,q.NSPCTLDAT+12,q.NSPCTLDAT+12+l)):(this.errno=T,o==22?Ys.throwErr(Ys.ERR_CONNECTION_INBAND,"ORA-"+T):Ys.throwErr(Ys.ERR_CONNECTION_INBAND,"TNS-"+T));break;default:Ys.throwErr(Ys.ERR_INVALID_PACKET)}}}c(RB,"ControlPacket");yP.exports={ConnectPacket:SB,DataPacket:fB,AcceptPacket:AB,RefusePacket:dB,RedirectPacket:PB,MarkerPacket:pB,ControlPacket:RB}});var UP=b((Dx,YP)=>{"use strict";var{Buffer:mB}=require("buffer"),IB=require("net"),BP=require("process"),Di=require("tls"),DB=require("http"),CB=require("timers"),lu=Mn(),it=Z(),gB=8,OB=1521,LB=80,yB=4878,wB=1,Eu=class Eu{constructor(e){this.atts=e,this.cha=yB,this.connected=!1,this.err=!1,this.needsDrain=!1,this.numPacketsSinceLastWait=0,this.secure=!1,this.largeSDU=!1,this.streamNum=wB++,this.packetNum=1}dnMatch(e,t){if(this.atts.sslServerDNMatch){let n=c(o=>o.split(",").map(T=>T.split("=").map(l=>l.trim())).reduce((T,l)=>(T[l[0]]=l[1],T),{}),"toObject");if(this.atts.sslServerCertDN){let o=n(this.atts.sslServerCertDN);for(let T in o)if(o[T]!=t.subject[T])return it.getErr(it.ERR_TLS_DNMATCH_FAILURE)}else if(Di.checkServerIdentity(this.hostName,t)&&(!this.originHost||Di.checkServerIdentity(this.originHost,t))){let o=this.hostName+" "+(this.originHost?"or "+this.originHost:"");return it.getErr(it.ERR_TLS_HOSTMATCH_FAILURE,o)}}}async tlsConnect(e,t){this.stream.removeAllListeners();let n,o={host:this.host,socket:t,rejectUnauthorized:!0,secureContext:e,enableTrace:!1,checkServerIdentity:this.dnMatch.bind(this)};await new Promise(T=>{this.stream=Di.connect(o,()=>{this.stream.authorized||(n="server certificate unauthorized"),T()}).on("error",l=>{n=l.message,T()})}),n&&it.throwErr(it.ERR_TLS_AUTH_FAILURE,this.host,this.port,this.atts.connectionId,n),this.connStream=t}async ntConnect(e){e.port||(e.port=OB);let t,n,o,T=e.httpsProxy||this.atts.httpsProxy,l=e.httpsProxyPort||this.atts.httpsProxyPort;await new Promise(E=>{T?(l||(l=LB),o=DB.request({host:T,port:l,method:"CONNECT",path:e.host+":"+e.port}),o.once("connect",(S,R)=>{S.statusCode==200?(this.connected=!0,this.stream=R):n=S.statusCode,E()}),o.once("error",S=>{n=S.message,E()}),o.end()):(this.stream=IB.connect(e.port,e.host,()=>{this.connected=!0,E()}),this.stream.once("error",S=>{t=S.message,E()}))}),o&&o.removeAllListeners(),this.connected||(n?it.throwErr(it.ERR_PROXY_CONNECTION_FAILURE,T,l,this.atts.connectionId,n):it.throwErr(it.ERR_CONNECTION_INCOMPLETE,this.host,this.port,this.atts.connectionId,t))}async connect(e){this.originHost=e.originHost,this.host=e.host,this.hostName=e.hostname,this.port=e.port;try{if(await this.ntConnect(e),(this.atts.expireTime||this.atts.enableDCD)&&(this.atts.expireTime?this.stream.setKeepAlive(!0,this.atts.expireTime):this.stream.setKeepAlive(!0)),this.atts.tcpNoDelay&&this.stream.setNoDelay(!0),e.protocol.toUpperCase()=="TCPS"){let t;this.secure=!0;try{t=Di.createSecureContext({cert:this.atts.wallet,key:this.atts.wallet,passphrase:this.atts.walletPassword,ca:this.atts.wallet})}catch{it.throwErr(it.ERR_TLS_INIT_FAILURE)}await this.tlsConnect(t,this.stream)}}finally{this.stream&&this.setupEventHandlers()}}disconnect(e){this.connected&&!this.err&&(e==lu.NSFIMM?this.stream.destroy():this.stream.end()),this.stream=null,this.connected=!1,this.drainWaiter=null,this.readWaiter=null}getPacketDump(e){let t=[];for(let n=0;n<e.length;n+=8){let o=n.toString().padStart(4,"0"),T=e.slice(n,n+8),l=[],E=[];for(let d of T)l.push(d.toString(16).toUpperCase().padStart(2,"0")),d>32&&d<127?E.push(String.fromCharCode(d)):E.push(".");for(;l.length<8;)l.push("  "),E.push(" ");let S=l.join(" "),R=E.join("");t.push(`${o} : ${S} |${R}|`)}return t.join(`
`)}printPacket(e,t){let n=new Date,o=`${n.getFullYear()}-${n.getMonth().toString().padStart(2,"0")}-${n.getDay().toString().padStart(2,"0")} ${n.getHours().toString().padStart(2,"0")}:${n.getMinutes().toString().padStart(2,"0")}:${n.getSeconds().toString().padStart(2,"0")}.${n.getMilliseconds().toString().padStart(3,"0")}`,T=this.getPacketDump(t);console.log(`${o} ${e}:
${T}
`)}checkErr(){if(!this.connected||this.err){let e,t;throw this.savedErr?e=it.getErr(it.ERR_CONNECTION_LOSTCONTACT,this.host,this.port,this.atts.connectionId,this.savedErr.message):e=it.getErr(it.ERR_CONNECTION_EOF,this.host,this.port,this.atts.connectionId),t=it.getErr(it.ERR_CONNECTION_CLOSED),t.message=t.message+`
`+e.message,t}}send(e){this.checkErr(),BP.env.NODE_ORACLEDB_DEBUG_PACKETS&&this.printPacket(`Sending packet ${this.packetNum} on stream ${this.streamNum}`,e),this.stream.write(e,n=>{n&&(this.savedErr=n,this.err=!0,this._notifyWaiters())})||(this.needsDrain=!0),this.numPacketsSinceLastWait++,this.packetNum++}shouldPauseWrite(){return this.needsDrain||this.numPacketsSinceLastWait>=100}async pauseWrite(){this.checkErr(),this.needsDrain?(await new Promise(e=>{this.drainWaiter=e}),this.checkErr()):await new Promise(e=>CB.setImmediate(e)),this.numPacketsSinceLastWait=0}startRead(){let e;this.packets=[],this.stream.on("data",t=>{for(e?e=mB.concat([e,t]):e=t;e.length>=gB;){let n;if(this.largeSDU?n=e.readUInt32BE():n=e.readUInt16BE(),n>e.length)break;let o={buf:e.subarray(0,n),type:e[4],flags:e[5],num:this.packetNum++};if(this.packets.push(o),this.readWaiter&&(this.readWaiter(),this.readWaiter=null),BP.env.NODE_ORACLEDB_DEBUG_PACKETS&&this.printPacket(`Receiving packet ${o.num} on stream ${this.streamNum}`,o.buf),n===e.length){e=null;break}else e=e.subarray(n)}})}syncReceive(){return this.packets.shift()}async receive(){return this.packets.length===0&&(this.checkErr(),await new Promise(e=>{this.readWaiter=e,this.numPacketsSinceLastWait=0}),this.checkErr()),this.packets.shift()}async renegTLS(){try{this.checkErr();let e=Di.createSecureContext({cert:this.atts.wallet,key:this.atts.wallet,passphrase:this.atts.walletPassword,ca:this.atts.wallet});await this.tlsConnect(e,this.connStream)}finally{this.setupEventHandlers()}}setupEventHandlers(){this.stream.removeAllListeners(),this.stream.on("error",e=>{this.savedErr=e,this.err=!0,this._notifyWaiters()}),this.stream.on("end",()=>{this.err=!0,this._notifyWaiters()}),this.stream.on("close",()=>{this.connected=!1,this._notifyWaiters()}),this.stream.on("drain",()=>{this.needsDrain=!1,this.drainWaiter&&(this.drainWaiter(),this.drainWaiter=null)})}getOption(e){switch(this.checkErr(),e){case lu.NT_MOREDATA:return this.packets.length>0;case lu.REMOTEADDR:{let t=this.secure?this.connStream:this.stream;return t.remoteAddress+":"+t.remotePort}default:it.throwErr(it.ERR_INTERNAL,"getOption not supported for opcode "+e)}}_notifyWaiters(){this.drainWaiter&&(this.drainWaiter(),this.drainWaiter=null),this.readWaiter&&(this.readWaiter(),this.readWaiter=null)}};c(Eu,"NTTCP");var uu=Eu;YP.exports=uu});var xP=b((gx,VP)=>{"use strict";var BB=require("crypto"),YB=require("path"),MP=Mn(),UB=require("fs");async function MB(){return await new Promise((i,e)=>{BB.randomBytes(16,(t,n)=>{t?e(t):i(n)})})}c(MB,"genuuid");var Nu=class Nu{constructor(e){this.largeSDU=!1,this.tdu=MP.NSPDFTDULN,this.nt={},this.nt.tcpNoDelay=!0,this.uuid=e,this.nt.sslServerDNMatch=!0}setFrom(e){e&&(e.sdu>0&&(this.sdu=parseInt(e.sdu)),typeof e.walletLocation=="string"&&(this.nt.walletFile=YB.join(e.walletLocation,MP.PEM_WALLET_FILE_NAME)),typeof e.walletPassword=="string"&&(this.nt.walletPassword=e.walletPassword),e.expireTime>0&&(this.nt.expireTime=e.expireTime*1e3*60),e.connectTimeout>0&&(this.connectTimeout=e.connectTimeout*1e3),e.transportConnectTimeout>0&&(this.transportConnectTimeout=e.transportConnectTimeout*1e3),e.recvTimeout>0&&(this.recvTimeout=e.recvTimeout*1e3),e.sendTimeout>0&&(this.sendTimeout=e.sendTimeout*1e3),typeof e.connectionIdPrefix=="string"&&(this.connectionIdPrefix=e.connectionIdPrefix),typeof e.tcpNoDelay=="boolean"&&(this.nt.tcpNoDelay=e.tcpNoDelay),typeof e.sslServerDNMatch=="boolean"&&(this.nt.sslServerDNMatch=e.sslServerDNMatch),typeof e.sslServerCertDN=="string"&&(this.nt.sslServerCertDN=e.sslServerCertDN),typeof e.enable=="string"&&e.enable.toUpperCase()=="BROKEN"&&(this.nt.enabledDCD=!0),typeof e.httpsProxy=="string"&&(this.nt.httpsProxy=e.httpsProxy),e.httpsProxyPort>=0&&(this.nt.httpsProxyPort=parseInt(e.httpsProxyPort)))}readWalletFile(){return new Promise((e,t)=>{UB.readFile(this.nt.walletFile,(n,o)=>{n?t(n):e(o)})})}async prepare(e){this.uuid||(this.uuid=await MB(),this.uuid=this.uuid.toString("base64")),this.connectionIdPrefix?this.connectionId=this.connectionIdPrefix+this.uuid:this.connectionId=this.uuid,this.nt.connectionId=this.connectionId,e&&e.toUpperCase()=="TCPS"&&this.nt.walletFile&&(this.nt.wallet=await this.readWalletFile()),!this.connectTimeout&&!this.transportConnectTimeout&&(this.transportConnectTimeout=60*1e3)}};c(Nu,"SessionAtts");var hu=Nu;VP.exports=hu});var gi=b((Lx,qP)=>{"use strict";var ye=Z(),FP=0,Ci=1,Su=2,fu=3,d_=4,Cu=class Cu{constructor(e){this.name=e,this.listType=fu,this.rhsType=FP}set setAtom(e){this._containsComment(e)&&ye.throwErr(ye.ERR_INVALID_CONNECT_STRING_SYNTAX),this.rhsType=Ci,this.list=null,this.atom=e}_containsComment(e){for(let t=0;t<e.length;t++)if(e.charAt(t)=="#")if(t!=0){if(e.charAt(t-1)=="\\")continue;return!0}else return!0;return!1}getListSize(){return this.list==null?0:this.list.length}getListElement(e){return this.list==null?null:this.list[e]}addListElement(e){this.list==null&&(this.rhsType=Su,this.list=new Array,this.atom=null),this.list.push(e),e.parent=this}removeListElement(e){this.list!=null&&(this.list.splice(e,1),this.getListSize==0&&(this.list=null,this.rhsType=FP))}_space(e){var t="";for(let n=0;n<e;n++)t+=" ";return t}valueToString(){let e="";if(this.rhsType==Ci)e=e+this.atom;else if(this.rhsType==Su){if(this.listType==fu)for(let t=0;t<this.getListSize();t++)e=e+this.getListElement(t).toString();else if(this.listType==d_)for(let t=0;t<this.getListSize();t++){let n=this.getListElement(t);e=e+n.name,t!=this.getListSize()-1&&(e=e+", ")}}return e}toString(){let e="("+this.name+"=";if(this.rhsType==Ci)e=e+this.atom;else if(this.rhsType==Su){if(this.listType==fu)for(let t=0;t<this.getListSize();t++)e=e+this.getListElement(t).toString();else if(this.listType==d_){e=e+" (";for(let t=0;t<this.getListSize();t++){let n=this.getListElement(t);e=e+n.name,t!=this.getListSize()-1&&(e=e+", ")}e=e+")"}}return e=e+")",e}};c(Cu,"NVPair");var P_=Cu,VB=0,p_=1,Ru=2,Us=3,vP=4,R_=8,xB=9,Au="(",du=")",Pu=",",pu="=",FB="\\",bP='"',bB="'",vB="%",kB=" ",GB="	",HB=`
`,qB="\r",gu=class gu{constructor(){this.tkType=null,this.tkValue=null,this.numTokens=0,this.tkPos=0}_isWhiteSpace(e){return e==kB||e==GB||e==HB||e==qB}_trimWhiteSpace(e){let t=e.length,n=0,o=t;for(;n<t&&this._isWhiteSpace(e.charAt(n));)n++;for(;n<o&&this._isWhiteSpace(e.charAt(o-1));)o--;return e.substring(n,o)}parseTokens(e){this.numTokens=0,this.tkPos=0,this.tkType=new Array,this.tkValue=new Array;let t=e.length,n=!1,o=new Array;o=Array.from(e);let T=0;for(;T<t;){for(;T<t&&this._isWhiteSpace(o[T]);)T++;if(T<t)switch(o[T]){case Au:n=!1,this._addToken(p_,Au),T++;break;case pu:n=!0,this._addToken(vP,pu),T++;break;case du:n=!1,this._addToken(Ru,du),T++;break;case Pu:n=!1,this._addToken(Us,Pu),T++;break;default:{let l=T,E=-1,S=!1,R=bP;for((o[T]==bB||o[T]==bP)&&(S=!0,R=o[T],T++,l=T);T<t;){if(o[T]==FB){T+=2;continue}if(S){if(o[T]==R){T++,E=T-1;break}}else if(o[T]==Au||o[T]==du||o[T]==Pu&&!n||o[T]==pu&&!n){E=T;break}T++}E==-1&&(E=T),this._addToken(R_,e.substring(l,E).trim());break}}}return this._addToken(xB,vB),!0}getToken(){if(this.tkType==null&&ye.throwErr(ye.ERR_INVALID_CONNECT_STRING_SYNTAX),this.tkPos<this.numTokens)return Number(this.tkType[this.tkPos]);ye.throwErr(ye.ERR_INVALID_CONNECT_STRING_SYNTAX)}popToken(){let e=VB;return this.tkType==null&&ye.throwErr(ye.ERR_INVALID_CONNECT_STRING_SYNTAX),this.tkPos<this.numTokens?e=Number(this.tkType[this.tkPos++]):ye.throwErr(ye.ERR_INVALID_CONNECT_STRING_SYNTAX),e}getLiteral(){let e=null;return this.tkValue==null&&ye.throwErr(ye.ERR_INVALID_CONNECT_STRING_SYNTAX),this.tkPos<this.numTokens?e=String(this.tkValue[this.tkPos]):ye.throwErr(ye.ERR_INVALID_CONNECT_STRING_SYNTAX),e}popLiteral(){let e=null;return this.tkValue==null&&ye.throwErr(ye.ERR_INVALID_CONNECT_STRING_SYNTAX),this.tkPos<this.numTokens?e=String(this.tkValue[this.tkPos++]):ye.throwErr(ye.ERR_INVALID_CONNECT_STRING_SYNTAX),e}eatToken(){this.tkPos<this.numTokens&&this.tkPos++}toString(){if(this.tkType==null)return"*NO TOKENS*";let e="Tokens";for(let t=0;t<this.numTokens;t++)e=e+" : "+this.tkValue[t];return e}_addToken(e,t){this.tkType.push(Number(e)),this.tkValue.push(String(t)),this.numTokens++}};c(gu,"NVTokens");var mu=gu;function KB(i){let e=new mu;return e.parseTokens(i),WB(e)}c(KB,"createNVPair");function WB(i){let e=i.getToken();i.eatToken(),e!=p_&&ye.throwErr(ye.ERR_INVALID_CONNECT_STRING_SYNTAX);let t=Du(i),n=new P_(t);if((e=i.getToken())==Us){for(;e==R_||e==Us;)t+=i.popLiteral(),e=i.getToken();return n.name=t,Iu(n,i)}return Iu(n,i)}c(WB,"readTopLevelNVPair");function zB(i){let e=i.getToken();i.eatToken(),e==p_||e==Us||ye.throwErr(ye.ERR_INVALID_CONNECT_STRING_SYNTAX);let t=Du(i),n=new P_(t);return Iu(n,i)}c(zB,"readNVPair");function Iu(i,e){let t=e.getToken();switch(t){case vP:if(e.eatToken(),t=e.getToken(),t==R_){let n=Du(e);i.setAtom=n}else kP(e,i);break;case Us:case Ru:i.setAtom=i.name;break;default:ye.throwErr(ye.ERR_INVALID_CONNECT_STRING_SYNTAX)}return t=e.getToken(),t==Ru?e.eatToken():t!=Us&&ye.throwErr(ye.ERR_INVALID_CONNECT_STRING_SYNTAX),i}c(Iu,"readRightHandSide");function Du(i){return i.getToken()!=R_&&ye.throwErr(ye.ERR_INVALID_CONNECT_STRING_SYNTAX),i.popLiteral()}c(Du,"readNVLiteral");function kP(i,e){let t=i.getToken();if(!(t==p_||t==Us))return;let n=zB(i);e.addListElement(n),(t==Us||n.name==n.atom)&&e.getListType!=d_&&(e.setListType=d_),kP(i,e)}c(kP,"readNVList");function GP(i,e){if(!i)return null;if(e.toUpperCase()==i.name.toUpperCase())return i;if(i.getRHSType==Ci)return null;for(let t=0;t<i.getListSize();t++){let n=GP(i.getListElement(t),e);if(n!==null)return n}return null}c(GP,"findNVPairRecurse");function HP(i,e){if(!i||i.getRHSType==Ci)return null;for(let t=0;t<i.getListSize();t++){let n=i.getListElement(t);if(e.toUpperCase()==n.name.toUpperCase())return n}return null}c(HP,"findNVPair");function XB(i,e){if(!i||e[0].toUpperCase()!=i.name.toUpperCase())return null;let t=i,n=e.length;for(let o=1;o<n;o++)if(t=HP(t,e[o]),!t)return null;return t.atom==null?t.list==null?null:t.list.toString():t.atom.toString()}c(XB,"findValue");qP.exports={findNVPairRecurse:GP,createNVPair:KB,findNVPair:HP,findValue:XB}});var Vn=b((wx,XP)=>{"use strict";var WP=Ct(),m_=Z(),KP=require("os");function QB(){this.program=process.argv0,this.terminal="unknown",this.pid=process.pid.toString();try{this.userName=KP.userInfo().username}catch{this.userName="unknown"}this.hostName=KP.hostname()}c(QB,"populateClientInfo");var JB=new QB;function jB(i){let e=[];for(let t of i)e.push(t.fetchInfo);return e}c(jB,"getMetadataMany");function Ou(i,e){let t=i[0].name===void 0,n;t?n=[]:n={};for(let o=0;o<i.length;o++)i[o].dir!==WP.BIND_IN&&(t?n.push(i[o].values[e]):n[i[o].name]=i[o].values[e]);return n}c(Ou,"getOutBinds");function ZB(i,e){if(zP(i)===0)return;let n=new Array(e).fill(null);for(let o=0;o<e;o++)n[o]=Ou(i,o);return n}c(ZB,"getExecuteManyOutBinds");function zP(i){let e=0;for(let t=0;t<i.length;t++)i[t].dir!==WP.BIND_IN&&e++;return e}c(zP,"getNumOutBinds");function $B(i){if(zP(i)!==0)return Ou(i,0)}c($B,"getExecuteOutBinds");function eY(i){return i=i.trim(),i=i.replace(/\--.*(\n|$)/g,""),i=i.replace(/\/\\*[\S\n ]+\\*\//g,""),i=i.replace(/\s+/g," "),i}c(eY,"cleanSql");function tY(i){let e=[];for(let t of i.bindInfoList)e.push(t.bindVar);return e}c(tY,"getBindVars");function rY(i){let e="",t="",n=!1,o=!1,T=0,l,E={status:-1,proxyUser:"",schemaUser:""},S=i.length,R=0,d,L;for(;R<S;){if(i.charAt(R)==='"'&&(n=!n,T=R),i.charAt(R)==="["&&!n){if(o=!0,T!=0){for(d=T+1;d<R;d++)if(i.charAt(d)!==" ")return E;for(d=0;d<=T;d++)t+=i.charAt(d)}else for(d=0;d<R&&i.charAt(d)!==" ";d++)t+=i.charAt(d);break}R++}if(t.length===0)return E;for(E.proxyUser=t,R=R+1,n=!1,l=R,T=0;R<S;){if(i.charAt(R)==='"'&&(n=!n,T=R),i.charAt(R)==="["&&!n&&o)return E;if(i.charAt(R)==="]"&&!n){if(T!=l&&T!=0){for(d=l;d<=T;d++)e+=i.charAt(d);for(d=T+1;d<R;d++)if(i.charAt(d)!=" ")return E}else{for(d=l;d<R&&i.charAt(d)==" ";d++);if(d==R)return E;for(L=d;L<R;L++)e+=i[L]}for(d=R+1;d<S;d++)if(i[d]!=" ")return E}R++}return e.length===0||(E.schemaUser=e,E.status=0),E}c(rY,"checkProxyUserValidity");function sY(i){i.token===void 0&&(i.externalAuth===!0&&m_.throwErr(m_.ERR_NOT_IMPLEMENTED,"External Authentication"),i.password===void 0&&m_.throwErr(m_.ERR_MISSING_CREDENTIALS))}c(sY,"checkCredentials");XP.exports={getMetadataMany:jB,cleanSql:eY,CLIENT_INFO:JB,getExecuteOutBinds:$B,getExecuteManyOutBinds:ZB,getOutBinds:Ou,getBindVars:tY,checkProxyUserValidity:rY,checkCredentials:sY}});var ZP=b((Yx,jP)=>{"use strict";var{findNVPairRecurse:Oi,createNVPair:g_}=gi(),Lt=Z(),nY=require("os"),iY=require("net"),oY=require("dns"),QP=oY.promises,Lu=Vn().CLIENT_INFO,O_={ADDR:0,ADDR_LIST:1,DESC:2,DESC_LIST:3},Uu=class Uu{isS(){return O_.ADDR}initFromString(e){let t=g_(e);this.initFromNVPair(t)}initFromNVPair(e){(e==null||e.name.toUpperCase()!="ADDRESS")&&Lt.throwErr(Lt.ERR_INVALID_CONNECT_STRING_SYNTAX);let t=Oi(e,"protocol"),n=Oi(e,"port"),o=Oi(e,"host"),T=Oi(e,"https_proxy"),l=Oi(e,"https_proxy_port");n&&(this.port=n.atom),o&&(this.host=o.atom),t&&(this.prot=t.atom),T&&(this.httpsProxy=T.atom),l&&(this.httpsProxyPort=l.atom),this.addr=e.toString()}toString(){return this.addr}};c(Uu,"Address");var yu=Uu,Mu=class Mu{constructor(){this.children=new Array,this.sourceRoute=!1,this.loadBalance=!1,this.failover=!0}isS(){return O_.ADDR_LIST}initFromString(e){let t=g_(e);this.initFromNVPair(t)}initFromNVPair(e){this.children=[];let t,n,o=e.getListSize();o==0&&Lt.throwErr(Lt.ERR_INVALID_CONNECT_STRING_SYNTAX);for(let T=0;T<o;T++)t=e.getListElement(T),t.name.toUpperCase()=="SOURCE_ROUTE"?this.sourceRoute=t.atom.toLowerCase()=="yes"||t.atom.toLowerCase()=="on"||t.atom.toLowerCase()=="true":t.name.toUpperCase()=="LOAD_BALANCE"?this.loadBalance=t.atom.toLowerCase()=="yes"||t.atom.toLowerCase()=="on"||t.atom.toLowerCase()=="true":t.name.toUpperCase()=="FAILOVER"?this.failover=t.atom.toLowerCase()=="yes"||t.atom.toLowerCase()=="on"||t.atom.toLowerCase()=="true":t.name.toUpperCase()=="ADDRESS"?(n=new Li,n.initFromNVPair(t),this.children.push(n)):t.name.toUpperCase()=="ADDRESS_LIST"?(n=new yi,n.initFromNVPair(t),this.children.push(n)):Lt.throwErr(Lt.ERR_INVALID_CONNECT_STRING_SYNTAX);this.children.length==0&&Lt.throwErr(Lt.ERR_INVALID_CONNECT_STRING_SYNTAX)}toString(){let e=new String("");if(this.children.size()<1)return e;e+="(ADDRESS_LIST=";for(let t=0;t<this.children.size();t++)e+=this.children[t].toString();return this.sourceRoute&&(e+="(SOURCE_ROUTE=yes)"+xn.HC),this.loadBalance&&(e+="(LOAD_BALANCE=yes)"),this.failover||(e+="(FAILOVER=false)"),e+=")",e}};c(Mu,"AddressList");var wu=Mu,Vu=class Vu{constructor(){this.children=new Array,this.sourceRoute=!1,this.loadBalance=!1,this.failover=!0,this.delayInMillis=-1,this.params={}}isS(){return O_.DESC}initFromString(e){let t=g_(e);this.initFromNVPair(t)}initFromNVPair(e){let t=e.getListSize(),n,o;t==0&&Lt.throwErr(Lt.ERR_INVALID_CONNECT_STRING_SYNTAX);for(let T=0;T<t;T++)if(n=e.getListElement(T),n.name.toUpperCase()=="SOURCE_ROUTE")this.sourceRoute=n.atom.toLowerCase()=="yes"||n.atom.toLowerCase()=="on"||n.atom.toLowerCase()=="true";else if(n.name.toUpperCase()=="LOAD_BALANCE")this.loadBalance=n.atom.toLowerCase()=="yes"||n.atom.toLowerCase()=="on"||n.atom.toLowerCase()=="true";else if(n.name.toUpperCase()=="FAILOVER")this.failover=n.atom.toLowerCase()=="yes"||n.atom.toLowerCase()=="on"||n.atom.toLowerCase()=="true";else if(n.name.toUpperCase()=="ADDRESS_LIST")o=new yi,o.initFromNVPair(n),this.children.push(o);else if(n.name.toUpperCase()=="ADDRESS")o=new Li,o.initFromNVPair(n),this.children.push(o);else if(n.name.toUpperCase()=="CONNECT_DATA"){let l,E=n.getListSize();for(let S=0;S<E;S++)if(l=n.getListElement(S),l.name.toUpperCase()=="CONNECTION_ID_PREFIX"){this.params.connectionIdPrefix=l.atom,n.removeListElement(S);break}this.connectData=n.valueToString()}else if(n.name.toUpperCase()=="RETRY_DELAY")n.atom>0&&(this.delayInMillis=n.atom*1e3);else if(n.name.toUpperCase()=="RETRY_COUNT")this.retryCount=n.atom;else if(n.name.toUpperCase()=="CONNECTION_ID_PREFIX")this.conidPrefix=n.atom;else if(n.name.toUpperCase()=="CONNECT_TIMEOUT")n.atom>0&&(this.params.connectTimeout=n.atom);else if(n.name.toUpperCase()=="TRANSPORT_CONNECT_TIMEOUT")n.atom>0&&(this.params.transportConnectTimeout=n.atom);else if(n.name.toUpperCase()=="ENABLE")this.params.enable=n.atom;else if(n.name.toUpperCase()=="RECV_TIMEOUT")n.atom>0&&(this.params.recvTimeout=n.atom);else if(n.name.toUpperCase()=="SDU")this.params.sdu=n.atom;else if(n.name.toUpperCase()=="EXPIRE_TIME")n.atom>0&&(this.params.expireTime=n.atom);else if(n.name.toUpperCase()=="SECURITY"){let l=n.getListSize(),E;for(let S=0;S<l;S++)E=n.getListElement(S),E.name.toUpperCase()=="SSL_SERVER_CERT_DN"?this.params.sslServerCertDN=E.valueToString():E.name.toUpperCase()=="SSL_SERVER_DN_MATCH"?this.params.sslServerDNMatch=E.atom.toLowerCase()=="yes"||E.atom.toLowerCase()=="on"||E.atom.toLowerCase()=="true":(E.name.toUpperCase()=="WALLET_LOCATION"||E.name.toUpperCase()=="MY_WALLET_DIRECTORY")&&(this.params.walletLocation=E.atom)}}toString(){let e=new String(""),t;t=new String("");for(let n=0;n<this.children.size();n++)t=this.children[n].toString(),!t==""&&(e+=t);return!e==""&&this.sourceRoute&&(e+="(SOURCE_ROUTE=yes)"),!e==""&&this.loadBalance&&(e+="(LOAD_BALANCE=yes)"),!e==""&&!this.failover&&(e+="(FAILOVER=false)"),e.equals("")||(e="(DESCRIPTION="+e+")"),e}};c(Vu,"Description");var Bu=Vu,xu=class xu{constructor(){this.children=new Array,this.sourceRoute=!1,this.loadBalance=!0,this.failover=!0}isS(){return O_.ADDR_LIST}initFromString(e){let t=g_(e);this.initFromNVPair(t)}initFromNVPair(e){let t=e.getListSize(),n,o;t==0&&Lt.throwErr(Lt.ERR_INVALID_CONNECT_STRING_SYNTAX);for(let T=0;T<t;T++)o=e.getListElement(T),o.name.toUpperCase()=="SOURCE_ROUTE"?this.sourceRoute=o.atom.toLowerCase()=="yes"||o.atom.toLowerCase()=="on"||o.atom.toLowerCase=="true":o.name.toUpperCase()=="LOAD_BALANCE"?this.loadBalance=o.atom.toLowerCase()=="yes"||o.atom.toLowerCase()=="on"||o.atom.toLowerCase()=="true":o.name.toUpperCase()=="FAILOVER"?this.failover=o.atom.toLowerCase()=="yes"||o.atom.toLowerCase()=="on"||o.atom.toLowerCase()=="true":o.name.toUpperCase()=="DESCRIPTION"?(n=new D_,n.initFromNVPair(o),this.children.push(n)):Lt.throwErr(Lt.ERR_INVALID_CONNECT_STRING_SYNTAX);this.children.length==0&&Lt.throwErr(Lt.ERR_INVALID_CONNECT_STRING_SYNTAX)}toString(){let e=new String("");if(this.children.size()<1)return e;let t=new String("");for(let n=0;n<this.children.size();n++)t=this.children[n].toString(),t.equals("")||(e+=t);return e.equals("")&&this.sourceRoute&&(e+="(SOURCE_ROUTE=yes)"),e.equals("")&&!this.loadBalance&&(e+="(LOAD_BALANCE=no)"),e.equals("")&&!this.failover&&(e+="(FAILOVER=false)"),e.equals("")||(e="(DESCRIPTION_LIST="+e+")"),e}};c(xu,"DescriptionList");var Yu=xu,Fu=class Fu{constructor(){this.CNdata=new Array}};c(Fu,"ConnOption");var I_=Fu,xn={DEBUG:!1,SR:"(SOURCE_ROUTE=yes)",HC:"(HOP_COUNT=0)",LB:"(LOAD_BALANCE=yes)",NFO:"(FAILOVER=false)",CD:"(CONNECT_DATA=",CONID:"(CONNECTION_ID="},JP={all:!0},bu=class bu extends yu{constructor(){super()}async navigate(e){let t,n=0,o=!1;if(!this.host){n=1,this.host=nY.hostname();try{await QP.lookup(this.host,JP)}catch{this.host="localhost"}}if(e.getcurrentDescription()==null&&(e.newConnectionDescription(),o=!0),iY.isIP(this.host)){let T=new I_;T.hostname=this.host,T.port=this.port,T.protocol=this.prot,T.httpsProxy=this.httpsProxy,T.httpsProxyPort=this.httpsProxyPort,T.desc=e.getcurrentDescription(),T.CNdata.push(e.sBuf.join("")),T.CNdata.push(this.toString()),T.host=this.host,T.addr=this.addr,e.getcurrentDescription().addConnectOption(T)}else try{t=await QP.lookup(this.host,JP);for(let T in t){let l=new I_;l.hostname=this.host,l.port=this.port,l.protocol=this.prot,l.httpsProxy=this.httpsProxy,l.httpsProxyPort=this.httpsProxyPort,l.desc=e.getcurrentDescription(),l.CNdata.push(e.sBuf.join("")),n==1?l.CNdata.push("(address=(protocol="+this.prot+")(host="+this.host+")(port="+this.port+"))"):l.CNdata.push(this.toString()),l.host=t[T].address,l.addr=this.addr,e.getcurrentDescription().addConnectOption(l)}}catch{}o&&e.closeDescription()}addToString(e){let t=this.toString(),n=new Array;n=e.getcurrentDescription().getConnectOptions();for(let o=0;o<n.length;o++)n[o].done||n[o].CNdata.push(t)}};c(bu,"NavAddress");var Li=bu,vu=class vu extends wu{constructor(){super(),this.activeChildren=new Array,this.sBuflength=0}async navigate(e){await this.navigate2(e,0)}async navigate2(e,t){if(t++,this.sBuflength=e.sBuf.length,e.sBuf.push("(ADDRESS_LIST="),this.sourceRoute){this.activeChildren=this.children,await this.activeChildren[0].navigate(e);for(let n=1;n<this.activeChildren.length;n++)this.activeChildren[n].addToString(e)}else{this.activeChildren=wi.setActiveChildren(this.children,this.failover,this.loadBalance);for(let n=0;n<this.activeChildren.length;n++)this.getChildrenType(n)==1?await this.activeChildren[n].navigate2(e,t):await this.activeChildren[n].navigate(e)}this.closeNVPair(e),e.sBuf.length=this.sBuflength}addToString(e){let t=this.toString(),n=new Array;n=e.getcurrentDescription().getConnectOptions();for(let o=0;o<n.length;o++)n[o].done||n[o].CNdata.push(t)}getChildrenSize(){let e=0;for(let t=0;t<this.activeChildren.length;t++)if(this.getChildrenType(t)==1?e+=this.activeChildren[t].getChildrenSize():e++,this.sourceRoute)return e;return e}getChildrenType(e){return this.activeChildren[e].isS()}getChild(e){return this.children[e]}closeNVPair(e){let t=new Array,n=this.getChildrenSize();if(e.getcurrentDescription()!=null){t=e.getcurrentDescription().getConnectOptions();let o=0,T=null,l=null;for(let E=t.length-1;E>=0&&!t[E].done&&((t[E].hostname!=T||t[E].port!=l)&&o++,T=t[E].hostname,l=t[E].port,!(o>n));E--)this.sourceRoute&&(t[E].CNdata.push(xn.SR),t[E].CNdata.push(xn.HC),t[E].done=!0),t[E].CNdata.push(")")}}};c(vu,"NavAddressList");var yi=vu,ku=class ku extends Bu{constructor(){super(),this.activeChildren=new Array,this.descProcessed=0}async navigate(e){e.sBuf.length=0,e.sBuf.push("(DESCRIPTION=");let t=e.newConnectionDescription();if(this.retryCount!=null&&(e.retryCount=this.getIntValue(this.retryCount,e.retryCount),t.retryCount=e.retryCount),this.delayInMillis!=-1&&(t.delayInMillis=this.delayInMillis),t.params=this.params,"connectTimeout"in this.params&&e.sBuf.push("(CONNECT_TIMEOUT="+this.params.connectTimeout+")"),"transportConnectTimeout"in this.params&&e.sBuf.push("(TRANSPORT_CONNECT_TIMEOUT="+this.params.transportConnectTimeout+")"),"recvTimeout"in this.params&&e.sBuf.push("(RECV_TIMEOUT="+this.params.recvTimeout+")"),"sdu"in this.params&&e.sBuf.push("(SDU="+this.params.sdu+")"),"expireTime"in this.params&&e.sBuf.push("(EXPIRE_TIME="+this.params.expireTime+")"),"enable"in this.params&&e.sBuf.push("(ENABLE="+this.params.enable+")"),("sslServerCertDN"in this.params||"sslServerDNMatch"in this.params||"walletLocation"in this.params)&&(e.sBuf.push("(SECURITY="),"sslServerCertDN"in this.params&&e.sBuf.push("(SSL_SERVER_CERT_DN="+this.params.sslServerCertDN+")"),"sslServerDNMatch"in this.params&&e.sBuf.push("(SSL_SERVER_DN_MATCH="+this.params.sslServerDNMatch+")"),"walletLocation"in this.params&&e.sBuf.push("(WALLET_LOCATION="+this.params.walletLocation+")"),e.sBuf.push(")")),"httpsProxyPort"in this.params&&e.sBuf.push("(HTTPS_PROXY_PORT="+this.params.httpsProxyPort+")"),"httpsProxy"in this.params&&e.sBuf.push("(HTTPS_PROXY="+this.params.httpsProxy+")"),this.failover||e.sBuf.push(xn.NFO),this.sourceRoute){this.activeChildren=this.children,await this.activeChildren[0].navigate(e);for(let n=1;n<this.activeChildren.length;n++)this.activeChildren[n].addToString(e);this.closeNVPair(e)}else{this.activeChildren=wi.setActiveChildren(this.children,this.failover,this.loadBalance);for(let n=0;n<this.activeChildren.length;n++)await this.activeChildren[n].navigate(e);this.closeNVPair(e)}e.closeDescription()}closeNVPair(e){if(e.getcurrentDescription()==null)return;let t=new Array;t=e.getcurrentDescription().getConnectOptions();for(let n=0;n<t.length;++n){this.sourceRoute&&t[n].CNdata.push(xn.SR),this.connectData==null&&(this.connectData="(SERVICE_NAME=)");let o=`(CID=(PROGRAM=${Lu.program})(HOST=${Lu.hostName})(USER=${Lu.userName}))`;t[n].CNdata.push(xn.CD),t[n].CNdata.push(this.connectData),t[n].CNdata.push(o),t[n].CNdata.push(")"),this.SID!=null&&(t[n].sid=this.SID),this.serviceName!=null&&(t[n].service_name=this.serviceName),this.instanceName!=null&&(t[n].instance_name=this.instanceName),t[n].CNdata.push(")"),t[n].done=!0}}getIntValue(e,t){try{return parseInt(e)}catch{return t}}};c(ku,"NavDescription");var D_=ku,C_=class C_ extends Yu{constructor(e=new Array,t=0,n=0){super(),this.activeChildren=e,this.descProcessed=t,this.done=n}async navigate(e){for(e.sBuf.push("(DESCRIPTION_LIST="),this.activeChildren=C_.setActiveChildren(this.children,this.failover,this.loadBalance);this.descProcessed<this.activeChildren.length;)await this.activeChildren[this.descProcessed].navigate(e),this.descProcessed++}static setActiveChildren(e,t,n){let o,T=e.length,l=new Array,E=Math.floor(Math.random()*10),S=new Array(T).fill(!1);if(t)if(n)for(let R=0;R<T;R++){do o=Math.abs(Math.floor(Math.random()*10))%T;while(S[o]);S[o]=!0,l.push(e[o])}else l=e;else n?(o=Math.abs(E)%T,l.push(e[o])):l.push(e[0]);return l}};c(C_,"NavDescriptionList");var wi=C_;jP.exports={NavAddress:Li,NavAddressList:yi,NavDescription:D_,NavDescriptionList:wi}});var tp=b((Mx,ep)=>{"use strict";var{NavAddress:_Y,NavAddressList:aY,NavDescription:TY,NavDescriptionList:cY}=ZP(),{createNVPair:lY}=gi(),$P=Z(),qu=class qu{constructor(){this.cOpts=new Array}addConnectOption(e){this.cOpts.push(e)}getConnectOptions(){return this.cOpts}};c(qu,"ConnectDescription");var Gu=qu,Ku=class Ku{constructor(){this.nextOptToTry=0,this.retryCount=0,this.lastRetryCounter=0,this.lastRetryConnectDescription=0,this.currentDescription=null,this.descriptionList=new Array,this.sBuf=new Array}hasMoreOptions(){let e=0;for(let t=0;t<this.descriptionList.length;++t)e+=this.descriptionList[t].getConnectOptions().length;return this.nextOptToTry<e}newConnectionDescription(){return this.currentDescription=new Gu,this.currentDescription}getcurrentDescription(){return this.currentDescription}closeDescription(){this.descriptionList.push(this.currentDescription),this.currentDescription=null}async execute(e){e!=null&&this.retryCount==0&&e.retryCount>0&&(this.retryCount=e.retryCount);for(let t=this.lastRetryConnectDescription;t<this.descriptionList.length;t++){let n=this.descriptionList[t],o=new Array;o=n.getConnectOptions();let T=n.delayInMillis;e!=null&&(T==0||T==null)&&e.retryDelay>0&&(T=e.retryDelay*1e3);for(let l=this.lastRetryCounter;l<=this.retryCount;++l){for(;this.nextOptToTry<o.length;){let E=o[this.nextOptToTry];return this.lastRetryCounter=l,this.lastRetryConnectDescription=t,this.nextOptToTry++,E}this.nextOptToTry=0,T>0&&l<this.retryCount&&await uY(T)}this.lastRetryCounter=0}throw this.nextOptToTry=1e3,this.lastRetryCounter=1e3,new Error("All options tried")}};c(Ku,"ConnStrategy");var Hu=Ku;function uY(i){return new Promise(e=>setTimeout(e,i))}c(uY,"sleep");async function EY(i){let e;typeof i=="string"?e=lY(i):e=i;let t=e.name.toUpperCase(),n=null;switch(t){case"ADDRESS":n=new _Y;break;case"ADDRESS_LIST":n=new aY;break;case"DESCRIPTION":n=new TY;break;case"DESCRIPTION_LIST":n=new cY;break;default:$P.throwErr($P.ERR_INVALID_CONNECT_STRING_PARAMETERS,`unknown top element ${t}`)}n.initFromNVPair(e);let o=new Hu;return await n.navigate(o),o}c(EY,"createNode");ep.exports={createNode:EY}});var ip=b((xx,np)=>{"use strict";var{lookup:hY}=require("dns").promises,vr=Z(),sp=new RegExp("((?=(?<hostnames>(((\\[[A-z0-9:]+\\])|([A-z0-9][A-z0-9._-]+))[,]?)+)))\\k<hostnames>(:(?<port>\\d+)?)?","g"),NY=new RegExp("^(((?<protocol>[A-z0-9]+):)?//)?(?<hostinfo>("+sp.source+"(?=([,]|[;]|[/]|[:]|$))([,]|[;])?)+)(/(?<servicename>[A-z0-9][A-z0-9,-.]+)?)?(:(?<servermode>dedicated|shared|pooled))?(/(?<instance>[A-z0-9][A-z0-9]+))?$","ig"),rp='"',SY="=",fY="&",AY=["ENABLE","FAILOVER","LOAD_BALANCE","RECV_BUF_SIZE","SEND_BUF_SIZE","SDU","SOURCE_ROUTE","RETRY_COUNT","RETRY_DELAY","CONNECT_TIMEOUT","TRANSPORT_CONNECT_TIMEOUT","RECV_TIMEOUT"],zu=class zu{constructor(e){this.URL_PROPS_ALIAS=this.initializeUrlAlias();let t=e.indexOf("@");t!=-1?(this.url=e.substring(t+1),this.urlPrefix=e.substring(0,t+1)):(this.url=e,this.urlPrefix=""),this.resolvedUrl="",this.connectionProps=new Map,this.urlProps=new Map,this.lb=!1}async getResolvedUrl(){return await this.parse(),this.resolvedUrl}async parse(){let e=this.parseExtendedSettings(this.url);this.connectionProps.size===0&&this.urlProps.size===0&&(e=this.url),e.startsWith("(")?this.resolvedUrl=this.urlPrefix+e:this.resolvedUrl=this.urlPrefix+await this.resolveToLongURLFormat(e)}async resolveToLongURLFormat(e){let t=e.replace(/\s/g,""),n=0,o=null,T=null,l=null,E=null,S=null;for(let P of t.matchAll(NY))n=1,o=P.groups.protocol,T=P.groups.hostinfo,l=P.groups.servicename,E=P.groups.servermode,S=P.groups.instance;n||vr.throwErr(vr.ERR_INVALID_EZCONNECT_SYNTAX,"input string not in easy connect format",t),o==null?e.includes("//")||(o="TCP"):o.toLowerCase()!="tcp"&&o.toLowerCase()!="tcps"&&vr.throwErr(vr.ERR_INVALID_EZCONNECT_SYNTAX,"Unsupported protocol in thin mode",o);let R=this.urlProps.get("HTTPS_PROXY"),d=this.urlProps.get("HTTPS_PROXY_PORT"),L=await this.buildAddressList(T,o,R,d),w=this.urlProps.get("CONNECTION_ID_PREFIX"),O=[];return this.lb&&O.push("(LOAD_BALANCE=ON)"),O.push(this.buildDescriptionParams()),O.push(L),O.push(this.buildConnectData(l,E,S,w)),O.push(this.buildSecurityInfo(o)),`(DESCRIPTION=${O.join("")})`}buildConnectData(e,t,n,o){let T=this.urlProps.get("POOL_CONNECTION_CLASS"),l=this.urlProps.get("POOL_PURITY"),E=this.urlProps.get("SERVICE_TAG"),S=[];return e?S.push(`(SERVICE_NAME=${e})`):S.push("(SERVICE_NAME=)"),t&&S.push(`(SERVER=${t})`),n&&S.push(`(INSTANCE_NAME=${n})`),T&&S.push(`(POOL_CONNECTION_CLASS=${T})`),l&&S.push(`(POOL_PURITY=${l})`),E&&S.push(`(SERVICE_TAG=${E})`),o&&S.push(`(CONNECTION_ID_PREFIX=${o})`),`(CONNECT_DATA=${S.join("")})`}async buildAddressList(e,t,n,o){let T="",l=0,E=new Array,S="";n!=null&&(o!=null?S=`(HTTPS_PROXY=${n})(HTTPS_PROXY_PORT=${o})`:S=`(HTTPS_PROXY=${n})`),t==null&&(t="TCP");let R=0,d=e.split(";");for(let L in d){let w=0,O=new Array;for(let g of d[L].matchAll(sp)){let x=g.groups.hostnames.split(","),I=g.groups.port;I==null&&(I="1521");for(let G in x)O.push(this.getAddrStr(x[G],I,t,S)),T=x[G],w++}R+=w;let P=[];d.length>1&&w>1&&P.push("(LOAD_BALANCE=ON)"),P.push(O.join("")),d.length>1?E.push(`(ADDRESS_LIST=${P.join("")})`):E.push(P.join(""))}if(R==1){T=T.trim(),T.startsWith("[")&&T.endsWith("]")&&(T=T.substring(1,T.length-1));try{await hY(T),l++}catch{}l==0&&vr.throwErr(vr.ERR_INVALID_EZCONNECT_SYNTAX,"could not resolve hostname",T)}return d.length<2&&R>1&&(this.lb=!0),E.join("")}getAddrStr(e,t,n,o){let T=e.trim();return T.startsWith("[")&&T.endsWith("]")&&(T=T.substring(1,T.length-1)),`(ADDRESS=(PROTOCOL=${n})(HOST=${T})(PORT=${t})${o})`}buildDescriptionParams(){if(this.urlProps.size===0)return"";let e=new Array;return this.urlProps.forEach(function(t,n){AY.includes(n)&&e.push(`(${n}=${t})`)}),e.join("")}buildSecurityInfo(e){let t=new Array;if(e!=null&&e.toLowerCase()=="tcps"){let n=this.urlProps.get("SSL_SERVER_DN_MATCH")||"TRUE",o=this.urlProps.get("SSL_SERVER_CERT_DN"),T=this.urlProps.get("MY_WALLET_DIRECTORY");t.push(`(SSL_SERVER_DN_MATCH=${n})`),o!=null&&t.push(`(SSL_SERVER_CERT_DN=${o}})`),T!=null&&t.push(`(MY_WALLET_DIRECTORY=${T})`)}return t.length===0?"":`(SECURITY=${t.join("")})`}parseExtendedSettings(e){let t=Array.from(e.trim()),n=this.findExtendedSettingPosition(t);return n==-1?e:(this.parseExtendedProperties(t,n+1),e.substring(0,n))}parseExtendedProperties(e,t){let n=null,o=null,T=new Array(e.length),l=0,E="";for(let S=t;S<e.length;S++)if(e[S].trim()!="")switch(e[S]){case rp:E=this.parseQuotedString(S,e,l,T),l=E[1],S=E[0];break;case SY:n!=null&&vr.throwErr(vr.ERR_INVALID_EZCONNECT_SYNTAX,"unable to parse, invalid syntax",this.url),n=T.join("").substring(0,l).trim(),l=0;break;case fY:n==null&&vr.throwErr(vr.ERR_INVALID_EZCONNECT_SYNTAX,"unable to parse, invalid syntax",this.url),o=T.join("").substring(0,l).trim(),this.addParam(n,o),n=null,o=null,l=0;break;default:T[l++]=e[S]}n!=null&&(o=T.join("").substring(0,l).trim(),this.addParam(n,o))}parseQuotedString(e,t,n,o){let T=e+1;for(;T<t.length;){let l=t[T];if(l==rp)return[T,n];o[n++]=l,T++}}addParam(e,t){let n=e.toLowerCase(),o=this.URL_PROPS_ALIAS.get(n);o!=null?this.urlProps.set(o,t):this.connectionProps.set(o,t)}findExtendedSettingPosition(e){let t=0;for(let n=0;n<e.length;n++)if(e[n]=="(")t++;else if(e[n]==")")t--;else if(e[n]=="?"&&t==0)return n;return-1}initializeUrlAlias(){let e=new Map;return e.set("enable","ENABLE"),e.set("failover","FAILOVER"),e.set("load_balance","LOAD_BALANCE"),e.set("recv_buf_size","RECV_BUF_SIZE"),e.set("send_buf_size","SEND_BUF_SIZE"),e.set("sdu","SDU"),e.set("source_route","SOURCE_ROUTE"),e.set("retry_count","RETRY_COUNT"),e.set("retry_delay","RETRY_DELAY"),e.set("https_proxy","HTTPS_PROXY"),e.set("https_proxy_port","HTTPS_PROXY_PORT"),e.set("connect_timeout","CONNECT_TIMEOUT"),e.set("transport_connect_timeout","TRANSPORT_CONNECT_TIMEOUT"),e.set("recv_timeout","RECV_TIMEOUT"),e.set("ssl_server_cert_dn","SSL_SERVER_CERT_DN"),e.set("ssl_server_dn_match","SSL_SERVER_DN_MATCH"),e.set("wallet_location","MY_WALLET_DIRECTORY"),e.set("pool_connection_class","POOL_CONNECTION_CLASS"),e.set("pool_purity","POOL_PURITY"),e.set("service_tag","SERVICE_TAG"),e.set("connection_id_prefix","CONNECTION_ID_PREFIX"),e}};c(zu,"EZConnectResolver");var Wu=zu;np.exports=Wu});var Tp=b((bx,ap)=>{"use strict";var{createNVPair:dY,findValue:PY}=gi(),L_=require("fs"),_p=require("process"),pY=require("readline"),Fn=Z();function RY(i){let e=null,t=_p.env.TNS_ADMIN;if(i){if(e=i+"/tnsnames.ora",L_.existsSync(e))return e;Fn.throwErr(Fn.ERR_TNS_NAMES_FILE_MISSING,i)}else return t?(e=t,e+="/tnsnames.ora",L_.existsSync(e)||Fn.throwErr(Fn.ERR_TNS_NAMES_FILE_MISSING,t)):Fn.throwErr(Fn.ERR_NO_CONFIG_DIR),e}c(RY,"tnsnamesFilePath");var op=0,Qu=class Qu{async initializeNlpa(e){let t=L_.statSync(e);if(!(t.mtime-op))return this.ht;let n=pY.createInterface({input:L_.createReadStream(e),output:_p.stdout,terminal:!1});return this.ht=new Map,await c(async()=>{let T="";for await(let l of n)if(l.length!=0){if(l[0]=="#")continue;if(l[0]==" "||l[0]=="	"||l[0]==")"||l[0]=="("){if(l=l.replace(/\s+/g,""),l=this.checkNLPforComments(l),l.length==0)continue;T=T+l}else T.length==0?(l=this.checkNLPforComments(l),T=T+l):T.length!=0&&(this.addNLPListElement(T),T="",l=this.checkNLPforComments(l),T=T+l)}return T.length!=0&&(this.addNLPListElement(T),T=""),op=t.mtime,this.ht},"start")()}checkNLPforComments(e){let t=new Array(e.length);for(let n=0;n<e.length;n++){let o=e[n];if(o=="#"){if(n!=0)break;return""}else t.push(o)}return t.join("")}addNLPListElement(e){let t=e.split(/\r?\n/).filter(n=>n);for(let n=0;n<t.length;n++){t[n].charAt(0)!="("&&(t[n]="("+t[n]+")");let o=dY(t[n]),l=o.name.toUpperCase();o.name=l;let E=l.split(",");for(let S=0;S<E.length;S++)this.ht.set(E[S],o)}}toString(){let e="";return this.ht.forEach(t=>{e=e+t.toString()+`
`}),e}findValueOf(e){let t=e.split("/");return PY(this.ht.get(t[0].toUpperCase()),t)}};c(Qu,"NLParamParser");var Xu=Qu;ap.exports={NLParamParser:Xu,tnsnamesFilePath:RY}});var eE=b((kx,up)=>{"use strict";var yr=wP(),mY=UP(),IY=xP(),se=Mn(),{createNode:DY}=tp(),ke=Z(),{findNVPairRecurse:CY,createNVPair:y_,findValue:kr}=gi(),{Buffer:cp}=require("buffer"),gY=ip(),{NLParamParser:OY,tnsnamesFilePath:LY}=Tp(),yY=require("process");async function wY(i){let e=await lp(i.connectString,i.configDir),t;typeof e=="string"?t=y_(e):t=e;let n=kr(t,["DESCRIPTION","CONNECT_DATA","SERVER"]),o=kr(t,["DESCRIPTION","CONNECT_DATA","POOL_CONNECTION_CLASS"]),T=kr(t,["DESCRIPTION","CONNECT_DATA","SERVICE_NAME"]),l=kr(t,["DESCRIPTION","CONNECT_DATA","POOL_PURITY"]);return[n,o,T,l]}c(wY,"getConnectionInfo");var BY=new OY;async function lp(i,e){let t=i.trim(),n=t;if(t.indexOf(")")==-1||t.indexOf("(")!=0)try{n=await new gY(t).getResolvedUrl()}catch(o){try{let T=LY(e);n=(await BY.initializeNlpa(T)).get(t.toUpperCase()),n||ke.throwErr(ke.ERR_TNS_ENTRY_NOT_FOUND,t,e?e+"/tnsnames.ora":yY.env.TNS_ADMIN+"/tnsnames.ora"),n=n.getListElement(0)}catch(T){throw t.indexOf(":")!=-1||t.indexOf("/")!=-1?o:T}}return n}c(lp,"resolveConnectStr");async function ju(i,e){let t=await lp(i,e);return DY(t)}c(ju,"resolveAddress");function Ju(i,e,t,n,o){let T,l=new Promise((E,S)=>{e>2147483647&&(e=2147483647),T=setTimeout(()=>S(ke.getErr(ke.ERR_CONNECTION_TIMEDOUT,n.host,n.port,t,e/1e3,o)),e)});return Promise.race([i,l]).then(E=>(clearTimeout(T),E)).catch(E=>{throw clearTimeout(T),E})}c(Ju,"timeout");var $u=class $u{constructor(){this.connected=!1,this.isBreak=!1,this.isReset=!1,this.breakPosted=!1}async getAddress(e,t){let n=await e.execute(t),o=this.sAtts?this.sAtts.uuid:null;this.sAtts=new IY(o),this.sAtts.setFrom(t),this.sAtts.setFrom(n.desc.params),await this.sAtts.prepare(n.protocol);let T=y_(n.CNdata.join("")),l=CY(T,"CONNECT_DATA"),E=`(CONNECTION_ID=${this.sAtts.connectionId})`,S=y_(E);return l.addListElement(S),this.cData=cp.from(T.toString(),"ascii"),this.cDataNVPair=T,n}async transportConnect(e){e.protocol.toUpperCase()=="TCP"&&e.httpsProxy&&ke.throwErr(ke.ERR_INVALID_CONNECT_STRING_PARAMETERS,"https proxy requires protocol as","tcps "),e.protocol&&(e.protocol.toUpperCase()=="TCP"||e.protocol.toUpperCase()=="TCPS")?this.ntAdapter=new mY(this.sAtts.nt):ke.throwErr(ke.ERR_INVALID_CONNECT_STRING_PARAMETERS,e.protocol+" protocol not supported"),await this.ntAdapter.connect(e),this.ntAdapter.startRead(),this.sAtts.ntCha=this.ntAdapter.cha,this.sndDatapkt=new yr.DataPacket(this.sAtts.largeSDU),this.rcvDatapkt=new yr.DataPacket(this.sAtts.largeSDU)}_sendConnect(e){this._sendPacket(e.buf),e.overflow&&(this._send(e.connectData,0,e.connectDataLen),this.flush())}async connect2(e){if(this.sAtts.sdu?this.sAtts.sdu>se.NSPABSSDULN?this.sAtts.sdu=se.NSPABSSDULN:this.sAtts.sdu<se.NSPMNSDULN&&(this.sAtts.sdu=se.NSPMNSDULN):this.sAtts.sdu=se.NSPDFSDULN,this.sAtts.transportConnectTimeout){let n=this.transportConnect(e);await Ju(n,this.sAtts.transportConnectTimeout,"transportConnectTimeout",e,this.sAtts.connectionId)}else await this.transportConnect(e);let t=new yr.ConnectPacket(this.cData,this.sAtts);for(this._sendConnect(t);;){let n=await this._recvPacket();if(n.type===se.NSPTAC)break;if(n.type===se.NSPTRF){this.refusePkt.overflow&&(await this._recvPacket(),this.refusePkt.dataBuf=this.rcvDatapkt.buf.subarray(this.rcvDatapkt.offset,this.rcvDatapkt.len).toString());let o=y_(this.refusePkt.dataBuf);this.refusePkt=null;let T=kr(o,["DESCRIPTION","ERR"]);T=="12514"?ke.throwErr(ke.ERR_INVALID_SERVICE_NAME,this.getOption(se.SVCNAME),e.host,e.port,this.sAtts.connectionId):T=="12505"?ke.throwErr(ke.ERR_INVALID_SID,this.getOption(se.SID),e.host,e.port,this.sAtts.connectionId):T?ke.throwErr(ke.ERR_CONNECTION_REFUSED,e.host,e.port,this.sAtts.connectionId,"ORA-"+T):ke.throwErr(ke.ERR_CONNECTION_REFUSED,e.host,e.port,this.sAtts.connectionId,"refused")}else if(n.type===se.NSPTRS)(n.flags&se.NSPFSRN)==se.NSPFSRN&&(await this.ntAdapter.renegTLS(),this.ntAdapter.startRead()),this._sendConnect(t);else if(n.type===se.NSPTRD){let o,T,l,E;this.redirectPkt.overflow&&(await this._recvPacket(),this.redirectPkt.dataBuf=this.rcvDatapkt.buf.subarray(this.rcvDatapkt.offset,this.rcvDatapkt.len)),this.redirectPkt.flags&se.NSPFRDS?(o=this.redirectPkt.dataBuf.indexOf("\0",0,"ascii"),T=this.redirectPkt.dataBuf.toString("ascii",0,o),E=this.redirectPkt.dataBuf.subarray(o+1,this.redirectPkt.dataLen)):(T=this.redirectPkt.dataBuf.toString("ascii"),E=this.cData),l=await ju(T);let S=e.host;if(e=await l.execute(),e.desc&&this.sAtts.setFrom(e.desc.params),e.originHost=S,this.redirectPkt=null,this.ntAdapter.disconnect(se.NSFIMM),this.sAtts.transportConnectTimeout){let R=this.transportConnect(e);await Ju(R,this.sAtts.transportConnectTimeout,"transportConnectTimeout",e,this.sAtts.connectionId)}else await this.transportConnect(e);t=new yr.ConnectPacket(E,this.sAtts,se.NSPFRDR),this.sndDatapkt=new yr.DataPacket(this.sAtts.largeSDU),this._sendConnect(t)}}return this.connected=!0,this.cData=null,this.sndDatapkt=new yr.DataPacket(this.sAtts.largeSDU),this.sndDatapkt.createPacket(se.NSPDADAT),this.sndDatapkt.offset=this.sndDatapkt.dataPtr,this.sndDatapkt.len=this.sndDatapkt.bufLen,this.markerPkt=new yr.MarkerPacket(this.sAtts.largeSDU),this.controlPkt=new yr.ControlPacket,this.ntAdapter.largeSDU=this.sAtts.largeSDU,this.sAtts.nt.wallet=null,this.sAtts.nt.walletPassword=null,!0}async connect1(e,t,n){let o,T;do try{if(this.sAtts.connectTimeout){let l=this.connect2(e);o=await Ju(l,this.sAtts.connectTimeout,"connectTimeout",e,this.sAtts.connectionId)}else o=await this.connect2(e)}catch(l){l.message.startsWith("NJS-510")&&(this.ntAdapter.connected=!0),this.ntAdapter&&(this.ntAdapter.disconnect(se.NSFIMM),this.ntAdapter=null),o=!1,T=l;try{e=await this.getAddress(t,n)}catch{break}}while(!o);if(!o)throw T}_processPacket(e){switch(e.type){case se.NSPTDA:this.rcvDatapkt.fromPacket(e);break;case se.NSPTMK:this.markerPkt.fromPacket(e,this);break;case se.NSPTCNL:this.controlPkt.fromPacket(e);break;case se.NSPTAC:yr.AcceptPacket(e,this.sAtts);break;case se.NSPTRF:this.refusePkt=new yr.RefusePacket(e);break;case se.NSPTRS:break;case se.NSPTRD:this.redirectPkt=new yr.RedirectPacket(e);break;default:ke.throwErr(ke.ERR_CONNECTION_INVALID_PACKET)}}async _recvPacket(){for(;;){let e=await this.ntAdapter.receive();if(!e)break;if(this._processPacket(e),e.type!==se.NSPTCNL)return e}}_sendPacket(e){this.ntAdapter.send(e)}sendBreak(){if(!this.isBreak){if(!this.connected){this.isBreak=!0,this.breakPosted=!0;return}this.isBreak=!0,this.markerPkt.prepare(se.NSPMKTD1,se.NIQIMARK),this._sendPacket(this.markerPkt.buf)}}async reset(){for(this.breakPosted&&(this.markerPkt.prepare(se.NSPMKTD1,se.NIQBMARK),this._sendPacket(this.markerPkt.buf),this.breakPosted=!1),this.markerPkt.prepare(se.NSPMKTD1,se.NIQRMARK),this._sendPacket(this.markerPkt.buf);!this.isReset;)await this._recvPacket();this.sndDatapkt.dataPtr=this.sndDatapkt.dataLen=se.NSPDADAT,this.sndDatapkt.offset=this.sndDatapkt.dataPtr,this.sndDatapkt.len=this.sndDatapkt.bufLen,this.isBreak=this.isReset=!1}async recvPacket(){return await this._recvPacket()}syncRecvPacket(){for(;this.ntAdapter.packets.length>0;){let e=this.ntAdapter.syncReceive();if(!e)break;if(this._processPacket(e),e.type!==se.NSPTCNL)return e}}_send(e,t,n){if(this.isBreak)return;let o=0;for(this.sndDatapkt.dataLen=this.sndDatapkt.offset,(this.sndDatapkt.dataLen<this.sndDatapkt.bufLen||!this.sndDatapkt.bufLen)&&(o=this.sndDatapkt.fillBuf(e,t,n),n-=o,t+=o,this.sndDatapkt.offset=this.sndDatapkt.dataLen);n;){if(this._sendPacket(this.sndDatapkt.dataBuf),this.isBreak)return;this.sndDatapkt.dataLen=this.sndDatapkt.dataPtr,this.sndDatapkt.offset=this.sndDatapkt.dataPtr,o=this.sndDatapkt.fillBuf(e,t,n),n-=o,t+=o,this.sndDatapkt.offset=this.sndDatapkt.dataLen}}flush(){this.isBreak||(this.sndDatapkt.dataLen=this.sndDatapkt.offset,this.sndDatapkt.prepare2Send(),this._sendPacket(cp.from(this.sndDatapkt.dataBuf)),this.sndDatapkt.dataLen=this.sndDatapkt.dataPtr,this.sndDatapkt.offset=this.sndDatapkt.dataPtr)}async connect(e){let t=e.connectString?e.connectString:e.connectionString,n=await ju(t,e.configDir),o;try{o=await this.getAddress(n,e)}catch(T){T.message=="All options tried"?ke.throwErr(ke.ERR_INVALID_CONNECT_STRING_PARAMETERS,"Ensure the ADDRESS parameters have been entered correctly, the most likely incorrect parameter is the host name"):ke.throwErr(ke.ERR_INVALID_CONNECT_STRING_PARAMETERS,T.message)}await this.connect1(o,n,e)}disconnect(e){this.connected&&(e!=se.NSFIMM&&!this.ntAdapter.err&&(this.sndDatapkt.dataLen=this.sndDatapkt.offset,this.sndDatapkt.prepare2Send(se.NSPDAFEOF),this._sendPacket(this.sndDatapkt.dataBuf)),this.ntAdapter.disconnect(e),this.ntAdapter=null,this.connected=!1)}getOption(e){switch(e){case se.NS_MOREDATA:return this.ntAdapter.packets.length>0;case se.SVCNAME:return kr(this.cDataNVPair,["DESCRIPTION","CONNECT_DATA","SERVICE_NAME"]);case se.SID:return kr(this.cDataNVPair,["DESCRIPTION","CONNECT_DATA","SID"]);case se.SERVERTYPE:return kr(this.cDataNVPair,["DESCRIPTION","CONNECT_DATA","SERVER"]);case se.REMOTEADDR:return this.ntAdapter?this.ntAdapter.getOption(e):null;case se.CONNCLASS:return kr(this.cDataNVPair,["DESCRIPTION","CONNECT_DATA","POOL_CONNECTION_CLASS"]);case se.PURITY:return kr(this.cDataNVPair,["DESCRIPTION","CONNECT_DATA","POOL_PURITY"]);case se.HEALTHCHECK:return this.connected&&this.ntAdapter.connected&&!this.ntAdapter.err;default:ke.throwErr(ke.ERR_INTERNAL,"getOption not supported for opcode "+e)}}recvInbandNotif(){let e=0;if(this.controlPkt.errno)return e=this.controlPkt.errno,e;if(this.getOption(se.HEALTHCHECK))if(this.getOption(se.NS_MOREDATA)){let t=this.ntAdapter.syncReceive();return t.type==se.NSPTCNL?(this.controlPkt.fromPacket(t),e=this.controlPkt.errno,e):(this.ntAdapter.packets.unshift(t),0)}else return 0;else return ke.ERR_CONNECTION_CLOSED}};c($u,"NetworkSession");var Zu=$u;up.exports={NetworkSession:Zu,resolveAddress:ju,getConnectionInfo:wY}});var Ep=b((Hx,rE)=>{"use strict";var{Buffer:YY}=require("buffer"),Rt=Ct(),UY=Vn(),MY=new RegExp('(?<=:)\\s*((?:".*?")|(?:[\\p{L}][\\p{L}\\p{Nd}_\\$#]*)|\\p{Nd}+)',"gu"),VY=/(?<=\bRETURN(?:ING)?\b)/si,xY=/(?<=\bINTO\b)/gsi,FY=/--.*/g,bY=/\/\*.*?\*\//sg,vY=/'.*?'/sg,sE=class sE{constructor(e,t=!1){this.bindName=e,this.isReturnBind=t,this.maxSize=0,this.numElements=0,this.maxArraySize=0,this.type=null,this.isArray=!1,this.dir=Rt.BIND_IN,this.bindVar=null}};c(sE,"BindInfo");var Bi=sE;rE.exports.BindInfo=Bi;var w_=class w_{constructor(){this.sql="",this.sqlBytes=[],this.sqlLength=0,this.cursorId=0,this.requiresDefine=!1,this.isQuery=!1,this.isPlSql=!1,this.isDml=!1,this.isDdl=!1,this.isReturning=!1,this.bindInfoList=[],this.queryVars=[],this.bindInfoDict=new Map,this.requiresFullExecute=!1,this.noPrefetch=!1,this.returnToCache=!1,this.numColumns=0,this.lastRowIndex,this.lastRowid,this.moreRowsToFetch=!0,this.inUse=!1,this.bufferRowIndex=0,this.bufferRowCount=0,this.statementType=Rt.STMT_TYPE_UNKNOWN}_copy(){let e=new w_;e.sql=this.sql,e.sqlBytes=this.sqlBytes,e.sqlLength=this.sqlLength,e.isQuery=this.isQuery,e.isPlSql=this.isPlSql,e.isDml=this.isDml,e.isDdl=this.isDdl,e.isReturning=this.isReturning,e.bindInfoList=[];for(let n of this.bindInfoList){let o=new Bi(n.bindName,n.isReturnBind);e.bindInfoList.push(o)}let t=e.bindInfoDict=new Map;for(let n of e.bindInfoList)t.has(n.bindName)?t.get(n.bindName).push(n):t.set(n.bindName,[n]);return e.returnToCache=!1,e}_determineStatementType(e){e=UY.cleanSql(e);let t=e.trim().trimStart("(").substring(0,10).split(" ");if(t.length>0){let n=t[0].toUpperCase();["DECLARE","BEGIN","CALL"].includes(n)?(this.isPlSql=!0,n==="DECLARE"?this.statementType=Rt.STMT_TYPE_DECLARE:n==="BEGIN"?this.statementType=Rt.STMT_TYPE_BEGIN:n==="CALL"&&(this.statementType=Rt.STMT_TYPE_CALL)):["SELECT","WITH"].includes(n)?(this.isQuery=!0,n==="SELECT"&&(this.statementType=Rt.STMT_TYPE_SELECT)):["INSERT","UPDATE","DELETE","MERGE"].includes(n)?(this.isDml=!0,n==="INSERT"?this.statementType=Rt.STMT_TYPE_INSERT:n==="UPDATE"?this.statementType=Rt.STMT_TYPE_UPDATE:n==="DELETE"?this.statementType=Rt.STMT_TYPE_DELETE:n==="MERGE"&&(this.statementType=Rt.STMT_TYPE_MERGE)):["CREATE","ALTER","DROP","TRUNCATE"].includes(n)?(this.isDdl=!0,n==="CREATE"?this.statementType=Rt.STMT_TYPE_CREATE:n==="ALTER"?this.statementType=Rt.STMT_TYPE_ALTER:n==="DROP"&&(this.statementType=Rt.STMT_TYPE_DROP)):n==="COMMIT"?this.statementType=Rt.STMT_TYPE_COMMIT:n==="ROLLBACK"?this.statementType=Rt.STMT_TYPE_ROLLBACK:n==="MERGE"?this.statementType=Rt.STMT_TYPE_MERGE:this.statementType=Rt.STMT_TYPE_UNKNOWN}}_prepare(e){this.sql=e,this.sqlBytes=YY.from(this.sql,"utf8"),this.sqlLength=this.sqlBytes.length,e=e.replace(vY,"'S'"),e=e.replace(FY,""),e=e.replace(bY,""),this._determineStatementType(e);let t;if(this.isQuery||this.isDml||this.isPlSql){let n=e;if(this.isDml){let o,T=-1,l=e.search(VY),E=xY;for(;(o=E.exec(e.slice(l)))!=null;)T=o.index,E.lastIndex=o.index+1;l>-1&&T>-1&&(T=l+T,n=e.slice(0,T),t=e.slice(T))}this._addBinds(n,!1),t&&(this.isReturning=!0,this._addBinds(t,!0))}}_addBinds(e,t){let n=[...e.matchAll(MY)],o;n.forEach(T=>{if(T[0].startsWith('"')&&T[0].endsWith('"')?o=T[0].substring(1,T[0].length-1):o=T[0].trim().toUpperCase(),this.isPlSql&&this.bindInfoDict.has(o))return;let l=new Bi(o,t);this.bindInfoList.push(l),this.bindInfoDict.has(l.bindName)?this.bindInfoDict.get(l.bindName).push(l):this.bindInfoDict.set(l.bindName,[l])})}_setVariable(e,t){(t.maxSize!==e.maxSize||t.dir!==e.dir||t.isArray!==e.isArray||t.values.length>e.numElements||t.type!=e.type||t.maxArraySize!=e.maxArraySize)&&(e.isArray=t.isArray,e.numElements=t.values.length,e.maxSize=t.maxSize,e.type=t.type,e.dir=t.dir,e.maxArraySize=t.maxArraySize,this.requiresFullExecute=!0),e.bindVar=t}};c(w_,"Statement");var tE=w_;rE.exports.Statement=tE});var Np=b((Kx,hp)=>{"use strict";var{Buffer:Le}=require("buffer"),wr=require("crypto"),B_="aes-256-cbc",kY=Le.from([0,1]),iE=class iE{_decrypt(e,t){let n=Le.alloc(16,0),o=wr.createDecipheriv(B_,e,n);o.setAutoPadding(!1);let T=o.update(t);return T=Le.concat([T,o.final()]),T}_encrypt(e,t,n){let o=16,T=Le.alloc(o,0),l=o-t.length%o,E=Le.alloc(l,l);l>0&&(n?t+=Le.alloc(l):t=Le.concat([t,E]));let S=wr.createCipheriv(B_,e,T),R=S.update(t);return R=Le.concat([R,S.final()]),n||(R=R.slice(0,t.length)),t.fill(0),R}_setEncryptedPasswordBuffers(e,t,n,o){let T=Le.alloc(16);wr.randomFillSync(T,0,16);let l=Le.concat([T,e]);if(o.encodedPassword=this._encrypt(n,l),l.fill(0),o.encodedPassword=o.encodedPassword.slice().toString("hex").toUpperCase(),t){let E=Le.concat([T,t]);o.encodedNewPassword=this._encrypt(n,E),E.fill(0),o.encodedNewPassword=o.encodedNewPassword.slice().toString("hex").toUpperCase()}e.fill(0),t&&t.fill(0)}updateVerifierData(e,t,n,o,T){let l=32,E="sha512",S=Le.from(e.AUTH_VFR_DATA,"hex"),R=Le.from(e.AUTH_SESSKEY,"hex"),d=Number(e.AUTH_PBKDF2_VGEN_COUNT),L=Le.from(t,"utf8"),w,O;if(o){B_="aes-192-cbc",l=24,E="sha1";let H=wr.createHash(E);H.update(L),H.update(S);let W=H.digest();w=Le.alloc(W.length+4),W.copy(w,0,0,W.length)}else{B_="aes-256-cbc";let H=Le.from("AUTH_PBKDF2_SPEEDY_KEY","utf8"),W=Le.concat([S,H]);O=wr.pbkdf2Sync(L,W,d,64,"sha512");let ae=wr.createHash(E);ae.update(O),ae.update(S),w=ae.digest().slice(0,l)}let P;n&&(P=Le.from(n,"utf8"));let g=this._decrypt(w,R),x=Le.alloc(g.length);wr.randomFillSync(x);let I=this._encrypt(w,x);if(g.length===48){T.sessionKey=I.slice().toString("hex").toUpperCase().slice(0,96);let H=Le.alloc(24);for(let ue=16;ue<=40;ue++)H[ue-16]=g[ue]^x[ue];let W=wr.createHash("md5").update(H.subarray(0,16)).digest(),ae=wr.createHash("md5").update(H.subarray(16)).digest();T.comboKey=Le.concat([W,ae]).slice(0,l)}else{T.sessionKey=I.slice().toString("hex").toUpperCase().slice(0,64);let H=Le.from(e.AUTH_PBKDF2_CSK_SALT,"hex");d=Number(e.AUTH_PBKDF2_SDER_COUNT);let ae=Le.concat([x.slice(0,l),g.slice(0,l)]).toString("hex").toUpperCase(),ue=Le.from(ae,"utf8");T.comboKey=wr.pbkdf2Sync(ue,H,d,l,"sha512")}let G=Le.alloc(16);if(!o){wr.randomFillSync(G,0,16);let H=Le.concat([G,O]);T.speedyKey=this._encrypt(T.comboKey,H),T.speedyKey=T.speedyKey.slice(0,80).toString("hex").toUpperCase()}this._setEncryptedPasswordBuffers(L,P,T.comboKey,T)}getEncryptedJSWPData(e,t){let n=this._encrypt(e,t,!0);return n=n.slice().toString("hex").toUpperCase(),n=Le.concat([n,kY]),n}updatePasswordsWithComboKey(e,t,n,o){let T=Le.from(e,"utf8"),l;t&&(l=Le.from(t,"utf8")),this._setEncryptedPasswordBuffers(T,l,n,o)}};c(iE,"EncryptDecrypt");var nE=iE,GY=new nE;hp.exports=GY});var Pp=b((zx,dp)=>{"use strict";var{Buffer:oE}=require("buffer"),Re=ze(),Sp=Z(),fp=require("process"),_E=Np(),HY=Lr(),Ap=Vn(),Y_=Ap.CLIENT_INFO,qY=require("crypto"),TE=class TE extends HY{constructor(e,t){super(e),this.functionCode=Re.TNS_FUNC_AUTH_PHASE_ONE,this.messageType=Re.TNS_MSG_TYPE_FUNCTION,this.sessionData={},this.conn=e,this.sessionKey="",this.encodedPassword="",this.changePassword=!1,Object.defineProperty(this,"password",{enumerable:!1,value:t.password}),this.username=t.user,this.username===void 0?this.username="":this.username=this.username.trim(),this.schemaUser="",this.proxyUser="",this.proxyStatus=-1,this.username.length!==0&&(this.proxyStatusObj=Ap.checkProxyUserValidity(this.username),this.proxyStatusObj.status===0&&(this.proxyStatus=0,this.proxyUser=this.proxyStatusObj.proxyUser,this.schemaUser=this.proxyStatusObj.schemaUser,this.username=this.proxyUser)),this.newPassword=t.newPassword,t.changePassword&&(this.changePassword=!0,this.functionCode=Re.TNS_FUNC_AUTH_PHASE_TWO),this.username?this.userByteLen=oE.byteLength(this.username):this.userByteLen=0,this.token=t.token,this.token&&(this.functionCode=Re.TNS_FUNC_AUTH_PHASE_TWO),this.privateKey=t.privateKey,this.privateKey&&(this.privateKey=`-----BEGIN PRIVATE KEY-----
`+this.privateKey,this.privateKey=this.privateKey+`
-----END PRIVATE KEY-----`),this.serviceName=this.conn.serviceName,this.remoteAddress=this.conn.remoteAddress,this.setAuthMode()}setAuthMode(){this.newPassword||(this.authMode=Re.TNS_AUTH_MODE_LOGON),this.conn.privilege&Re.SYSDBA&&(this.authMode|=Re.TNS_AUTH_MODE_SYSDBA),this.conn.privilege&Re.SYSOPER&&(this.authMode|=Re.TNS_AUTH_MODE_SYSOPER),this.conn.privilege&Re.SYSASM&&(this.authMode|=Re.TNS_AUTH_MODE_SYSASM),this.conn.privilege&Re.SYSBKP&&(this.authMode|=Re.TNS_AUTH_MODE_SYSBKP),this.conn.privilege&Re.SYSDG&&(this.authMode|=Re.TNS_AUTH_MODE_SYSDGD),this.conn.privilege&Re.SYSKM&&(this.authMode|=Re.TNS_AUTH_MODE_SYSKMT),this.conn.privilege&Re.SYSRAC&&(this.authMode|=Re.TNS_AUTH_MODE_SYSRAC),this.privateKey&&(this.authMode|=Re.TNS_AUTH_MODE_IAM_TOKEN),this.newPassword&&(this.authMode|=Re.TNS_AUTH_MODE_CHANGE_PASSWORD),this.token||(this.authMode|=Re.TNS_AUTH_MODE_WITH_PASSWORD)}getAlterTimezoneStatement(){let e,t;if(fp.env.ORA_SDTZ)t=fp.env.ORA_SDTZ;else{let o=new Date().getTimezoneOffset(),T=Math.trunc(o/60),l=Math.abs((o-T*60)%60);T<0?(e="+",T=-T):e="-",T=T.toLocaleString("en-US",{minimumIntegerDigits:2}),t=`${e}${T}:${l}`}return`ALTER SESSION SET TIME_ZONE ='${t}'\0`}encode(e){let t=!1;if(this.writeFunctionHeader(e),this.userByteLen>0?e.writeUInt8(1):e.writeUInt8(0),e.writeUB4(this.userByteLen),e.writeUB4(this.authMode),this.functionCode===Re.TNS_FUNC_AUTH_PHASE_ONE)e.writeUInt8(1),e.writeUB4(5),e.writeUInt8(0),e.writeUInt8(1),this.userByteLen>0&&e.writeBytesWithLength(oE.from(this.username)),e.writeKeyValue("AUTH_TERMINAL","unknown"),e.writeKeyValue("AUTH_PROGRAM_NM",Y_.program),e.writeKeyValue("AUTH_MACHINE",Y_.hostName),e.writeKeyValue("AUTH_PID",Y_.pid),e.writeKeyValue("AUTH_SID",Y_.userName);else{let n=0;if(this.changePassword?(_E.updatePasswordsWithComboKey(this.password,this.newPassword,this.conn.comboKey,this),n=2):(n=4,this.token?n+=1:(n+=2,this.verifierType===Re.TNS_VERIFIER_TYPE_11G_1||this.verifierType===Re.TNS_VERIFIER_TYPE_11G_2?t=!0:this.verifierType!==Re.TNS_VERIFIER_TYPE_12C?Sp.throwErr(Sp.ERR_UNSUPPORTED_VERIFIER_TYPE,this.verifierType.toString(16)):n+=1,_E.updateVerifierData(this.sessionData,this.password,this.newPassword,t,this),this.conn.comboKey=this.comboKey,this.newPassword&&(n+=1)),this.privateKey&&(n+=2),this.conn.connClass&&(n+=1),this.conn.purity&&(n+=1),this.conn.jdwpData&&(this.encryptedJDWPData=_E.getEncryptedJSWPData(this.sessionKey,this.conn.jdwpData),n+=1),this.schemaUser.length!==0&&(n+=1)),e.writeUInt8(1),e.writeUB4(n),e.writeUInt8(1),e.writeUInt8(1),this.userByteLen>0&&e.writeBytesWithLength(oE.from(this.username)),this.token?e.writeKeyValue("AUTH_TOKEN",this.token):this.changePassword||(e.writeKeyValue("AUTH_SESSKEY",this.sessionKey,1),t||e.writeKeyValue("AUTH_PBKDF2_SPEEDY_KEY",this.speedyKey)),this.changePassword||(e.writeKeyValue("SESSION_CLIENT_CHARSET","873"),e.writeKeyValue("SESSION_CLIENT_DRIVER_NAME",Re.DRIVER_NAME),e.writeKeyValue("SESSION_CLIENT_VERSION",Re.CLIENT_VERSION.toString()),e.writeKeyValue("AUTH_ALTER_SESSION",this.getAlterTimezoneStatement(),1)),this.encodedPassword&&e.writeKeyValue("AUTH_PASSWORD",this.encodedPassword),this.proxyStatus===0&&e.writeKeyValue("PROXY_CLIENT_NAME",this.schemaUser),this.encodedNewPassword&&e.writeKeyValue("AUTH_NEWPASSWORD",this.encodedNewPassword),this.conn.connClass&&e.writeKeyValue("AUTH_KPPL_CONN_CLASS",this.conn.connClass),this.conn.purity&&e.writeKeyValue("AUTH_KPPL_PURITY",""+this.conn.purity),this.privateKey){let l="date: "+new Date().toGMTString()+`
(request-target): `+this.serviceName+`
host: `+this.remoteAddress,E=qY.createSign("RSA-SHA256").update(l).sign(this.privateKey,"base64");e.writeKeyValue("AUTH_HEADER",l),e.writeKeyValue("AUTH_SIGNATURE",E)}this.conn.jdwpData&&e.writeKeyValue("AUTH_ORA_DEBUG_JDWP",this.encryptedJDWPData)}}processReturnParameter(e){let t=e.readUB2();for(let n=0;n<t;n++){e.skipUB4();let o=e.readStr(Re.CSFRM_IMPLICIT),T="";e.readUB4()>0&&(T=e.readStr(Re.CSFRM_IMPLICIT));let E=e.readUB4();o==="AUTH_VFR_DATA"&&(this.verifierType=E),this.sessionData[o]=T}if(this.functionCode===Re.TNS_FUNC_AUTH_PHASE_ONE)this.functionCode=Re.TNS_FUNC_AUTH_PHASE_TWO;else{let n,o,T,l,E;this.conn.sessionID=this.sessionData.AUTH_SESSION_ID,this.conn.serialNum=this.sessionData.AUTH_SERIAL_NUM;let S=Number(this.sessionData.AUTH_VERSION_NO);n=S>>24&255,e.caps.ttcFieldVersion>=Re.TNS_CCAP_FIELD_VERSION_18_1_EXT_1?(o=S>>16&255,T=S>>12&15,l=S>>4&255,E=S&15):(o=S>>20&15,T=S>>12&255,l=S>>8&15,E=S&255),this.conn.serverVersionString=n+"."+o+"."+T+"."+l+"."+E,this.conn.serverVersion=n*1e8+o*1e6+T*1e4+l*100+E*1}}};c(TE,"AuthMessage");var aE=TE;dp.exports=aE});var Rp=b((Qx,pp)=>{"use strict";var KY=Lr(),WY=ze(),lE=class lE extends KY{constructor(e){super(e),this.functionCode=WY.TNS_FUNC_COMMIT}encode(e){this.writeFunctionHeader(e)}};c(lE,"CommitMessage");var cE=lE;pp.exports=cE});var Ip=b((jx,mp)=>{"use strict";var _=ze(),zY=Lr(),EE=class EE extends zY{processMessage(e){for(;e.readUInt16BE()!==0;)e.readUInt16BE()!==0&&e.skipBytes(4)}encode(e){e.writeUInt8(_.TNS_MSG_TYPE_DATA_TYPES),e.writeUInt16LE(_.TNS_CHARSET_UTF8),e.writeUInt16LE(_.TNS_CHARSET_UTF8),e.writeUInt8(_.TNS_ENCODING_MULTI_BYTE|_.TNS_ENCODING_CONV_LENGTH),e.writeBytesWithLength(e.caps.compileCaps),e.writeBytesWithLength(e.caps.runtimeCaps);for(let t of XY)e.writeUInt16BE(t[0]),e.writeUInt16BE(t[1]),e.writeUInt16BE(t[2]),e.writeUInt16BE(0);e.writeUInt16BE(0)}};c(EE,"DataTypeMessage");var uE=EE,XY=[[_.TNS_DATA_TYPE_VARCHAR,_.TNS_DATA_TYPE_VARCHAR,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_NUMBER,_.TNS_DATA_TYPE_NUMBER,_.TNS_TYPE_REP_ORACLE],[_.TNS_DATA_TYPE_LONG,_.TNS_DATA_TYPE_LONG,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DATE,_.TNS_DATA_TYPE_DATE,_.TNS_TYPE_REP_ORACLE],[_.TNS_DATA_TYPE_RAW,_.TNS_DATA_TYPE_RAW,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_LONG_RAW,_.TNS_DATA_TYPE_LONG_RAW,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_UB2,_.TNS_DATA_TYPE_UB2,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_UB4,_.TNS_DATA_TYPE_UB4,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SB1,_.TNS_DATA_TYPE_SB1,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SB2,_.TNS_DATA_TYPE_SB2,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SB4,_.TNS_DATA_TYPE_SB4,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SWORD,_.TNS_DATA_TYPE_SWORD,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_UWORD,_.TNS_DATA_TYPE_UWORD,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_PTRB,_.TNS_DATA_TYPE_PTRB,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_PTRW,_.TNS_DATA_TYPE_PTRW,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_TIDDEF,_.TNS_DATA_TYPE_TIDDEF,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_ROWID,_.TNS_DATA_TYPE_ROWID,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AMS,_.TNS_DATA_TYPE_AMS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_BRN,_.TNS_DATA_TYPE_BRN,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_CWD,_.TNS_DATA_TYPE_CWD,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_NEW_OAC,_.TNS_DATA_TYPE_NEW_OAC,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_OER8,_.TNS_DATA_TYPE_OER8,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_FUN,_.TNS_DATA_TYPE_FUN,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AUA,_.TNS_DATA_TYPE_AUA,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RXH7,_.TNS_DATA_TYPE_RXH7,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_NA6,_.TNS_DATA_TYPE_NA6,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_BRP,_.TNS_DATA_TYPE_BRP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_BRV,_.TNS_DATA_TYPE_BRV,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KVA,_.TNS_DATA_TYPE_KVA,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_CLS,_.TNS_DATA_TYPE_CLS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_CUI,_.TNS_DATA_TYPE_CUI,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DFN,_.TNS_DATA_TYPE_DFN,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DQR,_.TNS_DATA_TYPE_DQR,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSC,_.TNS_DATA_TYPE_DSC,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_EXE,_.TNS_DATA_TYPE_EXE,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_FCH,_.TNS_DATA_TYPE_FCH,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_GBV,_.TNS_DATA_TYPE_GBV,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_GEM,_.TNS_DATA_TYPE_GEM,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_GIV,_.TNS_DATA_TYPE_GIV,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_OKG,_.TNS_DATA_TYPE_OKG,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_HMI,_.TNS_DATA_TYPE_HMI,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_INO,_.TNS_DATA_TYPE_INO,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_LNF,_.TNS_DATA_TYPE_LNF,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_ONT,_.TNS_DATA_TYPE_ONT,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_OPE,_.TNS_DATA_TYPE_OPE,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_OSQ,_.TNS_DATA_TYPE_OSQ,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SFE,_.TNS_DATA_TYPE_SFE,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SPF,_.TNS_DATA_TYPE_SPF,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_VSN,_.TNS_DATA_TYPE_VSN,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_UD7,_.TNS_DATA_TYPE_UD7,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSA,_.TNS_DATA_TYPE_DSA,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_PIN,_.TNS_DATA_TYPE_PIN,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_PFN,_.TNS_DATA_TYPE_PFN,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_PPT,_.TNS_DATA_TYPE_PPT,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_STO,_.TNS_DATA_TYPE_STO,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_ARC,_.TNS_DATA_TYPE_ARC,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_MRS,_.TNS_DATA_TYPE_MRS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_MRT,_.TNS_DATA_TYPE_MRT,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_MRG,_.TNS_DATA_TYPE_MRG,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_MRR,_.TNS_DATA_TYPE_MRR,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_MRC,_.TNS_DATA_TYPE_MRC,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_VER,_.TNS_DATA_TYPE_VER,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_LON2,_.TNS_DATA_TYPE_LON2,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_INO2,_.TNS_DATA_TYPE_INO2,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_ALL,_.TNS_DATA_TYPE_ALL,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_UDB,_.TNS_DATA_TYPE_UDB,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AQI,_.TNS_DATA_TYPE_AQI,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_ULB,_.TNS_DATA_TYPE_ULB,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_ULD,_.TNS_DATA_TYPE_ULD,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SID,_.TNS_DATA_TYPE_SID,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_NA7,_.TNS_DATA_TYPE_NA7,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AL7,_.TNS_DATA_TYPE_AL7,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_K2RPC,_.TNS_DATA_TYPE_K2RPC,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XDP,_.TNS_DATA_TYPE_XDP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_OKO8,_.TNS_DATA_TYPE_OKO8,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_UD12,_.TNS_DATA_TYPE_UD12,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AL8,_.TNS_DATA_TYPE_AL8,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_LFOP,_.TNS_DATA_TYPE_LFOP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_FCRT,_.TNS_DATA_TYPE_FCRT,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DNY,_.TNS_DATA_TYPE_DNY,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_OPR,_.TNS_DATA_TYPE_OPR,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_PLS,_.TNS_DATA_TYPE_PLS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XID,_.TNS_DATA_TYPE_XID,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_TXN,_.TNS_DATA_TYPE_TXN,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DCB,_.TNS_DATA_TYPE_DCB,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_CCA,_.TNS_DATA_TYPE_CCA,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_WRN,_.TNS_DATA_TYPE_WRN,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_TLH,_.TNS_DATA_TYPE_TLH,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_TOH,_.TNS_DATA_TYPE_TOH,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_FOI,_.TNS_DATA_TYPE_FOI,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SID2,_.TNS_DATA_TYPE_SID2,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_TCH,_.TNS_DATA_TYPE_TCH,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_PII,_.TNS_DATA_TYPE_PII,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_PFI,_.TNS_DATA_TYPE_PFI,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_PPU,_.TNS_DATA_TYPE_PPU,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_PTE,_.TNS_DATA_TYPE_PTE,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RXH8,_.TNS_DATA_TYPE_RXH8,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_N12,_.TNS_DATA_TYPE_N12,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AUTH,_.TNS_DATA_TYPE_AUTH,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KVAL,_.TNS_DATA_TYPE_KVAL,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_FGI,_.TNS_DATA_TYPE_FGI,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSY,_.TNS_DATA_TYPE_DSY,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYR8,_.TNS_DATA_TYPE_DSYR8,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYH8,_.TNS_DATA_TYPE_DSYH8,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYL,_.TNS_DATA_TYPE_DSYL,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYT8,_.TNS_DATA_TYPE_DSYT8,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYV8,_.TNS_DATA_TYPE_DSYV8,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYP,_.TNS_DATA_TYPE_DSYP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYF,_.TNS_DATA_TYPE_DSYF,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYK,_.TNS_DATA_TYPE_DSYK,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYY,_.TNS_DATA_TYPE_DSYY,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYQ,_.TNS_DATA_TYPE_DSYQ,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYC,_.TNS_DATA_TYPE_DSYC,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYA,_.TNS_DATA_TYPE_DSYA,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_OT8,_.TNS_DATA_TYPE_OT8,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYTY,_.TNS_DATA_TYPE_DSYTY,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AQE,_.TNS_DATA_TYPE_AQE,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KV,_.TNS_DATA_TYPE_KV,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AQD,_.TNS_DATA_TYPE_AQD,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AQ8,_.TNS_DATA_TYPE_AQ8,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RFS,_.TNS_DATA_TYPE_RFS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RXH10,_.TNS_DATA_TYPE_RXH10,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPN,_.TNS_DATA_TYPE_KPN,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPDNR,_.TNS_DATA_TYPE_KPDNR,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYD,_.TNS_DATA_TYPE_DSYD,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYS,_.TNS_DATA_TYPE_DSYS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYR,_.TNS_DATA_TYPE_DSYR,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYH,_.TNS_DATA_TYPE_DSYH,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYT,_.TNS_DATA_TYPE_DSYT,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DSYV,_.TNS_DATA_TYPE_DSYV,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AQM,_.TNS_DATA_TYPE_AQM,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_OER11,_.TNS_DATA_TYPE_OER11,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AQL,_.TNS_DATA_TYPE_AQL,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_OTC,_.TNS_DATA_TYPE_OTC,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KFNO,_.TNS_DATA_TYPE_KFNO,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KFNP,_.TNS_DATA_TYPE_KFNP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KGT8,_.TNS_DATA_TYPE_KGT8,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RASB4,_.TNS_DATA_TYPE_RASB4,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RAUB2,_.TNS_DATA_TYPE_RAUB2,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RAUB1,_.TNS_DATA_TYPE_RAUB1,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RATXT,_.TNS_DATA_TYPE_RATXT,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RSSB4,_.TNS_DATA_TYPE_RSSB4,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RSUB2,_.TNS_DATA_TYPE_RSUB2,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RSUB1,_.TNS_DATA_TYPE_RSUB1,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RSTXT,_.TNS_DATA_TYPE_RSTXT,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RIDL,_.TNS_DATA_TYPE_RIDL,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_GLRDD,_.TNS_DATA_TYPE_GLRDD,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_GLRDG,_.TNS_DATA_TYPE_GLRDG,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_GLRDC,_.TNS_DATA_TYPE_GLRDC,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_OKO,_.TNS_DATA_TYPE_OKO,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DPP,_.TNS_DATA_TYPE_DPP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DPLS,_.TNS_DATA_TYPE_DPLS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DPMOP,_.TNS_DATA_TYPE_DPMOP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_STAT,_.TNS_DATA_TYPE_STAT,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RFX,_.TNS_DATA_TYPE_RFX,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_FAL,_.TNS_DATA_TYPE_FAL,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_CKV,_.TNS_DATA_TYPE_CKV,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DRCX,_.TNS_DATA_TYPE_DRCX,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KGH,_.TNS_DATA_TYPE_KGH,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AQO,_.TNS_DATA_TYPE_AQO,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_OKGT,_.TNS_DATA_TYPE_OKGT,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPFC,_.TNS_DATA_TYPE_KPFC,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_FE2,_.TNS_DATA_TYPE_FE2,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SPFP,_.TNS_DATA_TYPE_SPFP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DPULS,_.TNS_DATA_TYPE_DPULS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AQA,_.TNS_DATA_TYPE_AQA,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPBF,_.TNS_DATA_TYPE_KPBF,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_TSM,_.TNS_DATA_TYPE_TSM,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_MSS,_.TNS_DATA_TYPE_MSS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPC,_.TNS_DATA_TYPE_KPC,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_CRS,_.TNS_DATA_TYPE_CRS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KKS,_.TNS_DATA_TYPE_KKS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KSP,_.TNS_DATA_TYPE_KSP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KSPTOP,_.TNS_DATA_TYPE_KSPTOP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KSPVAL,_.TNS_DATA_TYPE_KSPVAL,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_PSS,_.TNS_DATA_TYPE_PSS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_NLS,_.TNS_DATA_TYPE_NLS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_ALS,_.TNS_DATA_TYPE_ALS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KSDEVTVAL,_.TNS_DATA_TYPE_KSDEVTVAL,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KSDEVTTOP,_.TNS_DATA_TYPE_KSDEVTTOP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPSPP,_.TNS_DATA_TYPE_KPSPP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KOL,_.TNS_DATA_TYPE_KOL,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_LST,_.TNS_DATA_TYPE_LST,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_ACX,_.TNS_DATA_TYPE_ACX,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SCS,_.TNS_DATA_TYPE_SCS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RXH,_.TNS_DATA_TYPE_RXH,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPDNS,_.TNS_DATA_TYPE_KPDNS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPDCN,_.TNS_DATA_TYPE_KPDCN,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPNNS,_.TNS_DATA_TYPE_KPNNS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPNCN,_.TNS_DATA_TYPE_KPNCN,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPS,_.TNS_DATA_TYPE_KPS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_APINF,_.TNS_DATA_TYPE_APINF,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_TEN,_.TNS_DATA_TYPE_TEN,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSSCS,_.TNS_DATA_TYPE_XSSCS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSSSO,_.TNS_DATA_TYPE_XSSSO,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSSAO,_.TNS_DATA_TYPE_XSSAO,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KSRPC,_.TNS_DATA_TYPE_KSRPC,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KVL,_.TNS_DATA_TYPE_KVL,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSSDEF,_.TNS_DATA_TYPE_XSSDEF,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_PDQCINV,_.TNS_DATA_TYPE_PDQCINV,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_PDQIDC,_.TNS_DATA_TYPE_PDQIDC,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPDQCSTA,_.TNS_DATA_TYPE_KPDQCSTA,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPRS,_.TNS_DATA_TYPE_KPRS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPDQIDC,_.TNS_DATA_TYPE_KPDQIDC,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RTSTRM,_.TNS_DATA_TYPE_RTSTRM,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SESSGET,_.TNS_DATA_TYPE_SESSGET,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SESSREL,_.TNS_DATA_TYPE_SESSREL,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SESSRET,_.TNS_DATA_TYPE_SESSRET,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SCN6,_.TNS_DATA_TYPE_SCN6,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KECPA,_.TNS_DATA_TYPE_KECPA,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KECPP,_.TNS_DATA_TYPE_KECPP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SXA,_.TNS_DATA_TYPE_SXA,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KVARR,_.TNS_DATA_TYPE_KVARR,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPNGN,_.TNS_DATA_TYPE_KPNGN,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_BINARY_INTEGER,_.TNS_DATA_TYPE_NUMBER,_.TNS_TYPE_REP_ORACLE],[_.TNS_DATA_TYPE_FLOAT,_.TNS_DATA_TYPE_NUMBER,_.TNS_TYPE_REP_ORACLE],[_.TNS_DATA_TYPE_STR,_.TNS_DATA_TYPE_VARCHAR,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_VNU,_.TNS_DATA_TYPE_NUMBER,_.TNS_TYPE_REP_ORACLE],[_.TNS_DATA_TYPE_PDN,_.TNS_DATA_TYPE_NUMBER,_.TNS_TYPE_REP_ORACLE],[_.TNS_DATA_TYPE_VCS,_.TNS_DATA_TYPE_VARCHAR,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_VBI,_.TNS_DATA_TYPE_VARCHAR,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_OAC,_.TNS_DATA_TYPE_NEW_OAC,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_UIN,_.TNS_DATA_TYPE_NUMBER,_.TNS_TYPE_REP_ORACLE],[_.TNS_DATA_TYPE_SLS,_.TNS_DATA_TYPE_NUMBER,_.TNS_TYPE_REP_ORACLE],[_.TNS_DATA_TYPE_LVC,_.TNS_DATA_TYPE_VARCHAR,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_LVB,_.TNS_DATA_TYPE_RAW,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_CHAR,_.TNS_DATA_TYPE_CHAR,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AVC,_.TNS_DATA_TYPE_CHAR,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_BINARY_FLOAT,_.TNS_DATA_TYPE_BINARY_FLOAT,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_BINARY_DOUBLE,_.TNS_DATA_TYPE_BINARY_DOUBLE,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_CURSOR,_.TNS_DATA_TYPE_CURSOR,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RDD,_.TNS_DATA_TYPE_ROWID,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_OSL,_.TNS_DATA_TYPE_OSL,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_EXT_NAMED,_.TNS_DATA_TYPE_INT_NAMED,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_INT_NAMED,_.TNS_DATA_TYPE_INT_NAMED,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_EXT_REF,_.TNS_DATA_TYPE_INT_REF,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_INT_REF,_.TNS_DATA_TYPE_INT_REF,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_CLOB,_.TNS_DATA_TYPE_CLOB,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_BLOB,_.TNS_DATA_TYPE_BLOB,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_BFILE,_.TNS_DATA_TYPE_BFILE,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_CFILE,_.TNS_DATA_TYPE_CFILE,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_RSET,_.TNS_DATA_TYPE_CURSOR,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_JSON,_.TNS_DATA_TYPE_JSON,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DJSON,_.TNS_DATA_TYPE_DJSON,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_CLV,_.TNS_DATA_TYPE_CLV,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DTR,_.TNS_DATA_TYPE_NUMBER,_.TNS_TYPE_REP_ORACLE],[_.TNS_DATA_TYPE_DUN,_.TNS_DATA_TYPE_NUMBER,_.TNS_TYPE_REP_ORACLE],[_.TNS_DATA_TYPE_DOP,_.TNS_DATA_TYPE_NUMBER,_.TNS_TYPE_REP_ORACLE],[_.TNS_DATA_TYPE_VST,_.TNS_DATA_TYPE_VARCHAR,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_ODT,_.TNS_DATA_TYPE_DATE,_.TNS_TYPE_REP_ORACLE],[_.TNS_DATA_TYPE_DOL,_.TNS_DATA_TYPE_NUMBER,_.TNS_TYPE_REP_ORACLE],[_.TNS_DATA_TYPE_TIME,_.TNS_DATA_TYPE_TIME,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_TIME_TZ,_.TNS_DATA_TYPE_TIME_TZ,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_TIMESTAMP,_.TNS_DATA_TYPE_TIMESTAMP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_TIMESTAMP_TZ,_.TNS_DATA_TYPE_TIMESTAMP_TZ,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_INTERVAL_YM,_.TNS_DATA_TYPE_INTERVAL_YM,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_INTERVAL_DS,_.TNS_DATA_TYPE_INTERVAL_DS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_EDATE,_.TNS_DATA_TYPE_DATE,_.TNS_TYPE_REP_ORACLE],[_.TNS_DATA_TYPE_ETIME,_.TNS_DATA_TYPE_ETIME,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_ETTZ,_.TNS_DATA_TYPE_ETTZ,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_ESTAMP,_.TNS_DATA_TYPE_ESTAMP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_ESTZ,_.TNS_DATA_TYPE_ESTZ,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_EIYM,_.TNS_DATA_TYPE_EIYM,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_EIDS,_.TNS_DATA_TYPE_EIDS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DCLOB,_.TNS_DATA_TYPE_CLOB,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DBLOB,_.TNS_DATA_TYPE_BLOB,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_DBFILE,_.TNS_DATA_TYPE_BFILE,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_UROWID,_.TNS_DATA_TYPE_UROWID,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_TIMESTAMP_LTZ,_.TNS_DATA_TYPE_TIMESTAMP_LTZ,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_ESITZ,_.TNS_DATA_TYPE_TIMESTAMP_LTZ,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_UB8,_.TNS_DATA_TYPE_UB8,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_PNTY,_.TNS_DATA_TYPE_INT_NAMED,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_BOOLEAN,_.TNS_DATA_TYPE_BOOLEAN,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSNSOP,_.TNS_DATA_TYPE_XSNSOP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSATTR,_.TNS_DATA_TYPE_XSATTR,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSNS,_.TNS_DATA_TYPE_XSNS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_UB1ARRAY,_.TNS_DATA_TYPE_UB1ARRAY,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SESSSTATE,_.TNS_DATA_TYPE_SESSSTATE,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AC_REPLAY,_.TNS_DATA_TYPE_AC_REPLAY,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AC_CONT,_.TNS_DATA_TYPE_AC_CONT,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_IMPLRES,_.TNS_DATA_TYPE_IMPLRES,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_OER,_.TNS_DATA_TYPE_OER,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_TXT,_.TNS_DATA_TYPE_TXT,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSSESSNS,_.TNS_DATA_TYPE_XSSESSNS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSATTOP,_.TNS_DATA_TYPE_XSATTOP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSCREOP,_.TNS_DATA_TYPE_XSCREOP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSDETOP,_.TNS_DATA_TYPE_XSDETOP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSDESOP,_.TNS_DATA_TYPE_XSDESOP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSSETSP,_.TNS_DATA_TYPE_XSSETSP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSSIDP,_.TNS_DATA_TYPE_XSSIDP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSPRIN,_.TNS_DATA_TYPE_XSPRIN,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSKVL,_.TNS_DATA_TYPE_XSKVL,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSSSDEF2,_.TNS_DATA_TYPE_XSSSDEF2,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSNSOP2,_.TNS_DATA_TYPE_XSNSOP2,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_XSNS2,_.TNS_DATA_TYPE_XSNS2,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPDNREQ,_.TNS_DATA_TYPE_KPDNREQ,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPDNRNF,_.TNS_DATA_TYPE_KPDNRNF,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPNGNC,_.TNS_DATA_TYPE_KPNGNC,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPNRI,_.TNS_DATA_TYPE_KPNRI,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AQENQ,_.TNS_DATA_TYPE_AQENQ,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AQDEQ,_.TNS_DATA_TYPE_AQDEQ,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_AQJMS,_.TNS_DATA_TYPE_AQJMS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPDNRPAY,_.TNS_DATA_TYPE_KPDNRPAY,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPDNRACK,_.TNS_DATA_TYPE_KPDNRACK,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPDNRMP,_.TNS_DATA_TYPE_KPDNRMP,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_KPDNRDQ,_.TNS_DATA_TYPE_KPDNRDQ,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SCN,_.TNS_DATA_TYPE_SCN,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_SCN8,_.TNS_DATA_TYPE_SCN8,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_CHUNKINFO,_.TNS_DATA_TYPE_CHUNKINFO,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_UDS,_.TNS_DATA_TYPE_UDS,_.TNS_TYPE_REP_UNIVERSAL],[_.TNS_DATA_TYPE_TNP,_.TNS_DATA_TYPE_TNP,_.TNS_TYPE_REP_UNIVERSAL]];mp.exports=uE});var Cp=b(($x,Dp)=>{"use strict";var QY=Lr(),JY=ze(),NE=class NE extends QY{constructor(e){super(e),this.functionCode=JY.TNS_FUNC_LOGOFF}encode(e){this.writePiggybacks(e),this.writeFunctionHeader(e)}};c(NE,"LogOffMessage");var hE=NE;Dp.exports=hE});var Op=b((t2,gp)=>{"use strict";var jY=Lr(),ZY=ze(),fE=class fE extends jY{constructor(e){super(e),this.functionCode=ZY.TNS_FUNC_PING}encode(e){this.writeFunctionHeader(e)}};c(fE,"PingMessage");var SE=fE;gp.exports=SE});var wp=b((s2,yp)=>{"use strict";var Lp=ze(),$Y=Lr(),dE=class dE extends $Y{encode(e){e.writeUInt8(Lp.TNS_MSG_TYPE_PROTOCOL),e.writeUInt8(6),e.writeUInt8(0),e.writeStr("node-oracledb"),e.writeUInt8(0)}decode(e){if(e.readUInt8()===Lp.TNS_MSG_TYPE_PROTOCOL){e.skipBytes(2);let n=e.readUInt8();for(;n!==0;)n=e.readUInt8();e.skipBytes(2),e.skipUB1(1);let o=e.readUInt16LE();o>0&&e.skipBytes(o*5);let T=e.readUInt16BE(),l=e.readBytes(T),E=6+l[5]+l[6];e.caps.nCharsetId=(l[E+3]<<8)+l[E+4],e.caps.adjustForServerCompileCaps(e.readBytesWithLength()),e.caps.adjustForServerRuntimeCaps(e.readBytesWithLength())}}};c(dE,"ProtocolMessage");var AE=dE;yp.exports=AE});var Yp=b((i2,Bp)=>{"use strict";var eU=Lr(),tU=ze(),pE=class pE extends eU{constructor(e){super(e),this.functionCode=tU.TNS_FUNC_ROLLBACK}encode(e){this.writeFunctionHeader(e)}};c(pE,"RollbackMessage");var PE=pE;Bp.exports=PE});var Vp=b((_2,Mp)=>{"use strict";var rU=Lr(),Up=ze(),mE=class mE extends rU{constructor(e){super(e),this.functionCode=Up.TNS_FUNC_SESSION_RELEASE,this.messageType=Up.TNS_MSG_TYPE_ONEWAY_FN,this.sessReleaseMode=0}encode(e){this.writeFunctionHeader(e),e.writeUInt8(0),e.writeUInt8(0),e.writeUB4(this.sessReleaseMode)}decode(){}};c(mE,"SessionReleaseMessage");var RE=mE;Mp.exports=RE});var Fp=b((T2,xp)=>{"use strict";var sU=Pp(),nU=Rp(),iU=Ip(),oU=Vl(),_U=bl(),aU=Ol(),TU=Cp(),cU=Op(),lU=wp(),uU=Yp(),EU=Vp();xp.exports={AuthMessage:sU,CommitMessage:nU,DataTypeMessage:iU,ExecuteMessage:oU,FetchMessage:_U,LobOpMessage:aU,LogOffMessage:TU,PingMessage:cU,ProtocolMessage:lU,RollbackMessage:uU,SessionReleaseMessage:EU}});var LE=b((c2,Gp)=>{"use strict";var{Buffer:bp}=require("buffer"),hU=Xo(),NU=Gl(),IE=S_(),SU=gP(),{BaseBuffer:fU}=pi(),{NetworkSession:AU,getConnectionInfo:dU}=eE(),{Statement:vp}=Ep(),en=Vn(),PU=Mn(),le=ze(),kp=require("process"),Pe=qt(),ft=Z(),dr=Fp(),pU=new global.FinalizationRegistry(i=>{i.disconnect()}),gE=class gE extends fU{};c(gE,"TDSBuffer");var DE=gE,OE=class OE extends hU{async close(){if(this._protocol.txnInProgress&&await this.rollback(),this._protocol.callTimeout=0,this._drcpEnabled&&(await this._sessRelease(),this._drcpEstablishSession=!0),this._pool&&!this._dropSess)await this._pool.release(this);else{if(!this._drcpEnabled){let e=new dr.LogOffMessage(this);await this._protocol._processMessage(e)}this.nscon.disconnect()}}async _sessRelease(){let e=new dr.SessionReleaseMessage(this);this.isPooled()||(e.sessReleaseMode=le.DRCP_DEAUTHENTICATE),await this._protocol._processMessage(e)}async _determineElementObjType(e){let t=[{name:"owner",type:Pe.DB_TYPE_VARCHAR,dir:le.BIND_IN,maxSize:128,values:[e.schema]},{name:"name",type:Pe.DB_TYPE_VARCHAR,dir:le.BIND_IN,maxSize:128,values:[e.name]},{name:"package_name",type:Pe.DB_TYPE_VARCHAR,dir:le.BIND_IN,maxSize:128,values:[e.packageName]}],n;e.packageName?n=`
        select
            elem_type_owner,
            elem_type_name,
            elem_type_package
        from all_plsql_coll_types
        where owner = :owner
          and type_name = :name
          and package_name = :package_name`:(t.pop(),n=`
        select
            elem_type_owner,
            elem_type_name
        from all_coll_types
        where owner = :owner
          and type_name = :name`);let o={connection:{_impl:this},prefetchRows:2},T=await this.execute(n,1,t,o,!1),l=await T.resultSet.getRows(1,o);await T.resultSet.close();let E=l[0];e.elementTypeClass=this._getDbObjectType(E[0],E[1],E[2]),e.elementTypeClass.partial&&this._partialDbObjectTypes.push(e.elementTypeClass)}async _parseElementType(e,t){let n,o,T=e.readUInt8();switch(T){case le.TNS_OBJ_TDS_TYPE_NUMBER:case le.TNS_OBJ_TDS_TYPE_FLOAT:t.elementType=Pe.DB_TYPE_NUMBER;break;case le.TNS_OBJ_TDS_TYPE_VARCHAR:case le.TNS_OBJ_TDS_TYPE_CHAR:t.maxSize=e.readUInt16BE(),n=T===le.TNS_OBJ_TDS_TYPE_VARCHAR?le.TNS_DATA_TYPE_VARCHAR:le.TNS_DATA_TYPE_CHAR,o=e.readUInt8(),t.elementType=Pe.getTypeByOraTypeNum(n,o);break;case le.TNS_OBJ_TDS_TYPE_RAW:t.elementType=Pe.DB_TYPE_RAW;break;case le.TNS_OBJ_TDS_TYPE_BINARY_FLOAT:t.elementType=Pe.DB_TYPE_BINARY_FLOAT;break;case le.TNS_OBJ_TDS_TYPE_BINARY_DOUBLE:t.elementType=Pe.DB_TYPE_BINARY_DOUBLE;break;case le.TNS_OBJ_TDS_TYPE_DATE:t.elementType=Pe.DB_TYPE_DATE;break;case le.TNS_OBJ_TDS_TYPE_TIMESTAMP:t.elementType=Pe.DB_TYPE_TIMESTAMP;break;case le.TNS_OBJ_TDS_TYPE_TIMESTAMP_LTZ:t.elementType=Pe.DB_TYPE_TIMESTAMP_LTZ;break;case le.TNS_OBJ_TDS_TYPE_TIMESTAMP_TZ:t.elementType=Pe.DB_TYPE_TIMESTAMP_TZ;break;case le.TNS_OBJ_TDS_TYPE_BOOLEAN:t.elementType=Pe.DB_TYPE_BOOLEAN;break;case le.TNS_OBJ_TDS_TYPE_CLOB:this._determineElementTypeCharsetForm(t);break;case le.TNS_OBJ_TDS_TYPE_BLOB:t.elementType=Pe.DB_TYPE_BLOB;break;case le.TNS_OBJ_TDS_TYPE_OBJ:t.elementType=Pe.DB_TYPE_OBJECT,await this._determineElementObjType(t);break;default:ft.throwErr(ft.ERR_TDS_TYPE_NOT_SUPPORTED,T)}}async _parseTDS(e,t){let n=new DE(e);if(n.skipBytes(4),n.skipBytes(2),n.skipBytes(2),n.readUInt16BE()>1){t.isCollection=!1;return}n.skipBytes(1),n.skipBytes(1),n.skipBytes(2),n.skipBytes(4);let T=n.readUInt8();if(t.isCollection=T===le.TNS_OBJ_TDS_TYPE_COLL,!t.isCollection)return;let l=n.readUInt32BE();t.maxNumElements=n.readUInt32BE(),t.collectionType=n.readUInt8(),t.collectionType===le.TNS_OBJ_PLSQL_INDEX_TABLE&&(t.collectionFlags=le.TNS_OBJ_HAS_INDEXES),n.pos=l,await this._parseElementType(n,t)}async _populateDbObjectTypeInfo(e){let t=`
      declare
          t_Instantiable              varchar2(3);
          t_SuperTypeOwner            varchar2(128);
          t_SuperTypeName             varchar2(128);
          t_SubTypeRefCursor          sys_refcursor;
          t_Pos                       pls_integer;
      begin
          :ret_val := dbms_pickler.get_type_shape(:full_name, :oid,
              :version, :tds, t_Instantiable, t_SuperTypeOwner,
              t_SuperTypeName, :attrs_rc, t_SubTypeRefCursor);
          :package_name := null;
          if substr(:full_name, length(:full_name) - 7) = '%ROWTYPE' then
              t_Pos := instr(:full_name, '.');
              :schema := substr(:full_name, 1, t_Pos - 1);
              :name := substr(:full_name, t_Pos + 1);
          else
              begin
                  select owner, type_name
                  into :schema, :name
                  from all_types
                  where type_oid = :oid;
              exception
              when no_data_found then
                  begin
                      select owner, package_name, type_name
                      into :schema, :package_name, :name
                      from all_plsql_types
                      where type_oid = :oid;
                  exception
                  when no_data_found then
                      null;
                  end;
              end;
          end if;
      end;`,n=[{name:"full_name",type:Pe.DB_TYPE_VARCHAR,dir:le.BIND_INOUT,maxSize:500,values:[e]},{name:"ret_val",type:Pe.DB_TYPE_BINARY_INTEGER,dir:le.BIND_OUT,values:[]},{name:"oid",type:Pe.DB_TYPE_RAW,maxSize:16,dir:le.BIND_OUT,values:[]},{name:"version",type:Pe.DB_TYPE_BINARY_INTEGER,dir:le.BIND_OUT,values:[]},{name:"tds",type:Pe.DB_TYPE_RAW,maxSize:2e3,dir:le.BIND_OUT,values:[]},{name:"attrs_rc",type:Pe.DB_TYPE_CURSOR,dir:le.BIND_OUT,values:[]},{name:"package_name",type:Pe.DB_TYPE_VARCHAR,maxSize:128,dir:le.BIND_OUT,values:[]},{name:"schema",type:Pe.DB_TYPE_VARCHAR,maxSize:128,dir:le.BIND_OUT,values:[]},{name:"name",type:Pe.DB_TYPE_VARCHAR,maxSize:128,dir:le.BIND_OUT,values:[]}],o={connection:{_impl:this},nullifyInvalidCursor:!0},T=await this.execute(t,1,n,o,!1);T.outBinds.ret_val!==0&&ft.throwErr(ft.ERR_INVALID_OBJECT_TYPE_NAME,e);let l=this._getDbObjectType(T.outBinds.schema,T.outBinds.name,T.outBinds.package_name,T.outBinds.oid);if(!l.partial)return l;l.version=T.outBinds.version,await this._parseTDS(T.outBinds.tds,l);let E=await T.outBinds.attrs_rc.getRows(1e3,{});if(E.length>0){l.attributes=[];for(let S of E){let R={name:S[1]};S[4]?(R.type=Pe.DB_TYPE_OBJECT,R.typeClass=this._getDbObjectType(S[4],S[3],S[5],S[6]),R.typeClass.partial&&this._partialDbObjectTypes.push(R.typeClass)):R.type=Pe.getTypeByColumnTypeName(S[3]),l.attributes.push(R)}}return l.partial=!1,l}async _populatePartialDbObjectTypes(){for(;this._partialDbObjectTypes.length>0;){let e=this._partialDbObjectTypes.pop(),t="%ROWTYPE",n=e.name;n.endsWith(t)?n=n.substring(0,n.length-t.length):t="";let o;e.packageName?o=`"${e.schema}"."${e.packageName}"."${n}"${t}`:o=`"${e.schema}"."${n}"${t}`,await this._populateDbObjectTypeInfo(o)}}async commit(){let e=new dr.CommitMessage(this);await this._protocol._processMessage(e)}async breakExecution(){await this._protocol.breakMessage()}_healthStatus(){return this.nscon.recvInbandNotif()}isHealthy(){try{return this.nscon.recvInbandNotif()===0}catch{return!1}}isPooled(){return!!this._pool}async connect(e){e.connectString||ft.throwErr(ft.ERR_EMPTY_CONNECT_STRING),en.checkCredentials(e),this.sessionID=0,this.serialNum=0,this.autoCommit=!1,this.serverVersion="",this.statementCache=null,this.currentSchema="",this.invokeSessionCallback=!0,this.statementCache=new Map,this.statementCacheSize=e.stmtCacheSize,this._numCursorsToClose=0,this._currentSchemaModified=!1,this._cursorsToClose=new Set,this._tempLobsToClose=[],this._tempLobsTotalSize=0,this._drcpEstablishSession=!1,this._cclass=null,this._clientIdentifier="",this._clientIdentifierModified=!1,this._action="",this._actionModified=!1,this._dbOp="",this._dbOpModified=!1,this._clientInfo="",this._clientInfoModified=!1,this._module="",this._moduleModified=!1,this.serviceName="",this.remoteAddress="",this.privilege=e.privilege,this.comboKey=null,this.nscon=new AU,pU.register(this,this.nscon),await this.nscon.connect(e),this._connInfo=this.isPooled()?e._connInfo.map(t=>t):await dU(e),this._drcpEnabled=String(this._connInfo[0]).toLowerCase()==="pooled",this.serviceName=this._connInfo[2],this.purity=this._connInfo[3]|le.PURITY_DEFAULT,this.remoteAddress=this.nscon.getOption(PU.REMOTEADDR),this.connClass=e.connectionClass,this.purity===le.PURITY_DEFAULT&&this._drcpEnabled&&(this.isPooled()?this.purity=le.PURITY_SELF:this.purity=le.PURITY_NEW),this._protocol=new SU(this),this._protocol.caps.protocolVersion<le.TNS_VERSION_MIN_ACCEPTED&&ft.throwErr(ft.ERR_SERVER_VERSION_NOT_SUPPORTED);try{let t=new dr.ProtocolMessage(this);await this._protocol._processMessage(t),t=new dr.DataTypeMessage(this),await this._protocol._processMessage(t),t=new dr.AuthMessage(this,e),await this._protocol._processMessage(t),await this._protocol._processMessage(t)}catch(t){throw this.nscon.disconnect(),t}this._partialDbObjectTypes=[],e.debugJDWP?this.jdwpData=bp.from(e.debugJDWP):kp.env.ORA_DEBUG_JDWP&&(this.jdwpData=bp.from(kp.env.ORA_DEBUG_JDWP)),this._protocol.connInProgress=!1}_returnStatement(e){e.bindInfoList&&e.bindInfoList.forEach(t=>{t.bindVar=null}),e.queryVars&&e.queryVars.forEach(t=>{t.values.fill(null)}),e.returnToCache?e.inUse=!1:e.cursorId!==0&&this._addCursorToClose(e.cursorId)}_addCursorToClose(e){if(this._cursorsToClose.has(e)){let t=`attempt to close cursor ${e} twice`;ft.throwErr(ft.ERR_INTERNAL,t)}this._cursorsToClose.add(e)}_adjustStatementCache(){for(;this.statementCache.size>this.statementCacheSize;){let e=this.statementCache.keys().next().value,t=this.statementCache.get(e);this.statementCache.delete(e),t.inUse?t.returnToCache=!1:t.cursorId!==0&&this._addCursorToClose(t.cursorId)}}_prepare(e,t){let n=this._getStatement(e,t.keepInStmtCache);return n.bufferRowIndex=0,n.bufferRowCount=0,n.lastRowIndex=0,n.moreRowsToFetch=!0,n}async _bind(e,t,n=0){let o=e.bindInfoDict,T=e.bindInfoList;if(e.isPlSql&&t.maxSize>32767){t.type===Pe.DB_TYPE_RAW||t.type===Pe.DB_TYPE_LONG_RAW?t.type=Pe.DB_TYPE_BLOB:t.type._csfrm===le.CSFRM_NCHAR?t.type=Pe.DB_TYPE_NCLOB:t.type=Pe.DB_TYPE_CLOB;let l=t.maxSize;delete t.maxSize,t.outConverter=async function(E){if(E===null)return null;let S=await E.getData(),R=E._length;return S&&R>l&&ft.throwErr(ft.ERR_INSUFFICIENT_BUFFER_FOR_BINDS),S}}if(t.type===Pe.DB_TYPE_CLOB||t.type===Pe.DB_TYPE_NCLOB||t.type===Pe.DB_TYPE_BLOB){for(let[l,E]of t.values.entries())if(!(E instanceof IE))if(E&&E.length>0){let S=new IE;await S.create(this,t.type),await S.write(1,E),t.values[l]=S}else t.values[l]=null}if(t.name){let l;t.name.startsWith('"')&&t.name.endsWith('"')?l=t.name.substring(1,t.name.length-1):l=t.name.toUpperCase(),l.startsWith(":")&&(l=t.name.substring(1)),o.has(l)||ft.throwErr(ft.ERR_INVALID_BIND_NAME,l),o.get(l).forEach(E=>{e._setVariable(E,t)})}else{let l=T[n-1];e._setVariable(l,t)}}_createResultSet(e,t){let n=new NU;if(t||(t=new vp),n._resultSetNew(this,t,e),t.queryVars.length>0){let o=en.getMetadataMany(t.queryVars);n._setup(e,o)}return n}async _prepareAndBind(e,t,n,o=!1){let T=this._prepare(e,n),l=0;if(!o){let E=T.bindInfoList.length,S=t.length;E!==S&&(S===0||!t[0].name)&&ft.throwErr(ft.ERR_WRONG_NUMBER_OF_POSITIONAL_BINDS,E,S);for(let R of t)await this._bind(T,R,l+1),l+=1}return T}resetStatmentCache(){this.statementCache.clear(),this._cursorsToClose.clear()}async getDbObjectClass(e){let t=await this._populateDbObjectTypeInfo(e);return await this._populatePartialDbObjectTypes(),t}async getStatementInfo(e){let t={},n={},o=await this._prepareAndBind(e,null,t,!0);if(t.connection=this,!o.isDdl){let T=new dr.ExecuteMessage(this,o,t);T.parseOnly=!0,await this._protocol._processMessage(T)}return o.numQueryVars>0&&(n.metaData=en.getMetadataMany(o.queryVars)),n.bindNames=Array.from(o.bindInfoDict.keys()),n.statementType=o.statementType,n}async execute(e,t,n,o,T){let l={};if(T)return await this.executeMany(e,t,n,o);let E=await this._prepareAndBind(e,n,o),S=new dr.ExecuteMessage(this,E,o);if(S.numExecs=1,await this._protocol._processMessage(S),E.requiresFullExecute=!1,E.requiresDefine&&E.sql&&(E.requiresFullExecute=!0,await this._protocol._processMessage(S),E.requiresFullExecute=!1,E.requiresDefine=!1),E.numQueryVars>0)l.resultSet=S.resultSet;else{E.bufferRowIndex=0;let R=en.getBindVars(E),d=en.getExecuteOutBinds(R);d&&(l.outBinds=d),E.isPlSql&&o.implicitResultSet&&(l.implicitResults=o.implicitResultSet),E.lastRowid&&(l.lastRowid=E.lastRowid,delete E.lastRowid),E.isPlSql?E.rowCount&&(l.rowsAffected=E.rowCount):l.rowsAffected=E.rowCount||0,E.rowCount&&delete E.rowCount,this._returnStatement(E)}return l}async executeMany(e,t,n,o){let T=await this._prepareAndBind(e,n,o);T.isPlSql&&(o.batchErrors||o.dmlRowCounts)&&ft.throwErr(ft.ERR_EXEC_MODE_ONLY_FOR_DML);let l=new dr.ExecuteMessage(this,T,o);l.numExecs=t,l.arrayDmlRowCounts=o.dmlRowCounts,l.batchErrors=o.batchErrors,T.isPlSql&&T.requiresFullExecute&&(l.numExecs=1,await this._protocol._processMessage(l),T.requiresFullExecute=!1,l.numExecs=t-1,l.offset=1),l.numExecs>0&&await this._protocol._processMessage(l);let E={};T.bufferRowIndex=0;let S=en.getBindVars(T),R=en.getExecuteManyOutBinds(S,t);R&&(E.outBinds=R);let d=T.isPlSql?void 0:T.rowCount;return d&&(E.rowsAffected=d,delete T.rowCount),o.dmlRowCounts&&(E.dmlRowCounts=o.dmlRowCounts),o.batchErrors&&(E.batchErrors=o.batchErrors),this._returnStatement(T),E}_getStatement(e,t=!1){let n=this.statementCache.get(e);return n?n.inUse||!t||this._drcpEstablishSession?(t||(this.statementCache.delete(e),n.returnToCache=!1),(n.inUse||this._drcpEstablishSession)&&(n=n._copy())):(this.statementCache.delete(e),this.statementCache.set(e,n)):(n=new vp,n._prepare(e),t&&!this._drcpEstablishSession&&!n.isDdl&&this.statementCacheSize>0&&(n.returnToCache=!0,this.statementCache.set(e,n),this._adjustStatementCache())),n.inUse=!0,n}async ping(){let e=new dr.PingMessage(this);await this._protocol._processMessage(e)}async rollback(){let e=new dr.RollbackMessage(this);await this._protocol._processMessage(e)}getOracleServerVersion(){return this.serverVersion}getOracleServerVersionString(){return this.serverVersionString}setCurrentSchema(e){this._currentSchemaModified=!0,this.currentSchema=e}getCurrentSchema(){return this.currentSchema}setClientId(e){this._clientIdentifierModified=!0,this._clientIdentifier=e}setDbOp(e){this._dbOpModified=!0,this._dbOp=e}setClientInfo(e){this._clientInfoModified=!0,this._clientInfo=e}setModule(e){this._moduleModified=!0,this._module=e,this._actionModified=!0}setAction(e){this._actionModified=!0,this._action=e}async changePassword(e,t,n){let o={user:e,newPassword:n,password:t,changePassword:!0},T=new dr.AuthMessage(this,o);await this._protocol._processMessage(T)}async createLob(e){let t=new IE;return await t.create(this,e),t}getStmtCacheSize(){return this.statementCacheSize}setCallTimeout(e){this._protocol.callTimeout=e}getCallTimeout(){return this._protocol.callTimeout}getTag(){return""}};c(OE,"ThinConnectionImpl");var CE=OE;Gp.exports=CE});var qp=b((u2,Hp)=>{"use strict";var RU=oc(),mU=LE(),sr=Pi(),Gr=Z(),IU=Sr(),yE=Wt(),DU=Vn(),{getConnectionInfo:CU}=eE(),gU=require("crypto"),OU=require("events"),BE=class BE extends RU{_init(e){if(e.homogeneous||Gr.throwErr(Gr.ERR_NOT_IMPLEMENTED,"Heterogeneous Pooling"),DU.checkCredentials(e),this._availableObjects=[],this._name="node-thin",this._poolMin=e.poolMin,this._poolMax=e.poolMax,this._poolIncrement=e.poolIncrement,this._poolTimeout=e.poolTimeout,this._poolPingInterval=e.poolPingInterval,this._stmtCacheSize=e.stmtCacheSize,this._userConfig=e,this._freeConnectionList=[],this._usedConnectionList=new Set,this._password=e.password,this._walletPassword=e.walletPassword,this._obfuscatedPassword=[],this._obfuscatedWalletPassword=[],this._token=e.token,this._obfuscatedToken=[],this._privateKey=e.privateKey,this._obfuscatedPrivateKey=[],this._schedulerJob=null,this._password!==void 0){let t=sr.setObfuscatedValue(this._password);this._password=t.value,this._obfuscatedPassword=t.obfuscatedValue,this._userConfig.password=null}if(this._walletPassword!==void 0){let t=sr.setObfuscatedValue(this._walletPassword);this._walletPassword=t.value,this._obfuscatedWalletPassword=t.obfuscatedValue,this._userConfig.walletPassword=null}if(this._token!==void 0){let t=sr.setObfuscatedValue(this._token);this._token=t.value,this._obfuscatedToken=t.obfuscatedValue,this._userConfig.token=null}if(this._privateKey!==void 0){let t=sr.setObfuscatedValue(this._privateKey);this._privateKey=t.value,this._obfuscatedPrivateKey=t.obfuscatedValue,this._userConfig.privateKey=null}this._accessTokenFn=e.accessTokenFn,this._isDRCPEnabled=!1,this.eventEmitter=new OU,this.eventEmitter.on("_removePoolConnection",async t=>{await this._destroy(t)})}async create(e){this._init(e),this._userConfig._connInfo=await CU(e),this._isDRCPEnabled=String(this._userConfig._connInfo[0]).toLowerCase()==="pooled",this._isDRCPEnabled&&IU.connectionClass===""&&this._generateConnectionClass(),await this._growPool(this._poolMin)}setAccessToken(e){if(e.token){this._token=e.token;let t=sr.setObfuscatedValue(this._token);this._token=t.value,this._obfuscatedToken=t.obfuscatedValue}if(e.privateKey){this._privateKey=e.privateKey;let t=sr.setObfuscatedValue(this._privateKey);this._privateKey=t.value,this._obfuscatedPrivateKey=t.obfuscatedValue}}async _getConnAttrs(){let e,t=Object.assign({},this._userConfig);if(t.password===null&&(t.password=sr.getDeobfuscatedValue(this._password,this._obfuscatedPassword)),t.walletPassword===null&&(t.walletPassword=sr.getDeobfuscatedValue(this._walletPassword,this._obfuscatedWalletPassword)),t.token===null&&(t.token=sr.getDeobfuscatedValue(this._token,this._obfuscatedToken),yE.isTokenExpired(t.token)))if(typeof this._accessTokenFn=="function"){if(e=await this._accessTokenFn(!0),typeof e=="string")if(t.token=e,yE.isTokenExpired(t.token))Gr.throwErr(Gr.ERR_TOKEN_HAS_EXPIRED);else{let n=sr.setObfuscatedValue(t.token);this._token=n.value,this._obfuscatedToken=n.obfuscatedValue}else if(typeof e=="object")if(t.token=e.token,t.privateKey=e.privateKey,yE.isTokenExpired(t.token))Gr.throwErr(Gr.ERR_TOKEN_HAS_EXPIRED);else{let n=sr.setObfuscatedValue(t.token);this._token=n.value,this._obfuscatedToken=n.obfuscatedValue;let o=sr.setObfuscatedValue(t.privateKey);this._privateKey=o.value,this._obfuscatedPrivateKey=o.obfuscatedValue}}else Gr.throwErr(Gr.ERR_TOKEN_HAS_EXPIRED);return t.privateKey===null&&(t.privateKey=sr.getDeobfuscatedValue(this._privateKey,this._obfuscatedPrivateKey)),t}async getConnection(){return await this.acquire()}async _destroy(e){e.nscon.ntAdapter.connected&&(e._dropSess=!0,await e.close())}async close(e){return this._schedulerJob&&(clearTimeout(this._schedulerJob),this._schedulerJob=null),await this.destroyAllNow(e)}getPoolMax(){return this._poolMax}getPoolMin(){return this._poolMin}getConnectionsInUse(){return this._usedConnectionList.size}getConnectionsOpen(){return this._freeConnectionList.length+this._usedConnectionList.size}getPoolIncrement(){return this._poolIncrement}getPoolMaxPerShard(){}getPoolPingInterval(){return this._poolPingInterval}getPoolTimeout(){return this._poolTimeout}getSodaMetaDataCache(){}getStmtCacheSize(){return this._stmtCacheSize}async _growPool(e){let t=await this._getConnAttrs();for(;e>0;){let n=new mU;n._pool=this,await n.connect(t),n._newSession=!0,n._dropSess=!1,n._lastTimeUsed=Date.now(),this._freeConnectionList.push(n),e--}}_setScheduler(){!this._schedulerJob&&this._poolTimeout>0&&this._freeConnectionList.length>0&&this._freeConnectionList.length+this._usedConnectionList.size>this._poolMin&&(this._schedulerJob=setTimeout(()=>{this._scanIdleConnection()},this._poolTimeout*1e3))}_scanIdleConnection(){for(;this._usedConnectionList.size+this._freeConnectionList.length>this._poolMin&&this._freeConnectionList.length>0;){let e=this._freeConnectionList[this._freeConnectionList.length-1];if(Date.now()-e._lastTimeUsed<this._poolTimeout*1e3)break;this.eventEmitter.emit("_removePoolConnection",e),this._freeConnectionList.pop()}this._schedulerJob=null,this._setScheduler()}async acquire(){for(;this._freeConnectionList.length>0;){let t=this._freeConnectionList.pop();if(!t.isHealthy()){this.eventEmitter.emit("_removePoolConnection",t);continue}let n=!1;if((this._poolPingInterval===0||this._poolPingInterval>0&&Date.now()-t._lastTimeUsed>this._poolPingInterval*1e3)&&(n=!0),n)try{await t.ping()}catch{this.eventEmitter.emit("_removePoolConnection",t);continue}return this._usedConnectionList.add(t),t}if(this._usedConnectionList.size<this._poolMin)await this._growPool(this._poolMin-this._usedConnectionList.size);else{let t=this._poolMax-this._usedConnectionList.size;await this._growPool(Math.min(this._poolIncrement,t)),this._poolIncrement>1&&t>1&&this._setScheduler()}let e=this._freeConnectionList.pop();return this._usedConnectionList.add(e),e}release(e){this._usedConnectionList.delete(e),e.nscon.connected&&(e._lastTimeUsed=Date.now(),e._newSession=!1,this._freeConnectionList.push(e)),this._setScheduler()}async destroyAllNow(e){let t;for(;this._freeConnectionList.length!==0;)t=this._freeConnectionList.pop(),await this._destroy(t);if(e.forceClose)for(let n of this._usedConnectionList)await this._destroy(n),this._usedConnectionList.delete(n);this._usedConnectionList.size!==0&&Gr.throwErr(Gr.ERR_POOL_HAS_BUSY_CONNECTIONS),this.eventEmitter.removeAllListeners()}_generateConnectionClass(){this._userConfig.connectionClass=gU.randomBytes(16).toString("base64"),this._userConfig.connectionClass="NJS:"+this._userConfig.connectionClass}};c(BE,"ThinPoolImpl");var wE=BE;Hp.exports=wE});var Kp=b(()=>{"use strict";var LU=LE(),yU=Gl(),wU=qp(),BU=S_(),YU=Dl(),Yi=gn();Yi.ConnectionImpl=LU;Yi.ResultSetImpl=yU;Yi.PoolImpl=wU;Yi.LobImpl=BU;Yi.DbObjectImpl=YU});var Zp=b((S2,jp)=>{"use strict";var F=Ct(),Ze=Wt(),U=Z(),Ae=qt(),Wp=gn(),UU=require("process"),MU=require("util"),YE=UU.version.substring(1).split(".").map(Number);U.assert(YE[0]>14||YE[0]===14&&YE[1]>=6,U.ERR_NODE_TOO_OLD,Ze.PACKAGE_JSON_VERSION,"14.6");var VU=Rc(),xU=Cc(),FU=Lc(),bU=Kc(),vU=Ln(),zp=ol(),kU=On(),Xp=Jd(),GU=Tl(),HU=$o(),j=Sr(),qU=rl(),KU=$c(),WU=Xc(),zU=yn(),XU=jc(),bn={},U_={},Ui="default",Ms,QU=!1;function JU(){let i=typeof __non_webpack_require__=="function"?__non_webpack_require__:require,e=["../"+Ze.RELEASE_DIR+"/"+Ze.BINARY_FILE,"../"+Ze.RELEASE_DIR+"/oracledb.node","../build/Debug/oracledb.node","./node_modules/oracledb/"+Ze.RELEASE_DIR+"/"+Ze.BINARY_FILE,"./node_modules/oracledb/"+Ze.RELEASE_DIR+"/oracledb.node"],t;for(let n=0;n<e.length;n++)try{t=i(e[n]);break}catch(o){if(o.code!=="MODULE_NOT_FOUND"||n==e.length-1){let T;o.code==="MODULE_NOT_FOUND"?T=`
  Looked for ${e.map(l=>require("path").resolve(__dirname,l)).join(", ")}
  ${Ze.getInstallURL()}
`:T=`
  Node.js require('oracledb') error was:
  ${o.message}
  ${Ze.getInstallHelp()}
`,U.throwErr(U.ERR_CANNOT_LOAD_BINARY,T)}}return t}c(JU,"_initCLib");function Qp(){Kp()}c(Qp,"_initializeThinDriver");function jU(i){return i===F.SYSASM||i===F.SYSBACKUP||i===F.SYSDBA||i===F.SYSDG||i===F.SYSKM||i===F.SYSOPER||i===F.SYSPRELIM||i===F.SYSRAC}c(jU,"_isPrivilege");async function Jp(i,e){let t={};if(i.user!==void 0&&(U.assertParamPropValue(typeof i.user=="string",1,"user"),t.user=i.user),i.username!==void 0&&(U.assert(t.user===void 0,U.ERR_DBL_USER),U.assertParamPropValue(typeof i.username=="string",1,"username"),t.user=i.username),i.password!==void 0&&(U.assertParamPropValue(typeof i.password=="string",1,"password"),t.password=i.password),i.connectString!==void 0&&(U.assertParamPropValue(typeof i.connectString=="string",1,"connectString"),t.connectString=i.connectString),i.connectionString!==void 0&&(U.assert(t.connectString===void 0,U.ERR_DBL_CONNECT_STRING),U.assertParamPropValue(typeof i.connectionString=="string",1,"connectionString"),t.connectString=i.connectionString),i.walletPassword!==void 0&&(U.assertParamPropValue(typeof i.walletPassword=="string",1,"walletPassword"),t.walletPassword=i.walletPassword),i.walletLocation!==void 0&&(U.assertParamPropValue(typeof i.walletLocation=="string",1,"walletLocation"),t.walletLocation=i.walletLocation),i.edition!==void 0&&(U.assertParamPropValue(typeof i.edition=="string",1,"edition"),t.edition=i.edition),i.stmtCacheSize!==void 0&&(U.assertParamPropValue(Number.isInteger(i.stmtCacheSize)&&i.stmtCacheSize>=0,1,"stmtCacheSize"),t.stmtCacheSize=i.stmtCacheSize),t.externalAuth=j.externalAuth,i.externalAuth!==void 0&&(U.assertParamPropValue(typeof i.externalAuth=="boolean",1,"externalAuth"),t.externalAuth=i.externalAuth),i.events!==void 0&&(U.assertParamPropValue(typeof i.events=="boolean",1,"events"),t.events=i.events),i.poolAlias!==void 0&&(U.assertParamPropValue(typeof i.poolAlias=="string"&&i.poolAlias.length>0,1,"poolAlias"),t.poolAlias=i.poolAlias),i.configDir!==void 0&&(U.assertParamPropValue(typeof i.configDir=="string",1,"configDir"),t.configDir=i.configDir),i.sslServerCertDN!==void 0&&(U.assertParamPropValue(typeof i.sslServerCertDN=="string",1,"sslServerCertDN"),t.sslServerCertDN=i.sslServerCertDN),i.sslServerDNMatch!==void 0&&(U.assertParamPropValue(typeof i.sslServerDNMatch=="boolean",1,"sslServerDNMatch"),t.sslServerDNMatch=i.sslServerDNMatch),i.httpsProxy!==void 0&&(U.assertParamPropValue(typeof i.httpsProxy=="string",1,"httpsProxy"),t.httpsProxy=i.httpsProxy),i.httpsProxyPort!==void 0&&(U.assertParamPropValue(Number.isInteger(i.httpsProxyPort)&&i.httpsProxyPort>=0,1,"httpsProxyPort"),t.httpsProxyPort=i.httpsProxyPort),i.retryCount!==void 0&&(U.assertParamPropValue(Number.isInteger(i.retryCount)&&i.retryCount>=0,1,"retryCount"),t.retryCount=i.retryCount),i.retryDelay!==void 0&&(U.assertParamPropValue(Number.isInteger(i.retryDelay)&&i.retryDelay>=0,1,"retryDelay"),t.retryDelay=i.retryDelay),i.connectTimeout!==void 0&&(U.assertParamPropValue(Number.isInteger(i.connectTimeout)&&i.connectTimeout>=0,1,"connectTimeout"),t.connectTimeout=i.connectTimeout),i.transportConnectTimeout!==void 0&&(U.assertParamPropValue(Number.isInteger(i.transportConnectTimeout)&&i.transportConnectTimeout>=0,1,"transportConnectTimeout"),t.transportConnectTimeout=i.transportConnectTimeout),i.expireTime!==void 0&&(U.assertParamPropValue(Number.isInteger(i.expireTime)&&i.expireTime>=0,1,"expireTime"),t.expireTime=i.expireTime),i.sdu!==void 0&&(U.assertParamPropValue(Number.isInteger(i.sdu)&&i.sdu>0,1,"sdu"),t.sdu=i.sdu),i.connectionIdPrefix!==void 0&&(U.assertParamPropValue(typeof i.connectionIdPrefix=="string",1,"connectionIdPrefix"),t.connectionIdPrefix=i.connectionIdPrefix),e)i.poolMax!==void 0&&(U.assertParamPropValue(Number.isInteger(i.poolMax)&&i.poolMax>0,1,"poolMax"),t.poolMax=i.poolMax),i.poolMaxPerShard!==void 0&&(U.assertParamPropValue(Number.isInteger(i.poolMaxPerShard)&&i.poolMaxPerShard>=0,1,"poolMaxPerShard"),t.poolMaxPerShard=i.poolMaxPerShard),i.poolMin!==void 0&&(U.assertParamPropValue(Number.isInteger(i.poolMin)&&i.poolMin>=0,1,"poolMin"),t.poolMin=i.poolMin),i.poolIncrement!==void 0&&(U.assertParamPropValue(Number.isInteger(i.poolIncrement)&&i.poolIncrement>=0,1,"poolIncrement"),t.poolIncrement=i.poolIncrement),i.poolTimeout!==void 0&&(U.assertParamPropValue(Number.isInteger(i.poolTimeout)&&i.poolTimeout>=0,1,"poolTimeout"),t.poolTimeout=i.poolTimeout),i.poolPingInterval!==void 0&&(U.assertParamPropValue(Number.isInteger(i.poolPingInterval)&&i.poolPingInterval>=-2147483648&&i.poolPingInterval<=2147483647,1,"poolPingInterval"),t.poolPingInterval=i.poolPingInterval),t.homogeneous=!0,i.homogeneous!==void 0&&(U.assertParamPropValue(typeof i.homogeneous=="boolean",1,"homogeneous"),t.homogeneous=i.homogeneous),i.queueTimeout!==void 0&&(U.assertParamPropValue(Number.isInteger(i.queueTimeout)&&i.queueTimeout>=0,1,"queueTimeout"),t.queueTimeout=i.queueTimeout),i.queueMax!==void 0&&(U.assertParamPropValue(Number.isInteger(i.queueMax),1,"queueMax"),t.queueMax=i.queueMax),t.sodaMetaDataCache=!1,i.sodaMetaDataCache!==void 0&&(U.assertParamPropValue(typeof i.sodaMetaDataCache=="boolean",1,"sodaMetaDataCache"),t.sodaMetaDataCache=i.sodaMetaDataCache),i.sessionCallback!==void 0&&(U.assertParamPropValue(typeof i.sessionCallback=="string"||typeof i.sessionCallback=="function",1,"sessionCallback"),t.sessionCallback=i.sessionCallback),t.enableStatistics=!1,i.enableStatistics!==void 0&&(U.assertParamPropValue(typeof i.enableStatistics=="boolean",1,"enableStatistics"),t.enableStatistics=i.enableStatistics),!t.enableStatistics&&i._enableStats!==void 0&&(U.assertParamPropValue(typeof i._enableStats=="boolean",1,"_enableStats"),t.enableStatistics=i._enableStats);else{if(i.newPassword!==void 0&&(U.assertParamPropValue(typeof i.newPassword=="string",1,"newPassword"),t.newPassword=i.newPassword),i.privilege!==void 0&&(U.assertParamPropValue(jU(i.privilege),1,"privilege"),t.privilege=i.privilege),i.shardingKey!==void 0){let n=i.shardingKey;U.assertParamPropValue(Ze.isShardingKey(n),1,"shardingKey"),t.shardingKey=i.shardingKey}if(i.superShardingKey!==void 0){let n=i.superShardingKey;U.assertParamPropValue(Ze.isShardingKey(n),1,"superShardingKey"),t.superShardingKey=i.superShardingKey}}if(i.accessToken!==void 0){U.assert(t.user===void 0&&t.password===void 0,U.ERR_TOKEN_BASED_AUTH),e?U.assert(t.homogeneous&&t.externalAuth,U.ERR_POOL_TOKEN_BASED_AUTH):U.assert(t.externalAuth,U.ERR_CONN_TOKEN_BASED_AUTH);let n;typeof i.accessToken=="function"?(t.accessTokenFn=i.accessToken,n=await i.accessToken(!1),Ze.isTokenValid(n)||(n=await i.accessToken(!0))):n=i.accessToken,U.assert(Ze.isTokenValid(n),U.ERR_TOKEN_HAS_EXPIRED),n.privateKey!==void 0&&U.assert(Ze.isPrivateKeyValid(n),U.ERR_INVALID_PRIVATE_KEY),typeof n=="string"?t.token=n:(t.token=n.token,t.privateKey=n.privateKey)}return t.token===void 0&&t.externalAuth&&(t.user||t.password)&&U.throwErr(U.ERR_WRONG_CRED_FOR_EXTAUTH),t}c(Jp,"_verifyOptions");async function ZU(i){let e;U.assertArgCount(arguments,1,1),U.assertParamValue(Ze.isObject(i),1),i=await Jp(i,!0);let t=i.sessionCallback;typeof t=="function"&&delete i.sessionCallback,i.poolAlias!==void 0?e=i.poolAlias:i.poolAlias===void 0&&!bn[Ui]&&!U_[Ui]&&(e=Ui),(bn[e]||U_[e])&&U.throwErr(U.ERR_POOL_WITH_ALIAS_ALREADY_EXISTS,e),j.addToOptions(i,"connectionClass","edition","events","externalAuth","stmtCacheSize","poolMax","poolMaxPerShard","poolMin","poolIncrement","poolTimeout","poolPingInterval","queueMax","queueTimeout"),i.poolMin>i.poolMax&&U.throwErr(U.ERR_INVALID_NUMBER_OF_CONNECTIONS,i.poolMax,i.poolMin),Ms===void 0&&!QU&&Qp(),e&&(U_[e]=!0);let n=new Xp;try{await n._impl.create(i)}finally{e&&delete U_[e]}return e&&(bn[e]=n),n._setup(i,e),n._sessionCallback=t,n.on("_afterPoolClose",()=>{n.poolAlias&&delete bn[n.poolAlias]}),n}c(ZU,"createPool");async function $U(i){let e={},t;if(U.assertArgCount(arguments,0,1),arguments.length==0?t=Ui:typeof i=="string"?t=i:(e=i,U.assertParamValue(Ze.isObject(e),1),t=e.poolAlias),t){let o=bn[t];return U.assert(o,U.ERR_POOL_WITH_ALIAS_NOT_FOUND,t),await o.getConnection(e)}e=await Jp(e,!1),j.addToOptions(e,"connectionClass","edition","events","externalAuth","stmtCacheSize"),Ms===void 0&&!j.thinDriverInitialized&&Qp();let n=new zp;return n._impl=new Wp.ConnectionImpl,await n._impl.connect(e),Ms===void 0&&(j.thinDriverInitialized=!0),n}c($U,"getConnection");function e1(i){let e;return U.assertArgCount(arguments,0,1),i&&U.assertParamValue(typeof i=="string"||typeof i=="number",1),i=i||Ui,e=bn[i],e||U.throwErr(U.ERR_POOL_WITH_ALIAS_NOT_FOUND,i),e}c(e1,"getPool");function t1(i){let e={};if(U.assertArgCount(arguments,0,1),i!==void 0&&(U.assertParamValue(Ze.isObject(i),1),e={...i},U.assertParamPropString(e,1,"libDir"),U.assertParamPropString(e,1,"configDir"),U.assertParamPropString(e,1,"errorUrl"),U.assertParamPropString(e,1,"driverName")),j.thinDriverInitialized&&U.throwErr(U.ERR_THIN_CONNECTION_ALREADY_CREATED),Ms===void 0){let t=JU();e.driverName===void 0&&(e.driverName=F.DEFAULT_DRIVER_NAME+" thk"),e.errorUrl===void 0&&(e.errorUrl=F.DEFAULT_ERROR_URL);try{t.initOracleClient(e,Wp,j)}catch(n){let o=U.transformErr(n);throw o.code==="DPI-1047"&&(o.message+=`
`+Ze.getInstallHelp()),o}Ms=i||{}}else MU.isDeepStrictEqual(Ms,e)||U.throwErr(U.ERR_INIT_ORACLE_CLIENT_ARGS);j.thin=!1}c(t1,"initOracleClient");async function r1(i,e){let t={},n=F.SHUTDOWN_MODE_DEFAULT;U.assertArgCount(arguments,0,2),arguments.length==2?(U.assertParamValue(typeof i=="object",1),U.assertParamValue(typeof e=="number",2),t=i,n=e):arguments.length==1&&(U.assertParamValue(typeof i=="object",1),t=i);let o={user:t.user,password:t.password,connectString:t.connectString,connectionString:t.connectionString,externalAuth:t.externalAuth,privilege:F.SYSOPER},T=await this.getConnection(o);await T.shutdown(n),n!=this.SHUTDOWN_MODE_ABORT&&(await T.execute("ALTER DATABASE CLOSE"),await T.execute("ALTER DATABASE DISMOUNT"),await T.shutdown(this.SHUTDOWN_MODE_FINAL)),await T.close()}c(r1,"shutdown");async function s1(i,e){let t={},n={};U.assertArgCount(arguments,0,2),arguments.length==2?(U.assertParamValue(typeof i=="object",1),U.assertParamValue(typeof e=="object",2),t=i,n=e):arguments.length==1&&(U.assertParamValue(typeof i=="object",1),t=i);let o={user:t.user,password:t.password,connectString:t.connectString,connectionString:t.connectionString,externalAuth:t.externalAuth,privilege:this.SYSOPER|this.SYSPRELIM},T=await this.getConnection(o);await T.startup(n),await T.close(),o.privilege=this.SYSOPER,T=await this.getConnection(o),await T.execute("ALTER DATABASE MOUNT"),await T.execute("ALTER DATABASE OPEN"),await T.close()}c(s1,"startup");jp.exports={AqDeqOptions:VU,AqEnqOptions:xU,AqMessage:FU,AqQueue:bU,BaseDbObject:vU,Connection:zp,Lob:kU,Pool:Xp,PoolStatistics:GU,ResultSet:HU,SodaDatabase:qU,SodaCollection:KU,SodaDocCursor:WU,SodaDocument:zU,SodaOperation:XU,getConnection:Ze.callbackify($U),createPool:Ze.callbackify(ZU),getPool:e1,initOracleClient:t1,shutdown:Ze.callbackify(r1),startup:Ze.callbackify(s1),CQN_OPCODE_ALL_OPS:F.CQN_OPCODE_ALL_OPS,CQN_OPCODE_ALL_ROWS:F.CQN_OPCODE_ALL_ROWS,CQN_OPCODE_ALTER:F.CQN_OPCODE_ALTER,CQN_OPCODE_DELETE:F.CQN_OPCODE_DELETE,CQN_OPCODE_DROP:F.CQN_OPCODE_DROP,CQN_OPCODE_INSERT:F.CQN_OPCODE_INSERT,CQN_OPCODE_UPDATE:F.CQN_OPCODE_UPDATE,DB_TYPE_BFILE:Ae.DB_TYPE_BFILE,DB_TYPE_BINARY_DOUBLE:Ae.DB_TYPE_BINARY_DOUBLE,DB_TYPE_BINARY_FLOAT:Ae.DB_TYPE_BINARY_FLOAT,DB_TYPE_BINARY_INTEGER:Ae.DB_TYPE_BINARY_INTEGER,DB_TYPE_BLOB:Ae.DB_TYPE_BLOB,DB_TYPE_BOOLEAN:Ae.DB_TYPE_BOOLEAN,DB_TYPE_CHAR:Ae.DB_TYPE_CHAR,DB_TYPE_CLOB:Ae.DB_TYPE_CLOB,DB_TYPE_CURSOR:Ae.DB_TYPE_CURSOR,DB_TYPE_DATE:Ae.DB_TYPE_DATE,DB_TYPE_INTERVAL_DS:Ae.DB_TYPE_INTERVAL_DS,DB_TYPE_INTERVAL_YM:Ae.DB_TYPE_INTERVAL_YM,DB_TYPE_JSON:Ae.DB_TYPE_JSON,DB_TYPE_LONG:Ae.DB_TYPE_LONG,DB_TYPE_LONG_NVARCHAR:Ae.DB_TYPE_LONG_NVARCHAR,DB_TYPE_LONG_RAW:Ae.DB_TYPE_LONG_RAW,DB_TYPE_NCHAR:Ae.DB_TYPE_NCHAR,DB_TYPE_NCLOB:Ae.DB_TYPE_NCLOB,DB_TYPE_NUMBER:Ae.DB_TYPE_NUMBER,DB_TYPE_NVARCHAR:Ae.DB_TYPE_NVARCHAR,DB_TYPE_OBJECT:Ae.DB_TYPE_OBJECT,DB_TYPE_RAW:Ae.DB_TYPE_RAW,DB_TYPE_ROWID:Ae.DB_TYPE_ROWID,DB_TYPE_TIMESTAMP:Ae.DB_TYPE_TIMESTAMP,DB_TYPE_TIMESTAMP_LTZ:Ae.DB_TYPE_TIMESTAMP_LTZ,DB_TYPE_TIMESTAMP_TZ:Ae.DB_TYPE_TIMESTAMP_TZ,DB_TYPE_VARCHAR:Ae.DB_TYPE_VARCHAR,DEFAULT:F.DEFAULT,STMT_TYPE_UNKNOWN:F.STMT_TYPE_UNKNOWN,STMT_TYPE_SELECT:F.STMT_TYPE_SELECT,STMT_TYPE_UPDATE:F.STMT_TYPE_UPDATE,STMT_TYPE_DELETE:F.STMT_TYPE_DELETE,STMT_TYPE_INSERT:F.STMT_TYPE_INSERT,STMT_TYPE_CREATE:F.STMT_TYPE_CREATE,STMT_TYPE_DROP:F.STMT_TYPE_DROP,STMT_TYPE_ALTER:F.STMT_TYPE_ALTER,STMT_TYPE_BEGIN:F.STMT_TYPE_BEGIN,STMT_TYPE_DECLARE:F.STMT_TYPE_DECLARE,STMT_TYPE_CALL:F.STMT_TYPE_CALL,STMT_TYPE_EXPLAIN_PLAN:F.STMT_TYPE_EXPLAIN_PLAN,STMT_TYPE_MERGE:F.STMT_TYPE_MERGE,STMT_TYPE_ROLLBACK:F.STMT_TYPE_ROLLBACK,STMT_TYPE_COMMIT:F.STMT_TYPE_COMMIT,SHUTDOWN_MODE_DEFAULT:F.SHUTDOWN_MODE_DEFAULT,SHUTDOWN_MODE_TRANSACTIONAL:F.SHUTDOWN_MODE_TRANSACTIONAL,SHUTDOWN_MODE_TRANSACTIONAL_LOCAL:F.SHUTDOWN_MODE_TRANSACTIONAL_LOCAL,SHUTDOWN_MODE_IMMEDIATE:F.SHUTDOWN_MODE_IMMEDIATE,SHUTDOWN_MODE_ABORT:F.SHUTDOWN_MODE_ABORT,SHUTDOWN_MODE_FINAL:F.SHUTDOWN_MODE_FINAL,STARTUP_MODE_DEFAULT:F.STARTUP_MODE_DEFAULT,STARTUP_MODE_FORCE:F.STARTUP_MODE_FORCE,STARTUP_MODE_RESTRICT:F.STARTUP_MODE_RESTRICT,SUBSCR_EVENT_TYPE_SHUTDOWN:F.SUBSCR_EVENT_TYPE_SHUTDOWN,SUBSCR_EVENT_TYPE_SHUTDOWN_ANY:F.SUBSCR_EVENT_TYPE_SHUTDOWN_ANY,SUBSCR_EVENT_TYPE_STARTUP:F.SUBSCR_EVENT_TYPE_STARTUP,SUBSCR_EVENT_TYPE_DEREG:F.SUBSCR_EVENT_TYPE_DEREG,SUBSCR_EVENT_TYPE_OBJ_CHANGE:F.SUBSCR_EVENT_TYPE_OBJ_CHANGE,SUBSCR_EVENT_TYPE_QUERY_CHANGE:F.SUBSCR_EVENT_TYPE_QUERY_CHANGE,SUBSCR_EVENT_TYPE_AQ:F.SUBSCR_EVENT_TYPE_AQ,SUBSCR_GROUPING_CLASS_TIME:F.SUBSCR_GROUPING_CLASS_TIME,SUBSCR_GROUPING_TYPE_SUMMARY:F.SUBSCR_GROUPING_TYPE_SUMMARY,SUBSCR_GROUPING_TYPE_LAST:F.SUBSCR_GROUPING_TYPE_LAST,SUBSCR_NAMESPACE_AQ:F.SUBSCR_NAMESPACE_AQ,SUBSCR_NAMESPACE_DBCHANGE:F.SUBSCR_NAMESPACE_DBCHANGE,SUBSCR_QOS_BEST_EFFORT:F.SUBSCR_QOS_BEST_EFFORT,SUBSCR_QOS_DEREG_NFY:F.SUBSCR_QOS_DEREG_NFY,SUBSCR_QOS_QUERY:F.SUBSCR_QOS_QUERY,SUBSCR_QOS_RELIABLE:F.SUBSCR_QOS_RELIABLE,SUBSCR_QOS_ROWIDS:F.SUBSCR_QOS_ROWIDS,SYSASM:F.SYSASM,SYSBACKUP:F.SYSBACKUP,SYSDBA:F.SYSDBA,SYSDG:F.SYSDG,SYSKM:F.SYSKM,SYSOPER:F.SYSOPER,SYSPRELIM:F.SYSPRELIM,SYSRAC:F.SYSRAC,BIND_IN:F.BIND_IN,BIND_INOUT:F.BIND_INOUT,BIND_OUT:F.BIND_OUT,OUT_FORMAT_ARRAY:F.OUT_FORMAT_ARRAY,OUT_FORMAT_OBJECT:F.OUT_FORMAT_OBJECT,SODA_COLL_MAP_MODE:F.SODA_COLL_MAP_MODE,POOL_STATUS_OPEN:F.POOL_STATUS_OPEN,POOL_STATUS_DRAINING:F.POOL_STATUS_DRAINING,POOL_STATUS_CLOSED:F.POOL_STATUS_CLOSED,POOL_STATUS_RECONFIGURING:F.POOL_STATUS_RECONFIGURING,AQ_DEQ_NO_WAIT:F.AQ_DEQ_NO_WAIT,AQ_DEQ_WAIT_FOREVER:F.AQ_DEQ_WAIT_FOREVER,AQ_DEQ_MODE_BROWSE:F.AQ_DEQ_MODE_BROWSE,AQ_DEQ_MODE_LOCKED:F.AQ_DEQ_MODE_LOCKED,AQ_DEQ_MODE_REMOVE:F.AQ_DEQ_MODE_REMOVE,AQ_DEQ_MODE_REMOVE_NO_DATA:F.AQ_DEQ_MODE_REMOVE_NO_DATA,AQ_DEQ_NAV_FIRST_MSG:F.AQ_DEQ_NAV_FIRST_MSG,AQ_DEQ_NAV_NEXT_TRANSACTION:F.AQ_DEQ_NAV_NEXT_TRANSACTION,AQ_DEQ_NAV_NEXT_MSG:F.AQ_DEQ_NAV_NEXT_MSG,AQ_MSG_DELIV_MODE_PERSISTENT:F.AQ_MSG_DELIV_MODE_PERSISTENT,AQ_MSG_DELIV_MODE_BUFFERED:F.AQ_MSG_DELIV_MODE_BUFFERED,AQ_MSG_DELIV_MODE_PERSISTENT_OR_BUFFERED:F.AQ_MSG_DELIV_MODE_PERSISTENT_OR_BUFFERED,AQ_MSG_STATE_READY:F.AQ_MSG_STATE_READY,AQ_MSG_STATE_WAITING:F.AQ_MSG_STATE_WAITING,AQ_MSG_STATE_PROCESSED:F.AQ_MSG_STATE_PROCESSED,AQ_MSG_STATE_EXPIRED:F.AQ_MSG_STATE_EXPIRED,AQ_VISIBILITY_IMMEDIATE:F.AQ_VISIBILITY_IMMEDIATE,AQ_VISIBILITY_ON_COMMIT:F.AQ_VISIBILITY_ON_COMMIT,TPC_BEGIN_JOIN:F.TPC_BEGIN_JOIN,TPC_BEGIN_NEW:F.TPC_BEGIN_NEW,TPC_BEGIN_PROMOTE:F.TPC_BEGIN_PROMOTE,TPC_BEGIN_RESUME:F.TPC_BEGIN_RESUME,TPC_END_NORMAL:F.TPC_END_NORMAL,TPC_END_SUSPEND:F.TPC_END_SUSPEND,BLOB:Ae.DB_TYPE_BLOB,BUFFER:Ae.DB_TYPE_RAW,CLOB:Ae.DB_TYPE_CLOB,CURSOR:Ae.DB_TYPE_CURSOR,DATE:Ae.DB_TYPE_TIMESTAMP,NCLOB:Ae.DB_TYPE_NCLOB,NUMBER:Ae.DB_TYPE_NUMBER,STRING:Ae.DB_TYPE_VARCHAR,ARRAY:F.OUT_FORMAT_ARRAY,OBJECT:F.OUT_FORMAT_OBJECT,get autoCommit(){return j.autoCommit},get connectionClass(){return j.connectionClass},get dbObjectAsPojo(){return j.dbObjectAsPojo},get edition(){return j.edition},get errorOnConcurrentExecute(){return j.errorOnConcurrentExecute},get events(){return j.events},get externalAuth(){return j.externalAuth},get fetchArraySize(){return j.fetchArraySize},get fetchAsBuffer(){return j.fetchAsBuffer},get fetchAsString(){return j.fetchAsString},get fetchTypeHandler(){return j.fetchTypeHandler},get lobPrefetchSize(){return j.lobPrefetchSize},get maxRows(){return j.maxRows},get oracleClientVersion(){return Ms===void 0&&U.throwNotImplemented("getting the Oracle Client version"),j.oracleClientVersion},get oracleClientVersionString(){return Ms===void 0&&U.throwNotImplemented("getting the Oracle Client version"),j.oracleClientVersionString},get outFormat(){return j.outFormat},get poolIncrement(){return j.poolIncrement},get poolMax(){return j.poolMax},get poolMaxPerShard(){return j.poolMaxPerShard},get poolMin(){return j.poolMin},get poolPingInterval(){return j.poolPingInterval},get poolTimeout(){return j.poolTimeout},get prefetchRows(){return j.prefetchRows},get stmtCacheSize(){return j.stmtCacheSize},get thin(){return j.thin},get version(){return F.VERSION_MAJOR*1e4+F.VERSION_MINOR*100+F.VERSION_PATCH},get versionString(){return F.VERSION_STRING},get versionSuffix(){return F.VERSION_SUFFIX},set autoCommit(i){U.assertPropValue(typeof i=="boolean","autoCommit"),j.autoCommit=i},set connectionClass(i){U.assertPropValue(typeof i=="string","connectionClass"),j.connectionClass=i},set dbObjectAsPojo(i){U.assertPropValue(typeof i=="boolean","dbObjectAsPojo"),j.dbObjectAsPojo=i},set edition(i){U.assertPropValue(typeof i=="string","edition"),j.edition=i},set errorOnConcurrentExecute(i){U.assertPropValue(typeof i=="boolean","errorOnConcurrentExecute"),j.errorOnConcurrentExecute=i},set events(i){U.assertPropValue(typeof i=="boolean","events"),j.events=i},set externalAuth(i){U.assertPropValue(typeof i=="boolean","externalAuth"),j.externalAuth=i},set fetchArraySize(i){U.assertPropValue(Number.isInteger(i)&&i>0,"fetchArraySize"),j.fetchArraySize=i},set fetchAsBuffer(i){U.assertPropValue(Array.isArray(i),"fetchAsBuffer"),j.createFetchTypeMap(j.fetchAsString,i),j.fetchAsBuffer=i},set fetchAsString(i){U.assertPropValue(Array.isArray(i),"fetchAsString"),j.createFetchTypeMap(i,j.fetchAsBuffer),j.fetchAsString=i},set fetchTypeHandler(i){i!==void 0&&U.assertPropValue(typeof i=="function","fetchTypeHandler"),j.fetchTypeHandler=i},set lobPrefetchSize(i){U.assertPropValue(Number.isInteger(i)&&i>=0,"lobPrefetchSize"),j.lobPrefetchSize=i},set maxRows(i){U.assertPropValue(Number.isInteger(i)&&i>=0,"maxRows"),j.maxRows=i},set outFormat(i){i!==F.OUT_FORMAT_ARRAY&&i!==F.OUT_FORMAT_OBJECT&&U.throwErr(U.ERR_INVALID_PROPERTY_VALUE,"outFormat"),j.outFormat=i},set poolIncrement(i){U.assertPropValue(Number.isInteger(i)&&i>=0,"poolIncrement"),j.poolIncrement=i},set poolMax(i){U.assertPropValue(Number.isInteger(i)&&i>=0,"poolMax"),j.poolMax=i},set poolMaxPerShard(i){U.assertPropValue(Number.isInteger(i)&&i>=0,"poolMaxPerShard"),j.poolMaxPerShard=i},set poolMin(i){U.assertPropValue(Number.isInteger(i)&&i>=0,"poolMin"),j.poolMin=i},set poolPingInterval(i){U.assertPropValue(Number.isInteger(i)&&i<2**31&&i>=(-2)**31,"poolPingInterval"),j.poolPingInterval=i},set poolTimeout(i){U.assertPropValue(Number.isInteger(i)&&i>=0,"poolTimeout"),j.poolTimeout=i},set prefetchRows(i){U.assertPropValue(Number.isInteger(i)&&i>=0,"prefetchRows"),j.prefetchRows=i},set stmtCacheSize(i){U.assertPropValue(Number.isInteger(i)&&i>=0,"stmtCacheSize"),j.stmtCacheSize=i}}});var eR=b((A2,$p)=>{$p.exports=Zp()});var UE=b(tR=>{tR.require=function(){if(typeof process=="object"&&process.versions&&process.versions.electron)try{let i=require("original-fs");if(Object.keys(i).length>0)return i}catch{}return require("fs")}});var ME=b((P2,rR)=>{rR.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}});var oR=b((p2,iR)=>{var n1=UE().require(),Ft=require("path"),sR=ME(),i1=typeof process=="object"&&process.platform==="win32",nR=c(i=>i&&typeof i=="object","is_Obj"),VE=new Uint32Array(256).map((i,e)=>{for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e>>>=1;return e>>>0});function mt(i){this.sep=Ft.sep,this.fs=n1,nR(i)&&nR(i.fs)&&typeof i.fs.statSync=="function"&&(this.fs=i.fs)}c(mt,"Utils");iR.exports=mt;mt.prototype.makeDir=function(i){let e=this;function t(n){let o=n.split(e.sep)[0];n.split(e.sep).forEach(function(T){if(!(!T||T.substr(-1,1)===":")){o+=e.sep+T;var l;try{l=e.fs.statSync(o)}catch{e.fs.mkdirSync(o)}if(l&&l.isFile())throw Errors.FILE_IN_THE_WAY.replace("%s",o)}})}c(t,"mkdirSync"),t(i)};mt.prototype.writeFileTo=function(i,e,t,n){let o=this;if(o.fs.existsSync(i)){if(!t)return!1;var T=o.fs.statSync(i);if(T.isDirectory())return!1}var l=Ft.dirname(i);o.fs.existsSync(l)||o.makeDir(l);var E;try{E=o.fs.openSync(i,"w",438)}catch{o.fs.chmodSync(i,438),E=o.fs.openSync(i,"w",438)}if(E)try{o.fs.writeSync(E,e,0,e.length,0)}finally{o.fs.closeSync(E)}return o.fs.chmodSync(i,n||438),!0};mt.prototype.writeFileToAsync=function(i,e,t,n,o){typeof n=="function"&&(o=n,n=void 0);let T=this;T.fs.exists(i,function(l){if(l&&!t)return o(!1);T.fs.stat(i,function(E,S){if(l&&S.isDirectory())return o(!1);var R=Ft.dirname(i);T.fs.exists(R,function(d){d||T.makeDir(R),T.fs.open(i,"w",438,function(L,w){L?T.fs.chmod(i,438,function(){T.fs.open(i,"w",438,function(O,P){T.fs.write(P,e,0,e.length,0,function(){T.fs.close(P,function(){T.fs.chmod(i,n||438,function(){o(!0)})})})})}):w?T.fs.write(w,e,0,e.length,0,function(){T.fs.close(w,function(){T.fs.chmod(i,n||438,function(){o(!0)})})}):T.fs.chmod(i,n||438,function(){o(!0)})})})})})};mt.prototype.findFiles=function(i){let e=this;function t(n,o,T){typeof o=="boolean"&&(T=o,o=void 0);let l=[];return e.fs.readdirSync(n).forEach(function(E){var S=Ft.join(n,E);e.fs.statSync(S).isDirectory()&&T&&(l=l.concat(t(S,o,T))),(!o||o.test(S))&&l.push(Ft.normalize(S)+(e.fs.statSync(S).isDirectory()?e.sep:""))}),l}return c(t,"findSync"),t(i,void 0,!0)};mt.prototype.getAttributes=function(){};mt.prototype.setAttributes=function(){};mt.crc32update=function(i,e){return VE[(i^e)&255]^i>>>8};mt.crc32=function(i){typeof i=="string"&&(i=Buffer.from(i,"utf8")),VE.length||genCRCTable();let e=i.length,t=-1;for(let n=0;n<e;)t=mt.crc32update(t,i[n++]);return~t>>>0};mt.methodToString=function(i){switch(i){case sR.STORED:return"STORED ("+i+")";case sR.DEFLATED:return"DEFLATED ("+i+")";default:return"UNSUPPORTED ("+i+")"}};mt.canonical=function(i){if(!i)return"";var e=Ft.posix.normalize("/"+i.split("\\").join("/"));return Ft.join(".",e)};mt.sanitize=function(i,e){i=Ft.resolve(Ft.normalize(i));for(var t=e.split("/"),n=0,o=t.length;n<o;n++){var T=Ft.normalize(Ft.join(i,t.slice(n,o).join(Ft.sep)));if(T.indexOf(i)===0)return T}return Ft.normalize(Ft.join(i,Ft.basename(e)))};mt.toBuffer=c(function(e){return Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e):typeof e=="string"?Buffer.from(e,"utf8"):Buffer.alloc(0)},"toBuffer");mt.readBigUInt64LE=function(i,e){var t=Buffer.from(i.slice(e,e+8));return t.swap64(),parseInt(`0x${t.toString("hex")}`)};mt.isWin=i1;mt.crcTable=VE});var aR=b((m2,_R)=>{_R.exports={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed",FILE_IN_THE_WAY:"There is a file in the way: %s",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:"File not found: %s",NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found"}});var lR=b((I2,cR)=>{var M_=UE().require(),TR=require("path");M_.existsSync=M_.existsSync||TR.existsSync;cR.exports=function(i){var e=i||"",t=o(),n=null;function o(){return{directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0}}return c(o,"newAttr"),e&&M_.existsSync(e)?(n=M_.statSync(e),t.directory=n.isDirectory(),t.mtime=n.mtime,t.atime=n.atime,t.executable=(73&n.mode)!==0,t.readonly=(128&n.mode)===0,t.hidden=TR.basename(e)[0]==="."):console.warn("Invalid path: "+e),{get directory(){return t.directory},get readOnly(){return t.readonly},get hidden(){return t.hidden},get mtime(){return t.mtime},get atime(){return t.atime},get executable(){return t.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:e,isDirectory:t.directory,isReadOnly:t.readonly,isHidden:t.hidden,isExecutable:t.executable,mTime:t.mtime,aTime:t.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var vn=b((C2,Mi)=>{Mi.exports=oR();Mi.exports.Constants=ME();Mi.exports.Errors=aR();Mi.exports.FileAttr=lR()});var ER=b((g2,uR)=>{var Vi=vn(),X=Vi.Constants;uR.exports=function(){var i=20,e=10,t=0,n=0,o=0,T=0,l=0,E=0,S=0,R=0,d=0,L=0,w=0,O=0,P=0;i|=Vi.isWin?2560:768,t|=X.FLG_EFS;var g={};function x(I){I=new Date(I),o=(I.getFullYear()-1980&127)<<25|I.getMonth()+1<<21|I.getDate()<<16|I.getHours()<<11|I.getMinutes()<<5|I.getSeconds()>>1}return c(x,"setTime"),x(+new Date),{get made(){return i},set made(I){i=I},get version(){return e},set version(I){e=I},get flags(){return t},set flags(I){t=I},get method(){return n},set method(I){switch(I){case X.STORED:this.version=10;case X.DEFLATED:default:this.version=20}n=I},get time(){return new Date((o>>25&127)+1980,(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(o&31)<<1)},set time(I){x(I)},get crc(){return T},set crc(I){T=Math.max(0,I)>>>0},get compressedSize(){return l},set compressedSize(I){l=Math.max(0,I)>>>0},get size(){return E},set size(I){E=Math.max(0,I)>>>0},get fileNameLength(){return S},set fileNameLength(I){S=I},get extraLength(){return R},set extraLength(I){R=I},get commentLength(){return d},set commentLength(I){d=I},get diskNumStart(){return L},set diskNumStart(I){L=Math.max(0,I)>>>0},get inAttr(){return w},set inAttr(I){w=Math.max(0,I)>>>0},get attr(){return O},set attr(I){O=Math.max(0,I)>>>0},get fileAttr(){return O?(O>>>0|0)>>16&4095:0},get offset(){return P},set offset(I){P=Math.max(0,I)>>>0},get encripted(){return(t&1)===1},get entryHeaderSize(){return X.CENHDR+S+R+d},get realDataOffset(){return P+X.LOCHDR+g.fnameLen+g.extraLen},get dataHeader(){return g},loadDataHeaderFromBinary:function(I){var G=I.slice(P,P+X.LOCHDR);if(G.readUInt32LE(0)!==X.LOCSIG)throw new Error(Vi.Errors.INVALID_LOC);g={version:G.readUInt16LE(X.LOCVER),flags:G.readUInt16LE(X.LOCFLG),method:G.readUInt16LE(X.LOCHOW),time:G.readUInt32LE(X.LOCTIM),crc:G.readUInt32LE(X.LOCCRC),compressedSize:G.readUInt32LE(X.LOCSIZ),size:G.readUInt32LE(X.LOCLEN),fnameLen:G.readUInt16LE(X.LOCNAM),extraLen:G.readUInt16LE(X.LOCEXT)}},loadFromBinary:function(I){if(I.length!==X.CENHDR||I.readUInt32LE(0)!==X.CENSIG)throw new Error(Vi.Errors.INVALID_CEN);i=I.readUInt16LE(X.CENVEM),e=I.readUInt16LE(X.CENVER),t=I.readUInt16LE(X.CENFLG),n=I.readUInt16LE(X.CENHOW),o=I.readUInt32LE(X.CENTIM),T=I.readUInt32LE(X.CENCRC),l=I.readUInt32LE(X.CENSIZ),E=I.readUInt32LE(X.CENLEN),S=I.readUInt16LE(X.CENNAM),R=I.readUInt16LE(X.CENEXT),d=I.readUInt16LE(X.CENCOM),L=I.readUInt16LE(X.CENDSK),w=I.readUInt16LE(X.CENATT),O=I.readUInt32LE(X.CENATX),P=I.readUInt32LE(X.CENOFF)},dataHeaderToBinary:function(){var I=Buffer.alloc(X.LOCHDR);return I.writeUInt32LE(X.LOCSIG,0),I.writeUInt16LE(e,X.LOCVER),I.writeUInt16LE(t,X.LOCFLG),I.writeUInt16LE(n,X.LOCHOW),I.writeUInt32LE(o,X.LOCTIM),I.writeUInt32LE(T,X.LOCCRC),I.writeUInt32LE(l,X.LOCSIZ),I.writeUInt32LE(E,X.LOCLEN),I.writeUInt16LE(S,X.LOCNAM),I.writeUInt16LE(R,X.LOCEXT),I},entryHeaderToBinary:function(){var I=Buffer.alloc(X.CENHDR+S+R+d);return I.writeUInt32LE(X.CENSIG,0),I.writeUInt16LE(i,X.CENVEM),I.writeUInt16LE(e,X.CENVER),I.writeUInt16LE(t,X.CENFLG),I.writeUInt16LE(n,X.CENHOW),I.writeUInt32LE(o,X.CENTIM),I.writeUInt32LE(T,X.CENCRC),I.writeUInt32LE(l,X.CENSIZ),I.writeUInt32LE(E,X.CENLEN),I.writeUInt16LE(S,X.CENNAM),I.writeUInt16LE(R,X.CENEXT),I.writeUInt16LE(d,X.CENCOM),I.writeUInt16LE(L,X.CENDSK),I.writeUInt16LE(w,X.CENATT),I.writeUInt32LE(O,X.CENATX),I.writeUInt32LE(P,X.CENOFF),I.fill(0,X.CENHDR),I},toJSON:function(){let I=c(function(G){return G+" bytes"},"bytes");return{made:i,version:e,flags:t,method:Vi.methodToString(n),time:this.time,crc:"0x"+T.toString(16).toUpperCase(),compressedSize:I(l),size:I(E),fileNameLength:I(S),extraLength:I(R),commentLength:I(d),diskNumStart:L,inAttr:w,attr:O,offset:P,entryHeaderSize:I(X.CENHDR+S+R+d)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var NR=b((L2,hR)=>{var kn=vn(),Xe=kn.Constants;hR.exports=function(){var i=0,e=0,t=0,n=0,o=0;return{get diskEntries(){return i},set diskEntries(T){i=e=T},get totalEntries(){return e},set totalEntries(T){e=i=T},get size(){return t},set size(T){t=T},get offset(){return n},set offset(T){n=T},get commentLength(){return o},set commentLength(T){o=T},get mainHeaderSize(){return Xe.ENDHDR+o},loadFromBinary:function(T){if((T.length!==Xe.ENDHDR||T.readUInt32LE(0)!==Xe.ENDSIG)&&(T.length<Xe.ZIP64HDR||T.readUInt32LE(0)!==Xe.ZIP64SIG))throw new Error(kn.Errors.INVALID_END);T.readUInt32LE(0)===Xe.ENDSIG?(i=T.readUInt16LE(Xe.ENDSUB),e=T.readUInt16LE(Xe.ENDTOT),t=T.readUInt32LE(Xe.ENDSIZ),n=T.readUInt32LE(Xe.ENDOFF),o=T.readUInt16LE(Xe.ENDCOM)):(i=kn.readBigUInt64LE(T,Xe.ZIP64SUB),e=kn.readBigUInt64LE(T,Xe.ZIP64TOT),t=kn.readBigUInt64LE(T,Xe.ZIP64SIZ),n=kn.readBigUInt64LE(T,Xe.ZIP64OFF),o=0)},toBinary:function(){var T=Buffer.alloc(Xe.ENDHDR+o);return T.writeUInt32LE(Xe.ENDSIG,0),T.writeUInt32LE(0,4),T.writeUInt16LE(i,Xe.ENDSUB),T.writeUInt16LE(e,Xe.ENDTOT),T.writeUInt32LE(t,Xe.ENDSIZ),T.writeUInt32LE(n,Xe.ENDOFF),T.writeUInt16LE(o,Xe.ENDCOM),T.fill(" ",Xe.ENDHDR),T},toJSON:function(){let T=c(function(l,E){let S=l.toString(16).toUpperCase();for(;S.length<E;)S="0"+S;return"0x"+S},"offset");return{diskEntries:i,totalEntries:e,size:t+" bytes",offset:T(n,4),commentLength:o}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var FE=b(xE=>{xE.EntryHeader=ER();xE.MainHeader=NR()});var fR=b((B2,SR)=>{SR.exports=function(i){var e=require("zlib"),t={chunkSize:(parseInt(i.length/1024)+1)*1024};return{deflate:function(){return e.deflateRawSync(i,t)},deflateAsync:function(n){var o=e.createDeflateRaw(t),T=[],l=0;o.on("data",function(E){T.push(E),l+=E.length}),o.on("end",function(){var E=Buffer.alloc(l),S=0;E.fill(0);for(var R=0;R<T.length;R++){var d=T[R];d.copy(E,S),S+=d.length}n&&n(E)}),o.end(i)}}}});var dR=b((Y2,AR)=>{AR.exports=function(i){var e=require("zlib");return{inflate:function(){return e.inflateRawSync(i)},inflateAsync:function(t){var n=e.createInflateRaw(),o=[],T=0;n.on("data",function(l){o.push(l),T+=l.length}),n.on("end",function(){var l=Buffer.alloc(T),E=0;l.fill(0);for(var S=0;S<o.length;S++){var R=o[S];R.copy(l,E),E+=R.length}t&&t(l)}),n.end(i)}}}});var IR=b((U2,mR)=>{"use strict";var{randomFillSync:PR}=require("crypto"),o1=new Uint32Array(256).map((i,e)=>{for(let t=0;t<8;t++)e&1?e=e>>>1^3988292384:e>>>=1;return e>>>0}),RR=c((i,e)=>Math.imul(i,e)>>>0,"uMul"),pR=c((i,e)=>o1[(i^e)&255]^i>>>8,"crc32update"),xi=c(()=>typeof PR=="function"?PR(Buffer.alloc(12)):xi.node(),"genSalt");xi.node=()=>{let i=Buffer.alloc(12),e=i.length;for(let t=0;t<e;t++)i[t]=Math.random()*256&255;return i};var V_={genSalt:xi};function x_(i){let e=Buffer.isBuffer(i)?i:Buffer.from(i);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let t=0;t<e.length;t++)this.updateKeys(e[t])}c(x_,"Initkeys");x_.prototype.updateKeys=function(i){let e=this.keys;return e[0]=pR(e[0],i),e[1]+=e[0]&255,e[1]=RR(e[1],134775813)+1,e[2]=pR(e[2],e[1]>>>24),i};x_.prototype.next=function(){let i=(this.keys[2]|2)>>>0;return RR(i,i^1)>>8&255};function _1(i){let e=new x_(i);return function(t){let n=Buffer.alloc(t.length),o=0;for(let T of t)n[o++]=e.updateKeys(T^e.next());return n}}c(_1,"make_decrypter");function a1(i){let e=new x_(i);return function(t,n,o=0){n||(n=Buffer.alloc(t.length));for(let T of t){let l=e.next();n[o++]=T^l,e.updateKeys(T)}return n}}c(a1,"make_encrypter");function T1(i,e,t){if(!i||!Buffer.isBuffer(i)||i.length<12)return Buffer.alloc(0);let n=_1(t);if(n(i.slice(0,12))[11]!==e.crc>>>24)throw"ADM-ZIP: Wrong Password";return n(i.slice(12))}c(T1,"decrypt");function c1(i){Buffer.isBuffer(i)&&i.length>=12?V_.genSalt=function(){return i.slice(0,12)}:i==="node"?V_.genSalt=xi.node:V_.genSalt=xi}c(c1,"_salter");function l1(i,e,t,n=!1){i==null&&(i=Buffer.alloc(0)),Buffer.isBuffer(i)||(i=Buffer.from(i.toString()));let o=a1(t),T=V_.genSalt();T[11]=e.crc>>>24&255,n&&(T[10]=e.crc>>>16&255);let l=Buffer.alloc(i.length+12);return o(T,l),o(i,l,12)}c(l1,"encrypt");mR.exports={decrypt:T1,encrypt:l1,_salter:c1}});var DR=b(F_=>{F_.Deflater=fR();F_.Inflater=dR();F_.ZipCrypto=IR()});var vE=b((x2,CR)=>{var ot=vn(),u1=FE(),nr=ot.Constants,bE=DR();CR.exports=function(i){var e=new u1.EntryHeader,t=Buffer.alloc(0),n=Buffer.alloc(0),o=!1,T=null,l=Buffer.alloc(0);function E(){return!i||!Buffer.isBuffer(i)?Buffer.alloc(0):(e.loadDataHeaderFromBinary(i),i.slice(e.realDataOffset,e.realDataOffset+e.compressedSize))}c(E,"getCompressedDataFromZip");function S(P){return!((e.flags&8)!==8&&ot.crc32(P)!==e.dataHeader.crc)}c(S,"crc32OK");function R(P,g,x){if(typeof g>"u"&&typeof P=="string"&&(x=P,P=void 0),o)return P&&g&&g(Buffer.alloc(0),ot.Errors.DIRECTORY_CONTENT_ERROR),Buffer.alloc(0);var I=E();if(I.length===0)return P&&g&&g(I),I;if(e.encripted){if(typeof x!="string"&&!Buffer.isBuffer(x))throw new Error("ADM-ZIP: Incompatible password parameter");I=bE.ZipCrypto.decrypt(I,e,x)}var G=Buffer.alloc(e.size);switch(e.method){case ot.Constants.STORED:if(I.copy(G),S(G))return P&&g&&g(G),G;throw P&&g&&g(G,ot.Errors.BAD_CRC),new Error(ot.Errors.BAD_CRC);case ot.Constants.DEFLATED:var H=new bE.Inflater(I);if(P)H.inflateAsync(function(W){W.copy(W,0),g&&(S(W)?g(W):g(W,ot.Errors.BAD_CRC))});else{if(H.inflate(G).copy(G,0),!S(G))throw new Error(ot.Errors.BAD_CRC+" "+t.toString());return G}break;default:throw P&&g&&g(Buffer.alloc(0),ot.Errors.UNKNOWN_METHOD),new Error(ot.Errors.UNKNOWN_METHOD)}}c(R,"decompress");function d(P,g){if((!T||!T.length)&&Buffer.isBuffer(i))return P&&g&&g(E()),E();if(T.length&&!o){var x;switch(e.method){case ot.Constants.STORED:return e.compressedSize=e.size,x=Buffer.alloc(T.length),T.copy(x),P&&g&&g(x),x;default:case ot.Constants.DEFLATED:var I=new bE.Deflater(T);if(P)I.deflateAsync(function(H){x=Buffer.alloc(H.length),e.compressedSize=H.length,H.copy(x),g&&g(x)});else{var G=I.deflate();return e.compressedSize=G.length,G}I=null;break}}else if(P&&g)g(Buffer.alloc(0));else return Buffer.alloc(0)}c(d,"compress");function L(P,g){return(P.readUInt32LE(g+4)<<4)+P.readUInt32LE(g)}c(L,"readUInt64LE");function w(P){for(var g=0,x,I,G;g<P.length;)x=P.readUInt16LE(g),g+=2,I=P.readUInt16LE(g),g+=2,G=P.slice(g,g+I),g+=I,nr.ID_ZIP64===x&&O(G)}c(w,"parseExtra");function O(P){var g,x,I,G;P.length>=nr.EF_ZIP64_SCOMP&&(g=L(P,nr.EF_ZIP64_SUNCOMP),e.size===nr.EF_ZIP64_OR_32&&(e.size=g)),P.length>=nr.EF_ZIP64_RHO&&(x=L(P,nr.EF_ZIP64_SCOMP),e.compressedSize===nr.EF_ZIP64_OR_32&&(e.compressedSize=x)),P.length>=nr.EF_ZIP64_DSN&&(I=L(P,nr.EF_ZIP64_RHO),e.offset===nr.EF_ZIP64_OR_32&&(e.offset=I)),P.length>=nr.EF_ZIP64_DSN+4&&(G=P.readUInt32LE(nr.EF_ZIP64_DSN),e.diskNumStart===nr.EF_ZIP64_OR_16&&(e.diskNumStart=G))}return c(O,"parseZip64ExtendedInformation"),{get entryName(){return t.toString()},get rawEntryName(){return t},set entryName(P){t=ot.toBuffer(P);var g=t[t.length-1];o=g===47||g===92,e.fileNameLength=t.length},get extra(){return l},set extra(P){l=P,e.extraLength=P.length,w(P)},get comment(){return n.toString()},set comment(P){n=ot.toBuffer(P),e.commentLength=n.length},get name(){var P=t.toString();return o?P.substr(P.length-1).split("/").pop():P.split("/").pop()},get isDirectory(){return o},getCompressedData:function(){return d(!1,null)},getCompressedDataAsync:function(P){d(!0,P)},setData:function(P){T=ot.toBuffer(P),!o&&T.length?(e.size=T.length,e.method=ot.Constants.DEFLATED,e.crc=ot.crc32(P),e.changed=!0):e.method=ot.Constants.STORED},getData:function(P){return e.changed?T:R(!1,null,P)},getDataAsync:function(P,g){e.changed?P(T):R(!0,P,g)},set attr(P){e.attr=P},get attr(){return e.attr},set header(P){e.loadFromBinary(P)},get header(){return e},packHeader:function(){var P=e.entryHeaderToBinary(),g=ot.Constants.CENHDR;return t.copy(P,g),g+=t.length,e.extraLength&&(l.copy(P,g),g+=e.extraLength),e.commentLength&&n.copy(P,g),P},toJSON:function(){let P=c(function(g){return"<"+(g&&g.length+" bytes buffer"||"null")+">"},"bytes");return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:e.toJSON(),compressedData:P(i),data:P(T)}},toString:function(){return JSON.stringify(this.toJSON(),null,"	")}}}});var LR=b((b2,OR)=>{var gR=vE(),E1=FE(),yt=vn();OR.exports=function(i,e){var t=[],n={},o=Buffer.alloc(0),T=new E1.MainHeader,l=!1;let E=Object.assign(Object.create(null),e),{noSort:S}=E;i?L(E.readEntries):l=!0;function R(O){let P=T.diskEntries,g=T.offset;for(let x=0;x<P;x++){let I=g,G=new gR(i);G.header=i.slice(I,I+=yt.Constants.CENHDR),G.entryName=i.slice(I,I+=G.header.fileNameLength),g+=G.header.entryHeaderSize,O(G)}}c(R,"iterateEntries");function d(){l=!0,n={},t=new Array(T.diskEntries);for(var O=T.offset,P=0;P<t.length;P++){var g=O,x=new gR(i);x.header=i.slice(g,g+=yt.Constants.CENHDR),x.entryName=i.slice(g,g+=x.header.fileNameLength),x.header.extraLength&&(x.extra=i.slice(g,g+=x.header.extraLength)),x.header.commentLength&&(x.comment=i.slice(g,g+x.header.commentLength)),O+=x.header.entryHeaderSize,t[P]=x,n[x.entryName]=x}}c(d,"readEntries");function L(O){var P=i.length-yt.Constants.ENDHDR,g=Math.max(0,P-65535),x=g,I=i.length,G=-1,H=0;for(P;P>=x;P--)if(i[P]===80){if(i.readUInt32LE(P)===yt.Constants.ENDSIG){G=P,H=P,I=P+yt.Constants.ENDHDR,x=P-yt.Constants.END64HDR;continue}if(i.readUInt32LE(P)===yt.Constants.END64SIG){x=g;continue}if(i.readUInt32LE(P)===yt.Constants.ZIP64SIG){G=P,I=P+yt.readBigUInt64LE(i,P+yt.Constants.ZIP64SIZE)+yt.Constants.ZIP64LEAD;break}}if(!~G)throw new Error(yt.Errors.INVALID_FORMAT);T.loadFromBinary(i.slice(G,I)),T.commentLength&&(o=i.slice(H+yt.Constants.ENDHDR)),O&&d()}c(L,"readMainHeader");function w(){t.length>1&&!S&&t.sort((O,P)=>O.entryName.toLowerCase().localeCompare(P.entryName.toLowerCase()))}return c(w,"sortEntries"),{get entries(){return l||d(),t},get comment(){return o.toString()},set comment(O){o=yt.toBuffer(O),T.commentLength=o.length},getEntryCount:function(){return l?t.length:T.diskEntries},forEach:function(O){if(!l){R(O);return}t.forEach(O)},getEntry:function(O){return l||d(),n[O]||null},setEntry:function(O){l||d(),t.push(O),n[O.entryName]=O,T.totalEntries=t.length},deleteEntry:function(O){l||d();var P=n[O];if(P&&P.isDirectory){var g=this;this.getEntryChildren(P).forEach(function(x){x.entryName!==O&&g.deleteEntry(x.entryName)})}t.splice(t.indexOf(P),1),delete n[O],T.totalEntries=t.length},getEntryChildren:function(O){if(l||d(),O&&O.isDirectory){let P=[],g=O.entryName,x=g.length;return t.forEach(function(I){I.entryName.substr(0,x)===g&&P.push(I)}),P}return[]},compressToBuffer:function(){l||d(),w();let O=[],P=[],g=0,x=0;T.size=0,T.offset=0;for(let H of t){let W=H.getCompressedData();H.header.offset=x;let ae=H.header.dataHeaderToBinary(),ue=H.rawEntryName.length,pe=Buffer.alloc(ue+H.extra.length);H.rawEntryName.copy(pe,0),pe.copy(H.extra,ue);let Ye=ae.length+pe.length+W.length;x+=Ye,O.push(ae),O.push(pe),O.push(W);let Ge=H.packHeader();P.push(Ge),T.size+=Ge.length,g+=Ye+Ge.length}g+=T.mainHeaderSize,T.offset=x,x=0;let I=Buffer.alloc(g);for(let H of O)H.copy(I,x),x+=H.length;for(let H of P)H.copy(I,x),x+=H.length;let G=T.toBinary();return o&&o.copy(G,yt.Constants.ENDHDR),G.copy(I,x),I},toAsyncBuffer:function(O,P,g,x){try{l||d(),w();let I=[],G=[],H=0,W=0;T.size=0,T.offset=0;let ae=c(function(ue){if(ue.length){let pe=ue.pop(),Ye=pe.entryName+pe.extra.toString();g&&g(Ye),pe.getCompressedDataAsync(function(Ge){x&&x(Ye),pe.header.offset=W;let Qt=pe.header.dataHeaderToBinary(),Br=Buffer.alloc(Ye.length,Ye),xs=Qt.length+Br.length+Ge.length;W+=xs,I.push(Qt),I.push(Br),I.push(Ge);let Pr=pe.packHeader();G.push(Pr),T.size+=Pr.length,H+=xs+Pr.length,ae(ue)})}else{H+=T.mainHeaderSize,T.offset=W,W=0;let pe=Buffer.alloc(H);I.forEach(function(Ge){Ge.copy(pe,W),W+=Ge.length}),G.forEach(function(Ge){Ge.copy(pe,W),W+=Ge.length});let Ye=T.toBinary();o&&o.copy(Ye,yt.Constants.ENDHDR),Ye.copy(pe,W),O(pe)}},"compress2Buffer");ae(t)}catch(I){P(I)}}}}});var wR=b((k2,yR)=>{var lt=vn(),Hr=require("path"),h1=vE(),N1=LR(),tn=c((i,e)=>typeof i=="boolean"?i:e,"get_Bool"),kE=c((i,e)=>typeof i=="string"?i:e,"get_Str"),S1={noSort:!1,readEntries:!1,method:lt.Constants.NONE,fs:null};yR.exports=function(i,e){let t=null,n=Object.assign(Object.create(null),S1);i&&typeof i=="object"&&(i instanceof Uint8Array||(Object.assign(n,i),i=n.input?n.input:void 0,n.input&&delete n.input),Buffer.isBuffer(i)&&(t=i,n.method=lt.Constants.BUFFER,i=void 0)),Object.assign(n,e);let o=new lt(n);if(i&&typeof i=="string")if(o.fs.existsSync(i))n.method=lt.Constants.FILE,n.filename=i,t=o.fs.readFileSync(i);else throw new Error(lt.Errors.INVALID_FILENAME);let T=new N1(t,n),{canonical:l,sanitize:E}=lt;function S(d){if(d&&T){var L;if(typeof d=="string"&&(L=T.getEntry(d)),typeof d=="object"&&typeof d.entryName<"u"&&typeof d.header<"u"&&(L=T.getEntry(d.entryName)),L)return L}return null}c(S,"getEntry");function R(d){let{join:L,normalize:w,sep:O}=Hr.posix;return L(".",w(O+d.split("\\").join(O)+O))}return c(R,"fixPath"),{readFile:function(d,L){var w=S(d);return w&&w.getData(L)||null},readFileAsync:function(d,L){var w=S(d);w?w.getDataAsync(L):L(null,"getEntry failed for:"+d)},readAsText:function(d,L){var w=S(d);if(w){var O=w.getData();if(O&&O.length)return O.toString(L||"utf8")}return""},readAsTextAsync:function(d,L,w){var O=S(d);O?O.getDataAsync(function(P,g){if(g){L(P,g);return}P&&P.length?L(P.toString(w||"utf8")):L("")}):L("")},deleteFile:function(d){var L=S(d);L&&T.deleteEntry(L.entryName)},addZipComment:function(d){T.comment=d},getZipComment:function(){return T.comment||""},addZipEntryComment:function(d,L){var w=S(d);w&&(w.comment=L)},getZipEntryComment:function(d){var L=S(d);return L&&L.comment||""},updateFile:function(d,L){var w=S(d);w&&w.setData(L)},addLocalFile:function(d,L,w,O){if(o.fs.existsSync(d)){L=L?R(L):"";var P=d.split("\\").join("/").split("/").pop();L+=w||P;let g=o.fs.statSync(d);this.addFile(L,o.fs.readFileSync(d),O,g)}else throw new Error(lt.Errors.FILE_NOT_FOUND.replace("%s",d))},addLocalFolder:function(d,L,w){if(w instanceof RegExp?w=function(O){return function(P){return O.test(P)}}(w):typeof w!="function"&&(w=c(function(){return!0},"filter")),L=L?R(L):"",d=Hr.normalize(d),o.fs.existsSync(d)){let O=o.findFiles(d),P=this;O.length&&O.forEach(function(g){var x=Hr.relative(d,g).split("\\").join("/");if(w(x)){var I=o.fs.statSync(g);I.isFile()?P.addFile(L+x,o.fs.readFileSync(g),"",I):P.addFile(L+x+"/",Buffer.alloc(0),"",I)}})}else throw new Error(lt.Errors.FILE_NOT_FOUND.replace("%s",d))},addLocalFolderAsync:function(d,L,w,O){O instanceof RegExp?O=function(g){return function(x){return g.test(x)}}(O):typeof O!="function"&&(O=c(function(){return!0},"filter")),w=w?R(w):"",d=Hr.normalize(d);var P=this;o.fs.open(d,"r",function(g){if(g&&g.code==="ENOENT")L(void 0,lt.Errors.FILE_NOT_FOUND.replace("%s",d));else if(g)L(void 0,g);else{var x=o.findFiles(d),I=-1,G=c(function(){if(I+=1,I<x.length){var H=x[I],W=Hr.relative(d,H).split("\\").join("/");W=W.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),O(W)?o.fs.stat(H,function(ae,ue){ae&&L(void 0,ae),ue.isFile()?o.fs.readFile(H,function(pe,Ye){pe?L(void 0,pe):(P.addFile(w+W,Ye,"",ue),G())}):(P.addFile(w+W+"/",Buffer.alloc(0),"",ue),G())}):G()}else L(!0,void 0)},"next");G()}})},addLocalFolderPromise:function(d,L){return new Promise((w,O)=>{let{filter:P,zipPath:g}=Object.assign({},L);this.addLocalFolderAsync(d,(x,I)=>{I&&O(I),x&&w(this)},g,P)})},addFile:function(d,L,w,O){let P=S(d),g=P!=null;g||(P=new h1,P.entryName=d),P.comment=w||"";let x=typeof O=="object"&&O instanceof o.fs.Stats;x&&(P.header.time=O.mtime);var I=P.isDirectory?16:0;if(!lt.isWin){let G=P.isDirectory?16384:32768;x?G|=4095&O.mode:typeof O=="number"?G|=4095&O:G|=P.isDirectory?493:420,I=(I|G<<16)>>>0}P.attr=I,P.setData(L),g||T.setEntry(P)},getEntries:function(){return T?T.entries:[]},getEntry:function(d){return S(d)},getEntryCount:function(){return T.getEntryCount()},forEach:function(d){return T.forEach(d)},extractEntryTo:function(d,L,w,O,P,g){O=tn(O,!1),P=tn(P,!1),w=tn(w,!0),g=kE(g,kE(P,void 0));var x=S(d);if(!x)throw new Error(lt.Errors.NO_ENTRY);var I=l(x.entryName),G=E(L,g&&!x.isDirectory?g:w?I:Hr.basename(I));if(x.isDirectory){var H=T.getEntryChildren(x);return H.forEach(function(ue){if(ue.isDirectory)return;var pe=ue.getData();if(!pe)throw new Error(lt.Errors.CANT_EXTRACT_FILE);var Ye=l(ue.entryName),Ge=E(L,w?Ye:Hr.basename(Ye));let Qt=P?ue.header.fileAttr:void 0;o.writeFileTo(Ge,pe,O,Qt)}),!0}var W=x.getData();if(!W)throw new Error(lt.Errors.CANT_EXTRACT_FILE);if(o.fs.existsSync(G)&&!O)throw new Error(lt.Errors.CANT_OVERRIDE);let ae=P?d.header.fileAttr:void 0;return o.writeFileTo(G,W,O,ae),!0},test:function(d){if(!T)return!1;for(var L in T.entries)try{if(L.isDirectory)continue;var w=T.entries[L].getData(d);if(!w)return!1}catch{return!1}return!0},extractAllTo:function(d,L,w,O){if(L=tn(L,!1),O=kE(w,O),w=tn(w,!1),!T)throw new Error(lt.Errors.NO_ZIP);T.entries.forEach(function(P){var g=E(d,l(P.entryName.toString()));if(P.isDirectory){o.makeDir(g);return}var x=P.getData(O);if(!x)throw new Error(lt.Errors.CANT_EXTRACT_FILE);let I=w?P.header.fileAttr:void 0;o.writeFileTo(g,x,L,I);try{o.fs.utimesSync(g,P.header.time,P.header.time)}catch{throw new Error(lt.Errors.CANT_EXTRACT_FILE)}})},extractAllToAsync:function(d,L,w,O){if(O||(O=c(function(){},"callback")),L=tn(L,!1),typeof w=="function"&&!O&&(O=w),w=tn(w,!1),!T){O(new Error(lt.Errors.NO_ZIP));return}d=Hr.resolve(d);let P=c(H=>E(d,Hr.normalize(l(H.entryName.toString()))),"getPath"),g=c((H,W)=>new Error(H+': "'+W+'"'),"getError"),x=[],I=new Set;T.entries.forEach(H=>{H.isDirectory?x.push(H):I.add(H)});for(let H of x){let W=P(H),ae=w?H.header.fileAttr:void 0;try{o.makeDir(W),ae&&o.fs.chmodSync(W,ae),o.fs.utimesSync(W,H.header.time,H.header.time)}catch{O(g("Unable to create folder",W))}}let G=c(()=>{I.size===0&&O()},"done");for(let H of I.values()){let W=Hr.normalize(l(H.entryName.toString())),ae=E(d,W);H.getDataAsync(function(ue,pe){if(pe){O(new Error(pe));return}if(!ue)O(new Error(lt.Errors.CANT_EXTRACT_FILE));else{let Ye=w?H.header.fileAttr:void 0;o.writeFileToAsync(ae,ue,L,Ye,function(Ge){if(!Ge){O(g("Unable to write file",ae));return}o.fs.utimes(ae,H.header.time,H.header.time,function(Qt){if(Qt){O(g("Unable to set times",ae));return}I.delete(H),G()})})}})}G()},writeZip:function(d,L){if(arguments.length===1&&typeof d=="function"&&(L=d,d=""),!d&&n.filename&&(d=n.filename),!!d){var w=T.compressToBuffer();if(w){var O=o.writeFileTo(d,w,!0);typeof L=="function"&&L(O?null:new Error("failed"),"")}}},writeZipPromise:function(d,L){let{overwrite:w,perm:O}=Object.assign({overwrite:!0},L);return new Promise((P,g)=>{!d&&n.filename&&(d=n.filename),d||g("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then(x=>{let I=c(G=>G?P(G):g("ADM-ZIP: Wasn't able to write zip file"),"ret");o.writeFileToAsync(d,x,w,O,I)},g)})},toBufferPromise:function(){return new Promise((d,L)=>{T.toAsyncBuffer(d,L)})},toBuffer:function(d,L,w,O){return this.valueOf=2,typeof d=="function"?(T.toAsyncBuffer(d,L,w,O),null):T.compressToBuffer()}}}});var UR=b((H2,YR)=>{"use strict";var f1=require("crypto"),Gn=require("fs"),BR=require("path"),A1=wR(),d1=c((i,e)=>new Promise((t,n)=>{try{let o=new A1(i);if(!o)return n(new Error("Link to zip file is broken or system has no permissions to "+i+" folder"));let T=o.getEntries();return Object.keys(T).length===0?n(new Error("Zip file is empty")):(o.extractAllTo(e,!0),t(e))}catch(o){n(o)}}),"extractZip"),P1=c((i,e)=>{if(!Gn.existsSync(i))return;let t=/DIRECTORY\=\".+?\"/i,n=Gn.readFileSync(i).toString();t.test(n)&&(n=n.replace(t,`DIRECTORY="${e}"`),Gn.writeFileSync(i,n))},"replaceSqlNetOraDirectoryPath"),p1=c(i=>new Promise((e,t)=>{let n=c(l=>f1.createHash("md5").update(l,"utf-8").digest("hex"),"getHash"),o=Gn.createReadStream(i),T="";o.on("data",l=>{T+=l}),o.on("error",l=>{t(l)}),o.on("end",function(){e(n(T))})}),"getHashByFile"),R1=c(async({walletFile:i,tempFolder:e,name:t})=>{if(!Gn.existsSync(i))return;let n=await p1(i),o=BR.join(e,t+"_"+n);if(Gn.existsSync(o))return o;await d1(i,o);let T=BR.join(o,"sqlnet.ora");return P1(T,o),o},"extractWallet");YR.exports=R1});var MR=b(GE=>{"use strict";Object.defineProperty(GE,"__esModule",{value:!0});var m1=function(){function i(e,t){t===void 0&&(t=0),this.source=e,this.position=t}return c(i,"LexerState"),i.prototype.copy=function(){return new i(this.source,this.position)},i}();GE.default=m1});var FR=b(rn=>{"use strict";var I1=rn&&rn.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){i(e,t);function n(){this.constructor=e}c(n,"__"),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(rn,"__esModule",{value:!0});var VR=function(){function i(e,t,n,o,T,l){this.type=e,this.match=t,this.groups=n,this.start=o,this.end=T,this.lexer=l}return c(i,"Token"),i.prototype.strpos=function(){var e=this.lexer.strpos(this.start),t=this.lexer.strpos(this.end);return{start:e,end:t}},i.prototype.isEof=function(){return!1},i}();rn.default=VR;var xR=function(i){I1(e,i);function e(t){var n=this,o=t.source.length;return n=i.call(this,null,"(eof)",[],o,o,t)||this,n}return c(e,"EOFToken"),e.prototype.isEof=function(){return!0},e}(VR);rn.EOFToken=xR;rn.EOF=function(i){return new xR(i)}});var bR=b(HE=>{"use strict";Object.defineProperty(HE,"__esModule",{value:!0});function D1(i){return new RegExp(i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"))}c(D1,"toRegExp");function C1(i){return typeof i=="string"&&(i=D1(i)),i.source.startsWith("^")?i:new RegExp("^"+i.source,i.flags)}c(C1,"normalize");function g1(i,e){for(var t=0,n=0,o=i;n<o.length;n++){var T=o[n],l=e(T,t++);if(l)return{item:T,result:l}}}c(g1,"first");var O1=function(){function i(){this.tokenTypes=[]}return c(i,"TokenTypes"),i.prototype.disable=function(e){return this.enable(e,!1)},i.prototype.enable=function(e,t){return t===void 0&&(t=!0),this.tokenTypes.filter(function(n){return n.type==e}).forEach(function(n){return n.enabled=t}),this},i.prototype.isEnabled=function(e){var t=this.tokenTypes.filter(function(n){return n.type==e});if(t.length==0)throw new Error("Token of type "+e+" does not exists");return t[0].enabled},i.prototype.peek=function(e,t){var n=e.substr(t);return g1(this.tokenTypes.filter(function(o){return o.enabled}),function(o){return o.regex.lastIndex=0,o.regex.exec(n)})},i.prototype.token=function(e,t,n){return n===void 0&&(n=!1),this.tokenTypes.push({type:e,regex:C1(t),enabled:!0,skip:n}),this},i}();HE.default=O1});var kR=b(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});var qE=MR();sn.LexerState=qE.default;var b_=FR();sn.Token=b_.default;sn.EOF=b_.EOF;var vR=bR();sn.TokenTypes=vR.default;var L1=function(){function i(e){e===void 0&&(e=""),this._state=new qE.default(e),this._tokenTypes=new vR.default}return c(i,"Lexer"),Object.defineProperty(i.prototype,"position",{get:function(){return this._state.position},set:function(e){this._state.position=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"source",{get:function(){return this._state.source},set:function(e){this._state=new qE.default(e)},enumerable:!0,configurable:!0}),i.prototype.attachTo=function(e){this._state=e._state},i.prototype.disable=function(e){return this._tokenTypes.disable(e),this},i.prototype.enable=function(e,t){return this._tokenTypes.enable(e,t),this},i.prototype.expect=function(e){var t=this.next();if(t.type!=e){var n=t.strpos();throw new Error("Expected "+e+(t?", got "+t.type:"")+" at "+n.start.line+":"+n.start.column)}return t},i.prototype.isEnabled=function(e){return this._tokenTypes.isEnabled(e)},i.prototype.next=function(){try{var e=this.peek();return this._state.position=e.end,e}catch(t){throw this._state.position=t.end,t}},i.prototype.peek=function(e){var t=this;e===void 0&&(e=this._state.position);var n=c(function(d){if(d===void 0&&(d=e),d>=t._state.source.length)return b_.EOF(t);var L=t._tokenTypes.peek(t._state.source,d);return L?L.item.skip?n(d+L.result[0].length):new b_.default(L.item.type,L.result[0],L.result.map(function(w){return w}),d,d+L.result[0].length,t):null},"read"),o=n();if(o)return o;var T=this._state.source.substring(e,e+1);try{this.peek(e+1)}catch(d){T+=d.unexpected}var l=this.strpos(e),E=l.line,S=l.column,R=new Error("Unexpected input: "+T+" at ("+E+":"+S+")");throw R.unexpected=T,R.end=e+T.length,R},i.prototype.strpos=function(e){var t=this._state.source.substring(0,e).split(/\r?\n/);Array.isArray(t)||(t=[t]);var n=t.length,o=t[t.length-1].length+1;return{line:n,column:o}},i.prototype.toArray=function(){var e=this._state.copy();this._state.position=0;for(var t=[],n;!(n=this.next()).isEof();)t.push(n);return this._state=e,t},i.prototype.token=function(e,t,n){return this._tokenTypes.token(e,t,n),this},i.prototype.keyword=function(e){return this.token(e,new RegExp(e+"(?=\\W|$)"))},i.prototype.operator=function(e){var t=new String(e).valueOf();return this.token(e,t)},i}();sn.default=L1});var HR=b(($2,GR)=>{GR.exports=kR()});var WR=b((eF,KR)=>{"use strict";var y1=HR().default;function qR(i,e={}){i.expect("(");let t=i.expect("WORD").match;i.expect("=");let n;if(i.peek().type==="("){n={};do Object.assign(n,qR(i,e));while(i.peek().type==="(")}else n=i.expect("WORD").match;return i.expect(")"),Object.assign({},e,{[t]:n})}c(qR,"parseObject");var w1=c(i=>{let e=i.expect("WORD").match;return i.expect("="),{name:e,data:qR(i)}},"parseConnection"),B1=c(i=>{let e=new y1(i).token("$SKIP_COMMENT",/#[^\n]*/,!0).token("$SKIP_WS",/\s+/,!0).token("WORD",/([a-z0-9._-]+|["'][\s\S]*?["'])/i).token("(",/\(/).token(")",/\)/).token("=",/=/),t={};for(;e.peek().type!==null;){let n=w1(e);t[n.name]=n}return t},"parseTns");KR.exports=B1});var XR=b((rF,zR)=>{"use strict";var zE=class zE{cache;cacheValue;cycle;ifNotExist;increment;maxValue;minValue;sequenceName;start;sharing;order;keep;scale;scaleExtend;shard;shardExtend;type};c(zE,"Sequence");var KE=zE,XE=class XE{sharing;ddlScript;sequenceName;minValue;maxValue;increment;cycle;order;cacheValue;scale;extend;shard;type;keep};c(XE,"SequenceDto");var WE=XE;zR.exports={Sequence:KE,SequenceDto:WE}});var jR=b((oF,JR)=>{"use strict";var{Sequence:nF,SequenceDto:iF}=XR(),Y1=/(?<=START WITH)(\s+)([\w]+)(?=\s+)?/,U1=/\s+LINK$/,wt={true:"Y",false:"N"},xe={cache:"cache",cycle:"cycle",extend:"extend",global:"global",keep:"keep",noCache:"nocache",noCycle:"nocycle",noExtend:"noextend",noKeep:"nokeep",noOrder:"noorder",noScale:"noscale",noShard:"noshard",order:"order",scale:"scale",scaleExtend:"scaleExtend",session:"session",shard:"shard",sharing:"sharing",type:"type"},QR={[xe.cycle]:{[wt.true]:xe.cycle,[wt.false]:xe.noCycle},[xe.order]:{[wt.true]:xe.order,[wt.false]:xe.noOrder},[xe.shard]:{[wt.true]:xe.shard,[wt.false]:""},[xe.scale]:{[wt.true]:xe.scale,[wt.false]:xe.noScale},[xe.type]:{[wt.true]:xe.session,[wt.false]:xe.global},[xe.keep]:{[wt.true]:xe.keep,[wt.false]:xe.noKeep},[xe.extend]:{[wt.true]:xe.extend,[wt.false]:xe.noExtend}},M1=c(async({schema:i,execute:e,logger:t})=>{try{let n=await e(`
      SELECT JSON_OBJECT(
          'sharing'      VALUE SHARING,
          'sequenceName' VALUE SEQUENCE_NAME,
          'minValue'     VALUE MIN_VALUE,
          'maxValue'     VALUE MAX_VALUE,
          'increment'    VALUE INCREMENT_BY,
          'cycle'        VALUE CYCLE_FLAG,
          'order'        VALUE ORDER_FLAG,
          'cacheValue'   VALUE CACHE_SIZE,
          'scale'        VALUE SCALE_FLAG,
          'extend'       VALUE EXTEND_FLAG,
          'shard'        VALUE SHARDED_FLAG,
          'type'         VALUE SESSION_FLAG,
          'keep'         VALUE KEEP_VALUE
      )
      FROM ALL_OBJECTS
      LEFT JOIN ALL_SEQUENCES
                ON ALL_SEQUENCES.SEQUENCE_OWNER = ALL_OBJECTS.OWNER
                AND ALL_SEQUENCES.SEQUENCE_NAME = ALL_OBJECTS.OBJECT_NAME
      WHERE OBJECT_TYPE = 'SEQUENCE'
      AND OWNER = '${i}'
      `);if(!(n!=null&&n.length))return[];let o=await V1({schema:i,execute:e,logger:t});return n.map(([T])=>{let l=JSON.parse(T),E=o[l.sequenceName]||"";return{...l,ddlScript:E}})}catch(n){let{message:o,stack:T,...l}=n;return t.log("error",{message:"Cannot get sequences",error:{message:o,stack:T,err:l}},"Getting sequences"),[]}},"getSchemaSequenceDtos"),V1=c(async({schema:i,execute:e,logger:t})=>{try{let n=await e(`
      SELECT JSON_OBJECT(
          'sequenceName' VALUE OBJECT_NAME,
          'ddlScript'    VALUE DBMS_METADATA.GET_DDL(OBJECT_TYPE, OBJECT_NAME, OWNER)
      )
      FROM ALL_OBJECTS
      WHERE OBJECT_TYPE = 'SEQUENCE'
      AND OWNER = '${i}'
      `);return n!=null&&n.length?n.reduce((o,[T])=>{let{sequenceName:l,ddlScript:E}=JSON.parse(T);return{...o,[l]:E}},{}):{}}catch(n){let{message:o,stack:T,...l}=n;return t.log("error",{message:"Cannot get sequences DDL",error:{message:o,stack:T,err:l}},"Getting sequences"),{}}},"getSchemaSequenceDdl"),x1=c(({execute:i})=>async({schema:e,logger:t})=>(await M1({schema:e,execute:i,logger:t})).map(o=>{let T=F1({sequenceDto:o}),l=v1({sequenceDto:o}),E=k1({sequenceDto:o}),S=b1({sequenceDto:o}),R=o.cacheValue?xe.cache:xe.noCache;return{sequenceName:o.sequenceName,minValue:o.minValue,maxValue:o.maxValue,increment:o.increment,cacheValue:o.cacheValue,cache:R,sharing:T,...l,...E,...S}}),"getSchemaSequences"),F1=c(({sequenceDto:i})=>{var e,t;return(t=(e=i.sharing)==null?void 0:e.replace(U1,""))==null?void 0:t.toLowerCase()},"getSequenceSharing"),b1=c(({sequenceDto:i})=>{let e=i[xe.scale],t=i[xe.shard],n=i[xe.extend],o=QR[xe.extend][n],T=e===wt.true?o:"",l=t===wt.true?o:"";return{scaleExtend:T,shardExtend:l}},"getExtendOptions"),v1=c(({sequenceDto:i})=>Object.entries(QR).reduce((e,[t,n])=>({...e,[t]:n[i[t]]}),{}),"getBooleanOptions"),k1=c(({sequenceDto:i})=>({start:G1({sequenceDto:i})}),"getOptionsFromDdl"),G1=c(({sequenceDto:i})=>{var n;let e=i.ddlScript;if(!e.includes("START WITH"))return i.minValue<i.maxValue?i.minValue:i.maxValue;let t=(n=e.match(Y1))==null?void 0:n[2];return isNaN(Number(t))?t:Number(t)},"getStartOptionFromDdl");JR.exports={getSchemaSequences:x1}});var nm=b((aF,sm)=>{"use strict";var Fi=eR(),H1=UR(),QE=require("path"),k_=require("fs"),q1=WR(),{getSchemaSequences:K1}=jR(),we=lT(),$R={message:"Connection error"},us,JE,W1=c((i="")=>{let e=i.match(/http:\/\/(?:.*?:.*?@)?(.*?):(\d+)/i);return e?{httpsProxy:e[1],httpsProxyPort:e[2]}:{}},"parseProxyOptions"),em=c(i=>[i,process.env.TNS_ADMIN,QE.join(process.env.ORACLE_HOME||"","network","admin"),QE.join(process.env.LD_LIBRARY_PATH||"","network","admin")].reduce((e,t)=>{if(e)return e;let n=QE.join(t,"tnsnames.ora");return k_.existsSync(n)?n:e},""),"getTnsNamesOraFile"),tm=c(i=>{let e=k_.readFileSync(i).toString();return q1(e)},"parseTnsNamesOra"),z1=c((i,e,t,n)=>{var R,d,L,w,O,P,g,x,I,G,H;let o=em(i);if(!k_.existsSync(o))return e;n({message:"Found tnsnames.ora file: "+o});let T=tm(o);if(n({message:"tnsnames.ora successfully parsed"}),!T[e])return n({message:'Cannot find "'+e+'" in tnsnames.ora'}),e;let l=(L=(d=(R=T[e])==null?void 0:R.data)==null?void 0:d.description)==null?void 0:L.address,E=(g=(P=(O=(w=T[e])==null?void 0:w.data)==null?void 0:O.description)==null?void 0:P.connect_data)==null?void 0:g.service_name,S=(H=(G=(I=(x=T[e])==null?void 0:x.data)==null?void 0:I.description)==null?void 0:G.connect_data)==null?void 0:H.sid;return n({message:"tnsnames.ora",address:l,service:E}),jE(we.omitBy({...l,...t,protocol:(l==null?void 0:l.protocol)||"tcps",service:E||e,sid:S},we.isUndefined),n)},"getConnectionStringByTnsNames"),v_=c((i,e)=>i?e:"","combine"),jE=c(({protocol:i,host:e,port:t,sid:n,service:o,httpsProxy:T,httpsProxyPort:l},E)=>{let S=`(DESCRIPTION=
		(ADDRESS=
			(PROTOCOL=${i||"tcp"})
			(HOST=${e})
			(PORT=${t}))
			${v_(T,`(HTTPS_PROXY=${T})`)}
			${v_(l,`(HTTPS_PROXY_PORT=${l})`)}
		(CONNECT_DATA=
					${v_(n,`(SID=${n})`)}
					${v_(o,`(SERVICE_NAME=${o})`)}
		)
	)`;return E({message:"connectionString",connectionString:S}),S},"getConnectionDescription"),X1=c(async(i,e,t)=>{var T,l,E,S,R,d,L,w,O,P,g;let n={protocol:"",host:"",port:"",service:""};if(["Wallet","TNS"].includes(i.connectionMethod)){let x=em(i.configDir);if(!k_.existsSync(x))throw new Error("Cannot find tnsnames.ora file. Please, specify tnsnames folder or use Base connection method.");t({message:"Found tnsnames.ora file: "+x});let I=tm(x);if(!I[i.serviceName])throw new Error('Cannot find "'+i.serviceName+'" in tnsnames.ora');let G=(E=(l=(T=I[i.serviceName])==null?void 0:T.data)==null?void 0:l.description)==null?void 0:E.address,H=(L=(d=(R=(S=I[i.serviceName])==null?void 0:S.data)==null?void 0:R.description)==null?void 0:d.connect_data)==null?void 0:L.service_name,W=(g=(P=(O=(w=I[i.serviceName])==null?void 0:w.data)==null?void 0:O.description)==null?void 0:P.connect_data)==null?void 0:g.sid;t({message:"tnsnames.ora",address:G,service:H}),n.protocol=G==null?void 0:G.protocol,n.host=G==null?void 0:G.host,n.port=G==null?void 0:G.port,n.service=H||i.serviceName,n.sid=W}else n.host=i.host,n.port=i.port,n.service=i.serviceName,n.sid=i.sid;let{options:o}=await e.openTunnel({sshAuthMethod:i.sshConfig.ssh_method==="privateKey"?"IDENTITY_FILE":"USER_PASSWORD",sshTunnelHostname:i.sshConfig.ssh_host,sshTunnelPort:i.sshConfig.ssh_port,sshTunnelUsername:i.sshConfig.ssh_user,sshTunnelPassword:i.sshConfig.ssh_password,sshTunnelIdentityFile:i.sshConfig.ssh_key_file,sshTunnelPassphrase:i.sshConfig.ssh_key_passphrase,host:n.host,port:n.port});return jE({...n,host:o.host,port:o.port.toString()},t)},"getSshConnectionString"),Q1=c(async({walletFile:i,tempFolder:e,name:t,connectionMethod:n,TNSpath:o,host:T,port:l,userName:E,userPassword:S,serviceName:R,clientPath:d,clientType:L,queryRequestTimeout:w,authMethod:O,options:P,sid:g,ssh:x,ssh_user:I,ssh_host:G,ssh_port:H,ssh_method:W,ssh_key_file:ae,ssh_key_passphrase:ue,ssh_password:pe,authRole:Ye,mode:Ge},Qt,Br)=>{if(us)return us;let xs={thin:"thin",thick:"thick"},Pr,bi,bt={},or="";n==="Wallet"&&(Pr=await H1({walletFile:i,tempFolder:e,name:t})),n==="TNS"&&(Pr=o),L==="InstantClient"&&(bi=d),P!=null&&P.proxy&&(or=W1(P==null?void 0:P.proxy)),Ge!==xs.thin&&Fi.initOracleClient({libDir:bi,configDir:Pr});let Fs="";return["Wallet","TNS"].includes(n)?or?Fs=z1(Pr,R,or,Br):Fs=R:Fs=jE({host:T,port:l,sid:g,service:R},Br),x&&(JE=!0,Fs=await X1({host:T,port:l,configDir:Pr,serviceName:R,sid:g,connectionMethod:n,sshConfig:{ssh_user:I,ssh_host:G,ssh_port:H,ssh_method:W,ssh_key_file:ae,ssh_password:pe,ssh_key_passphrase:ue}},Qt,Br)),O==="OS"?bt.externalAuth=!0:O==="Kerberos"?(bt.username=E,bt.password=S,bt.externalAuth=!0):(bt.username=E,bt.password=S),j1({connectString:Fs,username:E,password:S,queryRequestTimeout:w,authRole:Ye})},"connect"),J1=c(async i=>us?(JE&&(JE=!1,await i.closeConsumer()),new Promise((e,t)=>{us.close(n=>{if(us=null,n)return t(n);e()})})):Promise.reject($R),"disconnect"),j1=c(({connectString:i,username:e,password:t,queryRequestTimeout:n,authRole:o})=>new Promise((T,l)=>{Fi.getConnection({username:e,password:t,connectString:i,privilege:o==="default"?void 0:Fi[o]},(E,S)=>{if(E)return us=null,l(E);try{S.callTimeout=Number(n||0),us=S,T()}catch(R){l(R)}})}),"authByCredentials"),Z1=c(async({includeSystemCollection:i,schemaName:e},t)=>{let n="SELECT USERNAME FROM ALL_USERS",o,T="";return e&&(T=`USERNAME = '${e}'`),i?o=`${n}${T?` WHERE ${T}`:""}`:o=`${n} WHERE ORACLE_MAINTAINED = 'N'${T?` AND ${T}`:""}`,await Bt(o).catch(l=>(t.info({message:"Cannot retrieve schema names"}),t.error(l),[]))},"getSchemaNames"),$1=c(i=>we.reduce(i,(e,t)=>({...e,[t[0]]:[...e[t[0]]||[],t[1]]}),{}),"pairToObj"),G_=c((i,e,t)=>{let n="";return t&&(n=`T.OWNER = '${t}'`),Bt(e?`${i}${n?` WHERE ${n}`:""}`:`${i} INNER JOIN ALL_USERS U ON T.OWNER = U.USERNAME WHERE U.ORACLE_MAINTAINED = 'N'${n?` AND ${n}`:""}`)},"selectEntities"),eM=c(({includeSystemCollection:i,schemaName:e})=>G_("SELECT T.OWNER, T.TABLE_NAME FROM ALL_TABLES T",i,e),"tableNamesByUser"),tM=c(({includeSystemCollection:i,schemaName:e})=>G_("SELECT T.OWNER, T.TABLE_NAME FROM ALL_EXTERNAL_TABLES T",i,e),"externalTableNamesByUser"),rM=c(({includeSystemCollection:i,schemaName:e})=>G_("SELECT T.OWNER, T.VIEW_NAME || ' (v)' FROM ALL_VIEWS T",i,e),"viewNamesByUser"),sM=c(({includeSystemCollection:i,schemaName:e})=>G_("SELECT T.OWNER, T.MVIEW_NAME || ' (v)' FROM ALL_MVIEWS T",i,e),"materializedViewNamesByUser"),nM=c(async(i,e)=>{let t=await sM(i).catch(S=>(e.info({message:"Cannot retrieve materialized views"}),e.error(S),[]));e.info({materializedViews:t});let n=t.map(S=>we.join(S,".").slice(0,-4)),o=await eM(i).then(S=>we.reject(S,R=>n.includes(we.join(R,".")))).catch(S=>(e.info({message:"Cannot retrieve tables"}),e.error(S),[]));e.info({tables:o});let T=await tM(i).catch(S=>(e.info({message:"Cannot retrieve external tables"}),e.error(S),[]));e.info({externalTables:T});let l=await rM(i).catch(S=>(e.info({message:"Cannot retrieve views"}),e.error(S),[]));e.info({views:l});let E=$1([...o,...T,...l,...t]);return Object.keys(E).reduce((S,R)=>[...S,{dbName:R,dbCollections:E[R],isEmpty:!E[R].length}],[])},"getEntitiesNames"),Bt=c((i,e={},t=[])=>us?new Promise((n,o)=>{us.execute(i,t,e,(T,l)=>{if(T)return o(T);n(l.rows)})}):Promise.reject($R),"execute"),iM=c(async i=>{var n,o;let e=["12c","18c","19c","21c","23ai"],t="21c";try{let T=await Bt("SELECT VERSION FROM PRODUCT_COMPONENT_VERSION WHERE product LIKE 'Oracle Database%'");i.log("info",T,"DB Version");let l=(o=(n=T==null?void 0:T[0])==null?void 0:n[0])==null?void 0:o.split(".").shift();return l&&e.find(S=>S.startsWith(l))||t}catch(T){return i.log("error",{message:T.message,stack:T.stack},"Error of getting DB Version"),t}},"getDbVersion"),oM=c(i=>i.slice(-4)===" (v)","isView"),_M=c(i=>{let e=we.partition(i,oM);return{views:e[0].map(t=>t.slice(0,-4)),tables:e[1]}},"splitEntityNames"),ZE=c(()=>Bt(`BEGIN
		DBMS_METADATA.SET_TRANSFORM_PARAM(DBMS_METADATA.SESSION_TRANSFORM,'SQLTERMINATOR', TRUE);
	END;`),"setSQLTerminator"),aM=c(async(i,e,t)=>{var n;try{await ZE();let o=await Bt(`
			SELECT JSON_OBJECT(
			'tableDDL' VALUE DBMS_METADATA.GET_DDL('TABLE', T.TABLE_NAME, T.OWNER),
			'countOfRecords' VALUE (SELECT COUNT(*) FROM ALL_TABLES WHERE TABLE_NAME='${i}'),
			'indexDDLs' VALUE (
				SELECT JSON_ARRAYAGG(DBMS_METADATA.GET_DDL('INDEX', INDEX_NAME, OWNER) RETURNING CLOB)
				FROM ALL_INDEXES
				WHERE TABLE_OWNER=T.OWNER 
					AND TABLE_NAME=T.TABLE_NAME
					AND INDEX_NAME NOT IN (
						SELECT CONSTRAINT_NAME 
						FROM ALL_CONSTRAINTS 
						WHERE CONSTRAINT_TYPE='P' 
						AND OWNER=T.OWNER 
						AND TABLE_NAME=T.TABLE_NAME
					)
				),
			'jsonColumns' VALUE (
				SELECT JSON_ARRAYAGG(JSON_OBJECT('name' VALUE COLUMN_NAME, 'datatype' VALUE DATA_TYPE) RETURNING CLOB)
				FROM ALL_TAB_COLUMNS 
				WHERE TABLE_NAME=T.TABLE_NAME 
				AND OWNER=T.OWNER
				AND DATA_TYPE IN ('CLOB', 'BLOB', 'NVARCHAR2', 'JSON')
			),
			'tableComment' VALUE (
				SELECT COMMENTS
				FROM ALL_TAB_COMMENTS 
				WHERE OWNER = T.OWNER AND TABLE_NAME = T.TABLE_NAME AND COMMENTS IS NOT NULL
			),
			'columnComments' VALUE (
				SELECT JSON_ARRAYAGG(JSON_OBJECT('name' VALUE COLUMN_NAME, 'comment' VALUE COMMENTS) RETURNING CLOB)
				FROM ALL_COL_COMMENTS
				WHERE OWNER = T.OWNER AND TABLE_NAME = T.TABLE_NAME  AND COMMENTS IS NOT NULL
			) RETURNING CLOB
			)
			FROM ALL_TABLES T
			WHERE T.OWNER='${e}' AND T.TABLE_NAME='${i}'
		`),T=await((n=we.first(we.first(o)))==null?void 0:n.getData());try{let l=JSON.parse(T);t.log("info",l,`Getting DDL from "${e}"."${i}"`);let E=l.tableComment?`COMMENT ON TABLE ${Vs(e)}.${Vs(i)} IS ${ZR(l.tableComment)};`:"",S=we.map(l.columnComments,d=>`COMMENT ON COLUMN ${Vs(e)}.${Vs(i)}.${Vs(d.name)}  IS ${ZR(d.comment)};`);return{ddl:`${l.tableDDL}
				${we.join(l.indexDDLs,`
`)}
				${E}

				${we.join(S,`
`)}`,jsonColumns:l.jsonColumns,countOfRecords:l.countOfRecords}}catch(l){return t.log("error",{message:`Cannot parse query result: 

`+T,error:{message:l.message,stack:l.stack,err:we.omit(l,["message","stack"])}},`Getting DDL from "${e}"."${i}"`),{ddl:"",jsonColumns:[],countOfRecords:0}}}catch(o){if((o==null?void 0:o.errorNum)===31603&&!await rm(t))throw o;return t.log("error",{message:"Cannot get DDL for table: "+i,error:{message:o.message,stack:o.stack,err:we.omit(o,["message","stack"])}},`Getting DDL from "${e}"."${i}"`),{ddl:"",jsonColumns:[],countOfRecords:0}}},"getDDL"),TM=c(i=>Object.keys(i).reduce(async(e,t)=>{let n=await e,o=i[t];return o instanceof Fi.Lob&&(o=await o.getData()),o instanceof Buffer&&(o=o.toString()),n[t]=o,n},Promise.resolve({})),"readLobs"),cM=c(async i=>await i.reduce(async(e,t)=>{let n=await e,o=await TM(t);return n.concat(o)},Promise.resolve([])),"readRecordsValues"),Vs=c(i=>/[\s\da-z]/.test(i)?`"${i}"`:i,"escapeName"),ZR=c(i=>`'${i.replaceAll("'","''")}'`,"escapeComment"),lM=c((i,e)=>e.map(t=>i.reduce((n,o)=>(n[o]=t[o],n),{})),"replaceNames"),uM=c(async({tableName:i,limit:e,jsonColumns:t,schema:n})=>{let o=we.map(t,E=>E.name),T=await Bt(`SELECT ${o.map(E=>Vs(E)).join(", ")} FROM ${Vs(n)}.${Vs(i)} FETCH NEXT ${e} ROWS ONLY`,{outFormat:Fi.OBJECT});return await cM(lM(o,T))},"selectRecords"),EM=c((i,e)=>{let t={number:"number",boolean:"boolean",string:"string"};return i.reduce((n,o)=>{if(n)return n;let T=o[e];return Array.isArray(T)?"array":typeof T=="object"?T?"object":"null":t[typeof T]??n},"")},"getJsonType"),hM=c(i=>`json${i.charAt(0).toUpperCase()}${i.slice(1)}`,"getJsonTypeName"),NM=c(async(i,e)=>{let t={CLOB:{type:"lobs",mode:"clob"},BLOB:{type:"lobs",mode:"blob"},NVARCHAR2:{type:"char",mode:"nvarchar2"},JSON:{type:"json"}};return{properties:i.reduce((o,T)=>{let l=T.name,E=T.datatype,S=t[E];if(!S)return o;let R=EM(e,l);if(!R)return o;let d=hM(R);return{...o,[l]:{...S,subtype:R,childType:"json",type:d}}},{})}},"getJsonSchema"),SM=c(async(i,e,t)=>{try{let n=await fM(i);if(await ZE(),n){t.log("info",{viewName:i,schema:e},'Is materialized view"');let l=await Bt(`SELECT JSON_OBJECT(
					'viewDDL' VALUE DBMS_METADATA.GET_DDL('MATERIALIZED_VIEW', MV.MVIEW_NAME, MV.OWNER),
					'indexDDLs' VALUE (
						SELECT JSON_ARRAYAGG(DBMS_METADATA.GET_DDL('INDEX', INDEX_NAME, OWNER) RETURNING CLOB)
						FROM ALL_INDEXES
						WHERE TABLE_OWNER=MV.OWNER 
							AND TABLE_NAME=MV.MVIEW_NAME
							AND INDEX_NAME NOT IN (
								SELECT CONSTRAINT_NAME 
								FROM ALL_CONSTRAINTS 
								WHERE CONSTRAINT_TYPE='P' 
								AND OWNER=MV.OWNER 
								AND TABLE_NAME=MV.MVIEW_NAME
							)
						)
					)
					FROM ALL_MVIEWS MV
					WHERE MV.OWNER='${e}' AND MV.MVIEW_NAME='${i}'`),E=we.first(we.first(l)),S=JSON.parse(E);return t.log("info",{viewName:i,schema:e},`Getting DDL from "${e}"."${i}"`),`${S.viewDDL}
${we.join(S.indexDDLs,`
`)}`}let o=await Bt(`SELECT DBMS_METADATA.GET_DDL('VIEW', VIEW_NAME, OWNER) FROM ALL_VIEWS WHERE VIEW_NAME='${i}'`);return await we.first(we.first(o)).getData()}catch(n){if((n==null?void 0:n.errorNum)===31603&&!await rm(t))throw n;return t.log("error",{message:"Cannot get DDL for view: "+i,error:{message:n.message,stack:n.stack,err:we.omit(n,["message","stack"])}},"Getting DDL"),""}},"getViewDDL"),fM=c(async i=>{await ZE();let e=await Bt(`SELECT * FROM ALL_MVIEWS WHERE MVIEW_NAME = '${i}'`);return!we.isEmpty(e)},"checkEntityMaterializedView"),rm=c(async i=>{var e;try{let t=await Bt("SELECT sys_context('USERENV', 'CURRENT_USER') FROM dual"),n=we.first(we.first(t));return((e=await Bt(`SELECT GRANTED_ROLE FROM USER_ROLE_PRIVS WHERE USERNAME = '${n}'`))==null?void 0:e.map(([T])=>T)).includes("SELECT_CATALOG_ROLE")}catch(t){return i.log("error",{message:"Checking user privileges error",error:{message:t.message,stack:t.stack,err:we.omit(t,["message","stack"])}},"Getting DDL"),!1}},"checkUserHaveRequiredRole"),AM=c(i=>{i.log("info",{TNS_ADMIN:process.env.TNS_ADMIN??"",ORACLE_HOME:process.env.ORACLE_HOME??"",LD_LIBRARY_PATH:process.env.LD_LIBRARY_PATH??"",ORACLE_BASE:process.env.ORACLE_BASE??""},"Environment variables")},"logEnvironment"),dM=c(async i=>{try{let e=await Bt("SELECT OWNER, SYNONYM_NAME, TABLE_OWNER, TABLE_NAME, DB_LINK FROM ALL_SYNONYMS WHERE ORIGIN_CON_ID > 1");if(we.isEmpty(e))return[];let t=e.map(([l,E,S,R])=>({synonymSchemaName:S,synonymPublic:l==="PUBLIC",synonymName:E,synonymEntityId:R}));i.log("info",t,"Getting synonyms");let n=await PM(),o=t.map(l=>{var R;let E=n.find(({name:d})=>d===l.synonymName),S=!((R=E==null?void 0:E.ddl)!=null&&R.toUpperCase().includes("NONEDITIONABLE"));return{...l,synonymEditionable:S?"EDITIONABLE":"NONEDITIONABLE"}});return we.groupBy(o,"synonymSchemaName")}catch(e){i.log("error",{message:"Cannot get synonyms",error:{message:e.message,stack:e.stack,err:we.omit(e,["message","stack"])}},"Getting synonyms")}},"getDbSynonyms"),PM=c(async()=>{let i=await Bt("SELECT SYNONYM_NAME, DBMS_METADATA.GET_DDL('SYNONYM', SYNONYM_NAME, OWNER) FROM ALL_SYNONYMS WHERE ORIGIN_CON_ID > 1");return await Promise.all(i.map(async([t,n])=>{let o=await n.getData();return new Promise(T=>T({name:t,ddl:o}))}))},"getSynonymsDDL");sm.exports={connect:Q1,disconnect:J1,getEntitiesNames:nM,getSchemaNames:Z1,splitEntityNames:_M,getDDL:aM,getJsonSchema:NM,getViewDDL:SM,getDbVersion:iM,selectRecords:uM,logEnvironment:AM,execute:Bt,getDbSynonyms:dM,getSchemaSequences:K1({execute:Bt})}});var H_=lT(),im=BS(),ir=nm();module.exports={async connect(i,e,t,n){let o=n.require("@hackolade/ssh-service");im("Connect to instance",i,e),ir.logEnvironment(e);try{await ir.connect(i,o,T=>{e.log("info",T,"Connection")}),t()}catch(T){throw om(e,T,t),T}},async disconnect(i,e,t,n){try{let o=n.require("@hackolade/ssh-service");await ir.disconnect(o),t(null)}catch(o){om(e,o,t)}},async testConnection(i,e,t,n){try{await this.connect(i,e,()=>{},n),t(null)}catch(o){e.log("error",{message:o.message,stack:o.stack,error:o},"Test connection"),t({message:o.message,stack:o.stack})}},async getSchemaNames(i,e,t,n){try{im("Get schemas",i,e),await this.connect(i,e,()=>{},n);let o=await ir.getSchemaNames();return e.log("info",o,"All schemas list",i.hiddenKeys),t(null,o)}catch(o){return e.log("error",{message:o.message,stack:o.stack,error:o},"Get schemas"),t({message:o.message,stack:o.stack})}},async getDbCollectionsNames(i,e,t,n){try{await this.connect(i,e,()=>{},n);let o=await ir.getEntitiesNames(i,{info:T=>{e.log("info",T,"Retrieving table and view names")},error:T=>{e.log("error",{message:T.message,stack:T.stack,error:T},"Retrieving databases and tables information")}});t(null,o)}catch(o){e.log("error",{message:o.message,stack:o.stack,error:o},"Retrieving databases and tables information"),t({message:o.message,stack:o.stack})}},async getDbCollectionsData(i,e,t,n){try{let o=c(({message:L,containerName:w="",entityName:O=""})=>{e.log("info",{message:L,schema:w,table:O},"Retrieving schema"),e.progress({message:L,containerName:w,entityName:O})},"progress");e.log("info",i,"Retrieving schema",i.hiddenKeys),o({message:"Start reverse-engineering process",containerName:"",entityName:""});let T=i.collectionData,l=T.collections,E=T.dataBaseNames,S=await ir.getDbVersion(e),R=await ir.getDbSynonyms(e),d=await E.reduce(async(L,w)=>{let O=await L,P=ir.splitEntityNames(l[w]),g=await ir.getSchemaSequences({schema:w,logger:e}),x=await P.tables.reduce(async(H,W)=>{let ae=await H;o({message:"Start getting data from table",containerName:w,entityName:W});let{ddl:ue,countOfRecords:pe,jsonColumns:Ye}=await ir.getDDL(W,w,e),Ge=[],Qt={};if(!H_.isEmpty(Ye)){let Br=pM(pe,i.recordSamplingSettings);o({message:`Fetching columns for JSON schema inference: ${JSON.stringify(Ye)}`,containerName:w,entityName:W}),Ge=await ir.selectRecords({tableName:W,limit:Br,jsonColumns:Ye,schema:w}),Qt=await ir.getJsonSchema(Ye,Ge)}return o({message:"Data retrieved successfully",containerName:w,entityName:W}),ae.concat({dbName:w,collectionName:W,entityLevel:{},documents:Ge,views:[],ddl:{script:ue,type:"oracle",takeAllDdlProperties:!0},emptyBucket:!1,validation:{jsonSchema:Qt},bucketInfo:{database:w,synonyms:(R==null?void 0:R[w])||[],sequences:g}})},Promise.resolve([])),I=await P.views.reduce(async(H,W)=>{let ae=await H;o({message:"Start getting data from view",containerName:w,entityName:W});let ue=await ir.getViewDDL(W,w,e);return o({message:"Data retrieved successfully",containerName:w,entityName:W}),ae.concat({name:W,data:{},ddl:{script:ue,type:"oracle",takeAllDdlProperties:!0}})},Promise.resolve([]));if(H_.isEmpty(I))return[...O,...x];let G={dbName:w,entityLevel:{},views:I,emptyBucket:!1,bucketInfo:{indexes:[],database:w,synonyms:(R==null?void 0:R[w])||[],sequences:g}};return[...O,...x,G]},Promise.resolve([]));o({message:"Start processing the retrieved data in the application ..."}),t(null,d.filter(Boolean),{version:S})}catch(o){if((o==null?void 0:o.errorNum)===31603)return e.log("error",{message:"Missing required role \u201CSELECT_CATALOG_ROLE\u201D to perform this operation",stack:o.stack,error:o},"Reverse-engineering process failed"),t({message:"Missing required role \u201CSELECT_CATALOG_ROLE\u201D to perform this operation",type:"simpleError"});e.log("error",{message:o.message,stack:o.stack,error:o},"Reverse-engineering process failed"),t({message:o.message,stack:o.stack})}}};var om=c((i,e,t)=>{let n=H_.isString(e)?e:H_.get(e,"message","Reverse Engineering error");i.log("error",{error:e},"Reverse Engineering error"),t(n)},"handleError"),pM=c((i,e)=>{if(e.active==="absolute")return Number(e.absolute.value);let t=Math.ceil(i*e.relative.value/100);return Math.min(t,e.maxValue)},"getSampleDocSize");
/*! Bundled license information:

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
